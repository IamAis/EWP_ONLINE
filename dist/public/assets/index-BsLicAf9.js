function ij(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var aj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var s0={exports:{}},vh={},o0={exports:{}},Yr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function oj(){if(Cx)return Yr;Cx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function y(te){return te===null||typeof te!="object"?null:(te=m&&te[m]||te["@@iterator"],typeof te=="function"?te:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function N(te,O,ee){this.props=te,this.context=O,this.refs=_,this.updater=ee||g}N.prototype.isReactComponent={},N.prototype.setState=function(te,O){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,O,"setState")},N.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function E(){}E.prototype=N.prototype;function T(te,O,ee){this.props=te,this.context=O,this.refs=_,this.updater=ee||g}var P=T.prototype=new E;P.constructor=T,k(P,N.prototype),P.isPureReactComponent=!0;var R=Array.isArray,M=Object.prototype.hasOwnProperty,Q={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function G(te,O,ee){var ne,le={},we=null,me=null;if(O!=null)for(ne in O.ref!==void 0&&(me=O.ref),O.key!==void 0&&(we=""+O.key),O)M.call(O,ne)&&!K.hasOwnProperty(ne)&&(le[ne]=O[ne]);var Ie=arguments.length-2;if(Ie===1)le.children=ee;else if(1<Ie){for(var Se=Array(Ie),ze=0;ze<Ie;ze++)Se[ze]=arguments[ze+2];le.children=Se}if(te&&te.defaultProps)for(ne in Ie=te.defaultProps,Ie)le[ne]===void 0&&(le[ne]=Ie[ne]);return{$$typeof:t,type:te,key:we,ref:me,props:le,_owner:Q.current}}function H(te,O){return{$$typeof:t,type:te.type,key:O,ref:te.ref,props:te.props,_owner:te._owner}}function oe(te){return typeof te=="object"&&te!==null&&te.$$typeof===t}function z(te){var O={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(ee){return O[ee]})}var U=/\/+/g;function W(te,O){return typeof te=="object"&&te!==null&&te.key!=null?z(""+te.key):O.toString(36)}function Y(te,O,ee,ne,le){var we=typeof te;(we==="undefined"||we==="boolean")&&(te=null);var me=!1;if(te===null)me=!0;else switch(we){case"string":case"number":me=!0;break;case"object":switch(te.$$typeof){case t:case e:me=!0}}if(me)return me=te,le=le(me),te=ne===""?"."+W(me,0):ne,R(le)?(ee="",te!=null&&(ee=te.replace(U,"$&/")+"/"),Y(le,O,ee,"",function(ze){return ze})):le!=null&&(oe(le)&&(le=H(le,ee+(!le.key||me&&me.key===le.key?"":(""+le.key).replace(U,"$&/")+"/")+te)),O.push(le)),1;if(me=0,ne=ne===""?".":ne+":",R(te))for(var Ie=0;Ie<te.length;Ie++){we=te[Ie];var Se=ne+W(we,Ie);me+=Y(we,O,ee,Se,le)}else if(Se=y(te),typeof Se=="function")for(te=Se.call(te),Ie=0;!(we=te.next()).done;)we=we.value,Se=ne+W(we,Ie++),me+=Y(we,O,ee,Se,le);else if(we==="object")throw O=String(te),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return me}function be(te,O,ee){if(te==null)return te;var ne=[],le=0;return Y(te,ne,"","",function(we){return O.call(ee,we,le++)}),ne}function he(te){if(te._status===-1){var O=te._result;O=O(),O.then(function(ee){(te._status===0||te._status===-1)&&(te._status=1,te._result=ee)},function(ee){(te._status===0||te._status===-1)&&(te._status=2,te._result=ee)}),te._status===-1&&(te._status=0,te._result=O)}if(te._status===1)return te._result.default;throw te._result}var ge={current:null},ie={transition:null},ve={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:ie,ReactCurrentOwner:Q};function _e(){throw Error("act(...) is not supported in production builds of React.")}return Yr.Children={map:be,forEach:function(te,O,ee){be(te,function(){O.apply(this,arguments)},ee)},count:function(te){var O=0;return be(te,function(){O++}),O},toArray:function(te){return be(te,function(O){return O})||[]},only:function(te){if(!oe(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},Yr.Component=N,Yr.Fragment=r,Yr.Profiler=i,Yr.PureComponent=T,Yr.StrictMode=n,Yr.Suspense=u,Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Yr.act=_e,Yr.cloneElement=function(te,O,ee){if(te==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+te+".");var ne=k({},te.props),le=te.key,we=te.ref,me=te._owner;if(O!=null){if(O.ref!==void 0&&(we=O.ref,me=Q.current),O.key!==void 0&&(le=""+O.key),te.type&&te.type.defaultProps)var Ie=te.type.defaultProps;for(Se in O)M.call(O,Se)&&!K.hasOwnProperty(Se)&&(ne[Se]=O[Se]===void 0&&Ie!==void 0?Ie[Se]:O[Se])}var Se=arguments.length-2;if(Se===1)ne.children=ee;else if(1<Se){Ie=Array(Se);for(var ze=0;ze<Se;ze++)Ie[ze]=arguments[ze+2];ne.children=Ie}return{$$typeof:t,type:te.type,key:le,ref:we,props:ne,_owner:me}},Yr.createContext=function(te){return te={$$typeof:o,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},te.Provider={$$typeof:a,_context:te},te.Consumer=te},Yr.createElement=G,Yr.createFactory=function(te){var O=G.bind(null,te);return O.type=te,O},Yr.createRef=function(){return{current:null}},Yr.forwardRef=function(te){return{$$typeof:l,render:te}},Yr.isValidElement=oe,Yr.lazy=function(te){return{$$typeof:f,_payload:{_status:-1,_result:te},_init:he}},Yr.memo=function(te,O){return{$$typeof:d,type:te,compare:O===void 0?null:O}},Yr.startTransition=function(te){var O=ie.transition;ie.transition={};try{te()}finally{ie.transition=O}},Yr.unstable_act=_e,Yr.useCallback=function(te,O){return ge.current.useCallback(te,O)},Yr.useContext=function(te){return ge.current.useContext(te)},Yr.useDebugValue=function(){},Yr.useDeferredValue=function(te){return ge.current.useDeferredValue(te)},Yr.useEffect=function(te,O){return ge.current.useEffect(te,O)},Yr.useId=function(){return ge.current.useId()},Yr.useImperativeHandle=function(te,O,ee){return ge.current.useImperativeHandle(te,O,ee)},Yr.useInsertionEffect=function(te,O){return ge.current.useInsertionEffect(te,O)},Yr.useLayoutEffect=function(te,O){return ge.current.useLayoutEffect(te,O)},Yr.useMemo=function(te,O){return ge.current.useMemo(te,O)},Yr.useReducer=function(te,O,ee){return ge.current.useReducer(te,O,ee)},Yr.useRef=function(te){return ge.current.useRef(te)},Yr.useState=function(te){return ge.current.useState(te)},Yr.useSyncExternalStore=function(te,O,ee){return ge.current.useSyncExternalStore(te,O,ee)},Yr.useTransition=function(){return ge.current.useTransition()},Yr.version="18.3.1",Yr}var Ax;function Rg(){return Ax||(Ax=1,o0.exports=oj()),o0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex;function lj(){if(Ex)return vh;Ex=1;var t=Rg(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var f,m={},y=null,g=null;d!==void 0&&(y=""+d),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(g=u.ref);for(f in u)n.call(u,f)&&!a.hasOwnProperty(f)&&(m[f]=u[f]);if(l&&l.defaultProps)for(f in u=l.defaultProps,u)m[f]===void 0&&(m[f]=u[f]);return{$$typeof:e,type:l,key:y,ref:g,props:m,_owner:i.current}}return vh.Fragment=r,vh.jsx=o,vh.jsxs=o,vh}var Px;function cj(){return Px||(Px=1,s0.exports=lj()),s0.exports}var h=cj(),om={},l0={exports:{}},Xs={},c0={exports:{}},u0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function uj(){return jx||(jx=1,function(t){function e(ie,ve){var _e=ie.length;ie.push(ve);e:for(;0<_e;){var te=_e-1>>>1,O=ie[te];if(0<i(O,ve))ie[te]=ve,ie[_e]=O,_e=te;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var ve=ie[0],_e=ie.pop();if(_e!==ve){ie[0]=_e;e:for(var te=0,O=ie.length,ee=O>>>1;te<ee;){var ne=2*(te+1)-1,le=ie[ne],we=ne+1,me=ie[we];if(0>i(le,_e))we<O&&0>i(me,le)?(ie[te]=me,ie[we]=_e,te=we):(ie[te]=le,ie[ne]=_e,te=ne);else if(we<O&&0>i(me,_e))ie[te]=me,ie[we]=_e,te=we;else break e}}return ve}function i(ie,ve){var _e=ie.sortIndex-ve.sortIndex;return _e!==0?_e:ie.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,m=null,y=3,g=!1,k=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ie){for(var ve=r(d);ve!==null;){if(ve.callback===null)n(d);else if(ve.startTime<=ie)n(d),ve.sortIndex=ve.expirationTime,e(u,ve);else break;ve=r(d)}}function R(ie){if(_=!1,P(ie),!k)if(r(u)!==null)k=!0,he(M);else{var ve=r(d);ve!==null&&ge(R,ve.startTime-ie)}}function M(ie,ve){k=!1,_&&(_=!1,E(G),G=-1),g=!0;var _e=y;try{for(P(ve),m=r(u);m!==null&&(!(m.expirationTime>ve)||ie&&!z());){var te=m.callback;if(typeof te=="function"){m.callback=null,y=m.priorityLevel;var O=te(m.expirationTime<=ve);ve=t.unstable_now(),typeof O=="function"?m.callback=O:m===r(u)&&n(u),P(ve)}else n(u);m=r(u)}if(m!==null)var ee=!0;else{var ne=r(d);ne!==null&&ge(R,ne.startTime-ve),ee=!1}return ee}finally{m=null,y=_e,g=!1}}var Q=!1,K=null,G=-1,H=5,oe=-1;function z(){return!(t.unstable_now()-oe<H)}function U(){if(K!==null){var ie=t.unstable_now();oe=ie;var ve=!0;try{ve=K(!0,ie)}finally{ve?W():(Q=!1,K=null)}}else Q=!1}var W;if(typeof T=="function")W=function(){T(U)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,be=Y.port2;Y.port1.onmessage=U,W=function(){be.postMessage(null)}}else W=function(){N(U,0)};function he(ie){K=ie,Q||(Q=!0,W())}function ge(ie,ve){G=N(function(){ie(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){k||g||(k=!0,he(M))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(ie){switch(y){case 1:case 2:case 3:var ve=3;break;default:ve=y}var _e=y;y=ve;try{return ie()}finally{y=_e}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,ve){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var _e=y;y=ie;try{return ve()}finally{y=_e}},t.unstable_scheduleCallback=function(ie,ve,_e){var te=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?te+_e:te):_e=te,ie){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=_e+O,ie={id:f++,callback:ve,priorityLevel:ie,startTime:_e,expirationTime:O,sortIndex:-1},_e>te?(ie.sortIndex=_e,e(d,ie),r(u)===null&&ie===r(d)&&(_?(E(G),G=-1):_=!0,ge(R,_e-te))):(ie.sortIndex=O,e(u,ie),k||g||(k=!0,he(M))),ie},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(ie){var ve=y;return function(){var _e=y;y=ve;try{return ie.apply(this,arguments)}finally{y=_e}}}}(u0)),u0}var Ix;function dj(){return Ix||(Ix=1,c0.exports=uj()),c0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function fj(){if(Tx)return Xs;Tx=1;var t=Rg(),e=dj();function r(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,c){o(s,c),o(s+"Capture",c)}function o(s,c){for(i[s]=c,s=0;s<c.length;s++)n.add(c[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function y(s){return u.call(m,s)?!0:u.call(f,s)?!1:d.test(s)?m[s]=!0:(f[s]=!0,!1)}function g(s,c,p,x){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,c,p,x){if(c===null||typeof c>"u"||g(s,c,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function _(s,c,p,x,C,L,J){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=C,this.mustUseProperty=p,this.propertyName=s,this.type=c,this.sanitizeURL=L,this.removeEmptyString=J}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var c=s[0];N[c]=new _(c,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function T(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var c=s.replace(E,T);N[c]=new _(c,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var c=s.replace(E,T);N[c]=new _(c,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var c=s.replace(E,T);N[c]=new _(c,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,c,p,x){var C=N.hasOwnProperty(c)?N[c]:null;(C!==null?C.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(k(c,p,C,x)&&(p=null),x||C===null?y(c)&&(p===null?s.removeAttribute(c):s.setAttribute(c,""+p)):C.mustUseProperty?s[C.propertyName]=p===null?C.type===3?!1:"":p:(c=C.attributeName,x=C.attributeNamespace,p===null?s.removeAttribute(c):(C=C.type,p=C===3||C===4&&p===!0?"":""+p,x?s.setAttributeNS(x,c,p):s.setAttribute(c,p))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),Q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),z=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),be=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ve(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var _e=Object.assign,te;function O(s){if(te===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);te=c&&c[1]||""}return`
`+te+s}var ee=!1;function ne(s,c){if(!s||ee)return"";ee=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Xe){var x=Xe}Reflect.construct(s,[],c)}else{try{c.call()}catch(Xe){x=Xe}s.call(c.prototype)}else{try{throw Error()}catch(Xe){x=Xe}s()}}catch(Xe){if(Xe&&x&&typeof Xe.stack=="string"){for(var C=Xe.stack.split(`
`),L=x.stack.split(`
`),J=C.length-1,ke=L.length-1;1<=J&&0<=ke&&C[J]!==L[ke];)ke--;for(;1<=J&&0<=ke;J--,ke--)if(C[J]!==L[ke]){if(J!==1||ke!==1)do if(J--,ke--,0>ke||C[J]!==L[ke]){var De=`
`+C[J].replace(" at new "," at ");return s.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",s.displayName)),De}while(1<=J&&0<=ke);break}}}finally{ee=!1,Error.prepareStackTrace=p}return(s=s?s.displayName||s.name:"")?O(s):""}function le(s){switch(s.tag){case 5:return O(s.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return s=ne(s.type,!1),s;case 11:return s=ne(s.type.render,!1),s;case 1:return s=ne(s.type,!0),s;default:return""}}function we(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case K:return"Fragment";case Q:return"Portal";case H:return"Profiler";case G:return"StrictMode";case W:return"Suspense";case Y:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case z:return(s.displayName||"Context")+".Consumer";case oe:return(s._context.displayName||"Context")+".Provider";case U:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case be:return c=s.displayName||null,c!==null?c:we(s.type)||"Memo";case he:c=s._payload,s=s._init;try{return we(s(c))}catch{}}return null}function me(s){var c=s.type;switch(s.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=c.render,s=s.displayName||s.name||"",c.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(c);case 8:return c===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Se(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ze(s){var c=Se(s)?"checked":"value",p=Object.getOwnPropertyDescriptor(s.constructor.prototype,c),x=""+s[c];if(!s.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var C=p.get,L=p.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return C.call(this)},set:function(J){x=""+J,L.call(this,J)}}),Object.defineProperty(s,c,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(J){x=""+J},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function rt(s){s._valueTracker||(s._valueTracker=ze(s))}function it(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var p=c.getValue(),x="";return s&&(x=Se(s)?s.checked?"true":"false":s.value),s=x,s!==p?(c.setValue(s),!0):!1}function pt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Je(s,c){var p=c.checked;return _e({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??s._wrapperState.initialChecked})}function ye(s,c){var p=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;p=Ie(c.value!=null?c.value:p),s._wrapperState={initialChecked:x,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function br(s,c){c=c.checked,c!=null&&P(s,"checked",c,!1)}function lr(s,c){br(s,c);var p=Ie(c.value),x=c.type;if(p!=null)x==="number"?(p===0&&s.value===""||s.value!=p)&&(s.value=""+p):s.value!==""+p&&(s.value=""+p);else if(x==="submit"||x==="reset"){s.removeAttribute("value");return}c.hasOwnProperty("value")?gt(s,c.type,p):c.hasOwnProperty("defaultValue")&&gt(s,c.type,Ie(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(s.defaultChecked=!!c.defaultChecked)}function nr(s,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+s._wrapperState.initialValue,p||c===s.value||(s.value=c),s.defaultValue=c}p=s.name,p!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,p!==""&&(s.name=p)}function gt(s,c,p){(c!=="number"||pt(s.ownerDocument)!==s)&&(p==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+p&&(s.defaultValue=""+p))}var pe=Array.isArray;function Ce(s,c,p,x){if(s=s.options,c){c={};for(var C=0;C<p.length;C++)c["$"+p[C]]=!0;for(p=0;p<s.length;p++)C=c.hasOwnProperty("$"+s[p].value),s[p].selected!==C&&(s[p].selected=C),C&&x&&(s[p].defaultSelected=!0)}else{for(p=""+Ie(p),c=null,C=0;C<s.length;C++){if(s[C].value===p){s[C].selected=!0,x&&(s[C].defaultSelected=!0);return}c!==null||s[C].disabled||(c=s[C])}c!==null&&(c.selected=!0)}}function We(s,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return _e({},c,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function at(s,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(r(92));if(pe(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),p=c}s._wrapperState={initialValue:Ie(p)}}function dt(s,c){var p=Ie(c.value),x=Ie(c.defaultValue);p!=null&&(p=""+p,p!==s.value&&(s.value=p),c.defaultValue==null&&s.defaultValue!==p&&(s.defaultValue=p)),x!=null&&(s.defaultValue=""+x)}function tt(s){var c=s.textContent;c===s._wrapperState.initialValue&&c!==""&&c!==null&&(s.value=c)}function mt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mt(s,c){return s==null||s==="http://www.w3.org/1999/xhtml"?mt(c):s==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Tt,Dt=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,x,C){MSApp.execUnsafeLocalFunction(function(){return s(c,p,x,C)})}:s}(function(s,c){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=c;else{for(Tt=Tt||document.createElement("div"),Tt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Tt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;c.firstChild;)s.appendChild(c.firstChild)}});function Qt(s,c){if(c){var p=s.firstChild;if(p&&p===s.lastChild&&p.nodeType===3){p.nodeValue=c;return}}s.textContent=c}var Ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gr=["Webkit","ms","Moz","O"];Object.keys(Ot).forEach(function(s){Gr.forEach(function(c){c=c+s.charAt(0).toUpperCase()+s.substring(1),Ot[c]=Ot[s]})});function zr(s,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Ot.hasOwnProperty(s)&&Ot[s]?(""+c).trim():c+"px"}function Ut(s,c){s=s.style;for(var p in c)if(c.hasOwnProperty(p)){var x=p.indexOf("--")===0,C=zr(p,c[p],x);p==="float"&&(p="cssFloat"),x?s.setProperty(p,C):s[p]=C}}var cr=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(s,c){if(c){if(cr[s]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function Zt(s,c){if(s.indexOf("-")===-1)return typeof c.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sr=null;function pr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var bt=null,bn=null,Qr=null;function mr(s){if(s=Gc(s)){if(typeof bt!="function")throw Error(r(280));var c=s.stateNode;c&&(c=Gu(c),bt(s.stateNode,s.type,c))}}function tn(s){bn?Qr?Qr.push(s):Qr=[s]:bn=s}function Ms(){if(bn){var s=bn,c=Qr;if(Qr=bn=null,mr(s),c)for(s=0;s<c.length;s++)mr(c[s])}}function Pi(s,c){return s(c)}function Bs(){}var ji=!1;function ir(s,c,p){if(ji)return s(c,p);ji=!0;try{return Pi(s,c,p)}finally{ji=!1,(bn!==null||Qr!==null)&&(Bs(),Ms())}}function na(s,c){var p=s.stateNode;if(p===null)return null;var x=Gu(p);if(x===null)return null;p=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(s=s.type,x=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!x;break e;default:s=!1}if(s)return null;if(p&&typeof p!="function")throw Error(r(231,c,typeof p));return p}var Sa=!1;if(l)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){Sa=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{Sa=!1}function sn(s,c,p,x,C,L,J,ke,De){var Xe=Array.prototype.slice.call(arguments,3);try{c.apply(p,Xe)}catch(yt){this.onError(yt)}}var xn=!1,jn=null,Fn=!1,Ga=null,jo={onError:function(s){xn=!0,jn=s}};function gi(s,c,p,x,C,L,J,ke,De){xn=!1,jn=null,sn.apply(jo,arguments)}function ia(s,c,p,x,C,L,J,ke,De){if(gi.apply(this,arguments),xn){if(xn){var Xe=jn;xn=!1,jn=null}else throw Error(r(198));Fn||(Fn=!0,Ga=Xe)}}function In(s){var c=s,p=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(p=c.return),s=c.return;while(s)}return c.tag===3?p:null}function aa(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function Ma(s){if(In(s)!==s)throw Error(r(188))}function _a(s){var c=s.alternate;if(!c){if(c=In(s),c===null)throw Error(r(188));return c!==s?null:s}for(var p=s,x=c;;){var C=p.return;if(C===null)break;var L=C.alternate;if(L===null){if(x=C.return,x!==null){p=x;continue}break}if(C.child===L.child){for(L=C.child;L;){if(L===p)return Ma(C),s;if(L===x)return Ma(C),c;L=L.sibling}throw Error(r(188))}if(p.return!==x.return)p=C,x=L;else{for(var J=!1,ke=C.child;ke;){if(ke===p){J=!0,p=C,x=L;break}if(ke===x){J=!0,x=C,p=L;break}ke=ke.sibling}if(!J){for(ke=L.child;ke;){if(ke===p){J=!0,p=L,x=C;break}if(ke===x){J=!0,x=L,p=C;break}ke=ke.sibling}if(!J)throw Error(r(189))}}if(p.alternate!==x)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?s:c}function Ka(s){return s=_a(s),s!==null?ka(s):null}function ka(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var c=ka(s);if(c!==null)return c;s=s.sibling}return null}var Io=e.unstable_scheduleCallback,no=e.unstable_cancelCallback,wn=e.unstable_shouldYield,io=e.unstable_requestPaint,Zr=e.unstable_now,ic=e.unstable_getCurrentPriorityLevel,vs=e.unstable_ImmediatePriority,$i=e.unstable_UserBlockingPriority,zs=e.unstable_NormalPriority,jl=e.unstable_LowPriority,Ya=e.unstable_IdlePriority,To=null,qi=null;function ac(s){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(To,s,void 0,(s.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:sc,Uc=Math.log,Kn=Math.LN2;function sc(s){return s>>>=0,s===0?32:31-(Uc(s)/Kn|0)|0}var nn=64,Wi=4194304;function sa(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function li(s,c){var p=s.pendingLanes;if(p===0)return 0;var x=0,C=s.suspendedLanes,L=s.pingedLanes,J=p&268435455;if(J!==0){var ke=J&~C;ke!==0?x=sa(ke):(L&=J,L!==0&&(x=sa(L)))}else J=p&~C,J!==0?x=sa(J):L!==0&&(x=sa(L));if(x===0)return 0;if(c!==0&&c!==x&&(c&C)===0&&(C=x&-x,L=c&-c,C>=L||C===16&&(L&4194240)!==0))return c;if((x&4)!==0&&(x|=p&16),c=s.entangledLanes,c!==0)for(s=s.entanglements,c&=x;0<c;)p=31-dr(c),C=1<<p,x|=s[p],c&=~C;return x}function ao(s,c){switch(s){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mn(s,c){for(var p=s.suspendedLanes,x=s.pingedLanes,C=s.expirationTimes,L=s.pendingLanes;0<L;){var J=31-dr(L),ke=1<<J,De=C[J];De===-1?((ke&p)===0||(ke&x)!==0)&&(C[J]=ao(ke,c)):De<=c&&(s.expiredLanes|=ke),L&=~ke}}function Us(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function oc(){var s=nn;return nn<<=1,(nn&4194240)===0&&(nn=64),s}function Do(s){for(var c=[],p=0;31>p;p++)c.push(s);return c}function Lo(s,c,p){s.pendingLanes|=c,c!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,c=31-dr(c),s[c]=p}function Na(s,c){var p=s.pendingLanes&~c;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=c,s.mutableReadLanes&=c,s.entangledLanes&=c,c=s.entanglements;var x=s.eventTimes;for(s=s.expirationTimes;0<p;){var C=31-dr(p),L=1<<C;c[C]=0,x[C]=-1,s[C]=-1,p&=~L}}function Qo(s,c){var p=s.entangledLanes|=c;for(s=s.entanglements;p;){var x=31-dr(p),C=1<<x;C&c|s[x]&c&&(s[x]|=c),p&=~C}}var rn=0;function Lr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ro,lc,$c,Vi,ys,Ja=!1,vi=[],bs=null,oa=null,on=null,Xt=new Map,xs=new Map,Ca=[],cc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ws(s,c){switch(s){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Xt.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(c.pointerId)}}function Ba(s,c,p,x,C,L){return s===null||s.nativeEvent!==L?(s={blockedOn:c,domEventName:p,eventSystemFlags:x,nativeEvent:L,targetContainers:[C]},c!==null&&(c=Gc(c),c!==null&&lc(c)),s):(s.eventSystemFlags|=x,c=s.targetContainers,C!==null&&c.indexOf(C)===-1&&c.push(C),s)}function yi(s,c,p,x,C){switch(c){case"focusin":return bs=Ba(bs,s,c,p,x,C),!0;case"dragenter":return oa=Ba(oa,s,c,p,x,C),!0;case"mouseover":return on=Ba(on,s,c,p,x,C),!0;case"pointerover":var L=C.pointerId;return Xt.set(L,Ba(Xt.get(L)||null,s,c,p,x,C)),!0;case"gotpointercapture":return L=C.pointerId,xs.set(L,Ba(xs.get(L)||null,s,c,p,x,C)),!0}return!1}function Il(s){var c=Ml(s.target);if(c!==null){var p=In(c);if(p!==null){if(c=p.tag,c===13){if(c=aa(p),c!==null){s.blockedOn=c,ys(s.priority,function(){$c(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){s.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zo(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var p=lo(s.domEventName,s.eventSystemFlags,c[0],s.nativeEvent);if(p===null){p=s.nativeEvent;var x=new p.constructor(p.type,p);Sr=x,p.target.dispatchEvent(x),Sr=null}else return c=Gc(p),c!==null&&lc(c),s.blockedOn=p,!1;c.shift()}return!0}function so(s,c,p){Zo(s)&&p.delete(c)}function oo(){Ja=!1,bs!==null&&Zo(bs)&&(bs=null),oa!==null&&Zo(oa)&&(oa=null),on!==null&&Zo(on)&&(on=null),Xt.forEach(so),xs.forEach(so)}function za(s,c){s.blockedOn===c&&(s.blockedOn=null,Ja||(Ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oo)))}function Ss(s){function c(C){return za(C,s)}if(0<vi.length){za(vi[0],s);for(var p=1;p<vi.length;p++){var x=vi[p];x.blockedOn===s&&(x.blockedOn=null)}}for(bs!==null&&za(bs,s),oa!==null&&za(oa,s),on!==null&&za(on,s),Xt.forEach(c),xs.forEach(c),p=0;p<Ca.length;p++)x=Ca[p],x.blockedOn===s&&(x.blockedOn=null);for(;0<Ca.length&&(p=Ca[0],p.blockedOn===null);)Il(p),p.blockedOn===null&&Ca.shift()}var _s=R.ReactCurrentBatchConfig,$s=!0;function uc(s,c,p,x){var C=rn,L=_s.transition;_s.transition=null;try{rn=1,Qa(s,c,p,x)}finally{rn=C,_s.transition=L}}function dc(s,c,p,x){var C=rn,L=_s.transition;_s.transition=null;try{rn=4,Qa(s,c,p,x)}finally{rn=C,_s.transition=L}}function Qa(s,c,p,x){if($s){var C=lo(s,c,p,x);if(C===null)Wu(s,c,x,Ua,p),ws(s,x);else if(yi(C,s,c,p,x))x.stopPropagation();else if(ws(s,x),c&4&&-1<cc.indexOf(s)){for(;C!==null;){var L=Gc(C);if(L!==null&&Ro(L),L=lo(s,c,p,x),L===null&&Wu(s,c,x,Ua,p),L===C)break;C=L}C!==null&&x.stopPropagation()}else Wu(s,c,x,null,p)}}var Ua=null;function lo(s,c,p,x){if(Ua=null,s=pr(x),s=Ml(s),s!==null)if(c=In(s),c===null)s=null;else if(p=c.tag,p===13){if(s=aa(c),s!==null)return s;s=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null);return Ua=s,null}function Xo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ic()){case vs:return 1;case $i:return 4;case zs:case jl:return 16;case Ya:return 536870912;default:return 16}default:return 16}}var Za=null,co=null,qs=null;function Oo(){if(qs)return qs;var s,c=co,p=c.length,x,C="value"in Za?Za.value:Za.textContent,L=C.length;for(s=0;s<p&&c[s]===C[s];s++);var J=p-s;for(x=1;x<=J&&c[p-x]===C[L-x];x++);return qs=C.slice(s,1<x?1-x:void 0)}function Ii(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function Hi(){return!0}function A(){return!1}function q(s){function c(p,x,C,L,J){this._reactName=p,this._targetInst=C,this.type=x,this.nativeEvent=L,this.target=J,this.currentTarget=null;for(var ke in s)s.hasOwnProperty(ke)&&(p=s[ke],this[ke]=p?p(L):L[ke]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?Hi:A,this.isPropagationStopped=A,this}return _e(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),c}var fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ee=q(fe),Be=_e({},fe,{view:0,detail:0}),lt=q(Be),ft,Ft,$t,qt=_e({},Be,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==$t&&($t&&s.type==="mousemove"?(ft=s.screenX-$t.screenX,Ft=s.screenY-$t.screenY):Ft=ft=0,$t=s),ft)},movementY:function(s){return"movementY"in s?s.movementY:Ft}}),xr=q(qt),Wr=_e({},qt,{dataTransfer:0}),Tn=q(Wr),Bn=_e({},Be,{relatedTarget:0}),an=q(Bn),Zn=_e({},fe,{animationName:0,elapsedTime:0,pseudoElement:0}),zn=q(Zn),ci=_e({},fe,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),la=q(ci),Ws=_e({},fe,{data:0}),Tl=q(Ws),el={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Xa[s])?!!c[s]:!1}function Vs(){return fc}var ks=_e({},Be,{key:function(s){if(s.key){var c=el[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=Ii(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?uo[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(s){return s.type==="keypress"?Ii(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ii(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),bi=q(ks),Ns=_e({},qt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=q(Ns),Dl=_e({},Be,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),Ll=q(Dl),ca=_e({},fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),hc=q(ca),tl=_e({},qt,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),qc=q(tl),Xn=[9,13,27,32],Gi=l&&"CompositionEvent"in window,Hs=null;l&&"documentMode"in document&&(Hs=document.documentMode);var Rl=l&&"TextEvent"in window&&!Hs,fo=l&&(!Gi||Hs&&8<Hs&&11>=Hs),rl=" ",ua=!1;function xi(s,c){switch(s){case"keyup":return Xn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ki(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Vr=!1;function Cs(s,c){switch(s){case"compositionend":return Ki(c);case"keypress":return c.which!==32?null:(ua=!0,rl);case"textInput":return s=c.data,s===rl&&ua?null:s;default:return null}}function Yi(s,c){if(Vr)return s==="compositionend"||!Gi&&xi(s,c)?(s=Oo(),qs=co=Za=null,Vr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return fo&&c.locale!=="ko"?null:c.data;default:return null}}var Fo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Fo[s.type]:c==="textarea"}function pc(s,c,p,x){tn(x),c=jd(c,"onChange"),0<c.length&&(p=new Ee("onChange","change",null,p,x),s.push({event:p,listeners:c}))}var ei=null,Ji=null;function As(s){$u(s,0)}function da(s){var c=yc(s);if(it(c))return s}function nl(s,c){if(s==="change")return c}var b=!1;if(l){var S;if(l){var I="oninput"in document;if(!I){var B=document.createElement("div");B.setAttribute("oninput","return;"),I=typeof B.oninput=="function"}S=I}else S=!1;b=S&&(!document.documentMode||9<document.documentMode)}function $(){ei&&(ei.detachEvent("onpropertychange",Z),Ji=ei=null)}function Z(s){if(s.propertyName==="value"&&da(Ji)){var c=[];pc(c,Ji,s,pr(s)),ir(As,c)}}function ce(s,c,p){s==="focusin"?($(),ei=c,Ji=p,ei.attachEvent("onpropertychange",Z)):s==="focusout"&&$()}function xe(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return da(Ji)}function Ae(s,c){if(s==="click")return da(c)}function Pe(s,c){if(s==="input"||s==="change")return da(c)}function Le(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var Ne=typeof Object.is=="function"?Object.is:Le;function Ue(s,c){if(Ne(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var p=Object.keys(s),x=Object.keys(c);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var C=p[x];if(!u.call(c,C)||!Ne(s[C],c[C]))return!1}return!0}function je(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Me(s,c){var p=je(s);s=0;for(var x;p;){if(p.nodeType===3){if(x=s+p.textContent.length,s<=c&&x>=c)return{node:p,offset:c-s};s=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=je(p)}}function $e(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?$e(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function Oe(){for(var s=window,c=pt();c instanceof s.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)s=c.contentWindow;else break;c=pt(s.document)}return c}function Ke(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}function Qe(s){var c=Oe(),p=s.focusedElem,x=s.selectionRange;if(c!==p&&p&&p.ownerDocument&&$e(p.ownerDocument.documentElement,p)){if(x!==null&&Ke(p)){if(c=x.start,s=x.end,s===void 0&&(s=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(s,p.value.length);else if(s=(c=p.ownerDocument||document)&&c.defaultView||window,s.getSelection){s=s.getSelection();var C=p.textContent.length,L=Math.min(x.start,C);x=x.end===void 0?L:Math.min(x.end,C),!s.extend&&L>x&&(C=x,x=L,L=C),C=Me(p,L);var J=Me(p,x);C&&J&&(s.rangeCount!==1||s.anchorNode!==C.node||s.anchorOffset!==C.offset||s.focusNode!==J.node||s.focusOffset!==J.offset)&&(c=c.createRange(),c.setStart(C.node,C.offset),s.removeAllRanges(),L>x?(s.addRange(c),s.extend(J.node,J.offset)):(c.setEnd(J.node,J.offset),s.addRange(c)))}}for(c=[],s=p;s=s.parentNode;)s.nodeType===1&&c.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)s=c[p],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Ze=l&&"documentMode"in document&&11>=document.documentMode,ot=null,xt=null,Ct=null,wt=!1;function kt(s,c,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;wt||ot==null||ot!==pt(x)||(x=ot,"selectionStart"in x&&Ke(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ct&&Ue(Ct,x)||(Ct=x,x=jd(xt,"onSelect"),0<x.length&&(c=new Ee("onSelect","select",null,c,p),s.push({event:c,listeners:x}),c.target=ot)))}function Pt(s,c){var p={};return p[s.toLowerCase()]=c.toLowerCase(),p["Webkit"+s]="webkit"+c,p["Moz"+s]="moz"+c,p}var Nt={animationend:Pt("Animation","AnimationEnd"),animationiteration:Pt("Animation","AnimationIteration"),animationstart:Pt("Animation","AnimationStart"),transitionend:Pt("Transition","TransitionEnd")},Lt={},Cr={};l&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Nt.animationend.animation,delete Nt.animationiteration.animation,delete Nt.animationstart.animation),"TransitionEvent"in window||delete Nt.transitionend.transition);function jr(s){if(Lt[s])return Lt[s];if(!Nt[s])return s;var c=Nt[s],p;for(p in c)if(c.hasOwnProperty(p)&&p in Cr)return Lt[s]=c[p];return s}var Rr=jr("animationend"),fa=jr("animationiteration"),_r=jr("animationstart"),wi=jr("transitionend"),Si=new Map,Ol="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(s,c){Si.set(s,c),a(c,[s])}for(var ts=0;ts<Ol.length;ts++){var Ti=Ol[ts],Gs=Ti.toLowerCase(),Ed=Ti[0].toUpperCase()+Ti.slice(1);Ln(Gs,"on"+Ed)}Ln(Rr,"onAnimationEnd"),Ln(fa,"onAnimationIteration"),Ln(_r,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(wi,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function Uu(s,c,p){var x=s.type||"unknown-event";s.currentTarget=p,ia(x,c,void 0,s),s.currentTarget=null}function $u(s,c){c=(c&4)!==0;for(var p=0;p<s.length;p++){var x=s[p],C=x.event;x=x.listeners;e:{var L=void 0;if(c)for(var J=x.length-1;0<=J;J--){var ke=x[J],De=ke.instance,Xe=ke.currentTarget;if(ke=ke.listener,De!==L&&C.isPropagationStopped())break e;Uu(C,ke,Xe),L=De}else for(J=0;J<x.length;J++){if(ke=x[J],De=ke.instance,Xe=ke.currentTarget,ke=ke.listener,De!==L&&C.isPropagationStopped())break e;Uu(C,ke,Xe),L=De}}}if(Fn)throw s=Ga,Fn=!1,Ga=null,s}function Nn(s,c){var p=c[ns];p===void 0&&(p=c[ns]=new Set);var x=s+"__bubble";p.has(x)||(qu(c,s,2,!1),p.add(x))}function Pd(s,c,p){var x=0;c&&(x|=4),qu(p,s,x,c)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function mc(s){if(!s[Wc]){s[Wc]=!0,n.forEach(function(p){p!=="selectionchange"&&(Ap.has(p)||Pd(p,!1,s),Pd(p,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[Wc]||(c[Wc]=!0,Pd("selectionchange",!1,c))}}function qu(s,c,p,x){switch(Xo(c)){case 1:var C=uc;break;case 4:C=dc;break;default:C=Qa}p=C.bind(null,c,p,s),C=void 0,!Sa||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(C=!0),x?C!==void 0?s.addEventListener(c,p,{capture:!0,passive:C}):s.addEventListener(c,p,!0):C!==void 0?s.addEventListener(c,p,{passive:C}):s.addEventListener(c,p,!1)}function Wu(s,c,p,x,C){var L=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var J=x.tag;if(J===3||J===4){var ke=x.stateNode.containerInfo;if(ke===C||ke.nodeType===8&&ke.parentNode===C)break;if(J===4)for(J=x.return;J!==null;){var De=J.tag;if((De===3||De===4)&&(De=J.stateNode.containerInfo,De===C||De.nodeType===8&&De.parentNode===C))return;J=J.return}for(;ke!==null;){if(J=Ml(ke),J===null)return;if(De=J.tag,De===5||De===6){x=L=J;continue e}ke=ke.parentNode}}x=x.return}ir(function(){var Xe=L,yt=pr(p),St=[];e:{var vt=Si.get(s);if(vt!==void 0){var Bt=Ee,Yt=s;switch(s){case"keypress":if(Ii(p)===0)break e;case"keydown":case"keyup":Bt=bi;break;case"focusin":Yt="focus",Bt=an;break;case"focusout":Yt="blur",Bt=an;break;case"beforeblur":case"afterblur":Bt=an;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Bt=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Bt=Tn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Bt=Ll;break;case Rr:case fa:case _r:Bt=zn;break;case wi:Bt=hc;break;case"scroll":Bt=lt;break;case"wheel":Bt=qc;break;case"copy":case"cut":case"paste":Bt=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Bt=es}var er=(c&4)!==0,Ri=!er&&s==="scroll",He=er?vt!==null?vt+"Capture":null:vt;er=[];for(var Fe=Xe,Ye;Fe!==null;){Ye=Fe;var At=Ye.stateNode;if(Ye.tag===5&&At!==null&&(Ye=At,He!==null&&(At=na(Fe,He),At!=null&&er.push(Vu(Fe,At,Ye)))),Ri)break;Fe=Fe.return}0<er.length&&(vt=new Bt(vt,Yt,null,p,yt),St.push({event:vt,listeners:er}))}}if((c&7)===0){e:{if(vt=s==="mouseover"||s==="pointerover",Bt=s==="mouseout"||s==="pointerout",vt&&p!==Sr&&(Yt=p.relatedTarget||p.fromElement)&&(Ml(Yt)||Yt[Aa]))break e;if((Bt||vt)&&(vt=yt.window===yt?yt:(vt=yt.ownerDocument)?vt.defaultView||vt.parentWindow:window,Bt?(Yt=p.relatedTarget||p.toElement,Bt=Xe,Yt=Yt?Ml(Yt):null,Yt!==null&&(Ri=In(Yt),Yt!==Ri||Yt.tag!==5&&Yt.tag!==6)&&(Yt=null)):(Bt=null,Yt=Xe),Bt!==Yt)){if(er=xr,At="onMouseLeave",He="onMouseEnter",Fe="mouse",(s==="pointerout"||s==="pointerover")&&(er=es,At="onPointerLeave",He="onPointerEnter",Fe="pointer"),Ri=Bt==null?vt:yc(Bt),Ye=Yt==null?vt:yc(Yt),vt=new er(At,Fe+"leave",Bt,p,yt),vt.target=Ri,vt.relatedTarget=Ye,At=null,Ml(yt)===Xe&&(er=new er(He,Fe+"enter",Yt,p,yt),er.target=Ye,er.relatedTarget=Ri,At=er),Ri=At,Bt&&Yt)t:{for(er=Bt,He=Yt,Fe=0,Ye=er;Ye;Ye=gc(Ye))Fe++;for(Ye=0,At=He;At;At=gc(At))Ye++;for(;0<Fe-Ye;)er=gc(er),Fe--;for(;0<Ye-Fe;)He=gc(He),Ye--;for(;Fe--;){if(er===He||He!==null&&er===He.alternate)break t;er=gc(er),He=gc(He)}er=null}else er=null;Bt!==null&&Ep(St,vt,Bt,er,!1),Yt!==null&&Ri!==null&&Ep(St,Ri,Yt,er,!0)}}e:{if(vt=Xe?yc(Xe):window,Bt=vt.nodeName&&vt.nodeName.toLowerCase(),Bt==="select"||Bt==="input"&&vt.type==="file")var ar=nl;else if(Dn(vt))if(b)ar=Pe;else{ar=xe;var gr=ce}else(Bt=vt.nodeName)&&Bt.toLowerCase()==="input"&&(vt.type==="checkbox"||vt.type==="radio")&&(ar=Ae);if(ar&&(ar=ar(s,Xe))){pc(St,ar,p,yt);break e}gr&&gr(s,vt,Xe),s==="focusout"&&(gr=vt._wrapperState)&&gr.controlled&&vt.type==="number"&&gt(vt,"number",vt.value)}switch(gr=Xe?yc(Xe):window,s){case"focusin":(Dn(gr)||gr.contentEditable==="true")&&(ot=gr,xt=Xe,Ct=null);break;case"focusout":Ct=xt=ot=null;break;case"mousedown":wt=!0;break;case"contextmenu":case"mouseup":case"dragend":wt=!1,kt(St,p,yt);break;case"selectionchange":if(Ze)break;case"keydown":case"keyup":kt(St,p,yt)}var vr;if(Gi)e:{switch(s){case"compositionstart":var Ar="onCompositionStart";break e;case"compositionend":Ar="onCompositionEnd";break e;case"compositionupdate":Ar="onCompositionUpdate";break e}Ar=void 0}else Vr?xi(s,p)&&(Ar="onCompositionEnd"):s==="keydown"&&p.keyCode===229&&(Ar="onCompositionStart");Ar&&(fo&&p.locale!=="ko"&&(Vr||Ar!=="onCompositionStart"?Ar==="onCompositionEnd"&&Vr&&(vr=Oo()):(Za=yt,co="value"in Za?Za.value:Za.textContent,Vr=!0)),gr=jd(Xe,Ar),0<gr.length&&(Ar=new Tl(Ar,s,null,p,yt),St.push({event:Ar,listeners:gr}),vr?Ar.data=vr:(vr=Ki(p),vr!==null&&(Ar.data=vr)))),(vr=Rl?Cs(s,p):Yi(s,p))&&(Xe=jd(Xe,"onBeforeInput"),0<Xe.length&&(yt=new Tl("onBeforeInput","beforeinput",null,p,yt),St.push({event:yt,listeners:Xe}),yt.data=vr))}$u(St,c)})}function Vu(s,c,p){return{instance:s,listener:c,currentTarget:p}}function jd(s,c){for(var p=c+"Capture",x=[];s!==null;){var C=s,L=C.stateNode;C.tag===5&&L!==null&&(C=L,L=na(s,p),L!=null&&x.unshift(Vu(s,L,C)),L=na(s,c),L!=null&&x.push(Vu(s,L,C))),s=s.return}return x}function gc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ep(s,c,p,x,C){for(var L=c._reactName,J=[];p!==null&&p!==x;){var ke=p,De=ke.alternate,Xe=ke.stateNode;if(De!==null&&De===x)break;ke.tag===5&&Xe!==null&&(ke=Xe,C?(De=na(p,L),De!=null&&J.unshift(Vu(p,De,ke))):C||(De=na(p,L),De!=null&&J.push(Vu(p,De,ke)))),p=p.return}J.length!==0&&s.push({event:c,listeners:J})}var xv=/\r\n?/g,wv=/\u0000|\uFFFD/g;function Pp(s){return(typeof s=="string"?s:""+s).replace(xv,`
`).replace(wv,"")}function Id(s,c,p){if(c=Pp(c),Pp(s)!==c&&p)throw Error(r(425))}function Vc(){}var Hu=null,vc=null;function th(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var rh=typeof setTimeout=="function"?setTimeout:void 0,jp=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,Sv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(s){return Ip.resolve(null).then(s).catch(_v)}:rh;function _v(s){setTimeout(function(){throw s})}function nh(s,c){var p=c,x=0;do{var C=p.nextSibling;if(s.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"){if(x===0){s.removeChild(C),Ss(c);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=C}while(p);Ss(c)}function $a(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return s}function Ks(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return s;c--}else p==="/$"&&c++}s=s.previousSibling}return null}var rs=Math.random().toString(36).slice(2),Mo="__reactFiber$"+rs,Hc="__reactProps$"+rs,Aa="__reactContainer$"+rs,ns="__reactEvents$"+rs,kv="__reactListeners$"+rs,Nv="__reactHandles$"+rs;function Ml(s){var c=s[Mo];if(c)return c;for(var p=s.parentNode;p;){if(c=p[Aa]||p[Mo]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(s=Ks(s);s!==null;){if(p=s[Mo])return p;s=Ks(s)}return c}s=p,p=s.parentNode}return null}function Gc(s){return s=s[Mo]||s[Aa],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function yc(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Gu(s){return s[Hc]||null}var ih=[],il=-1;function ho(s){return{current:s}}function vn(s){0>il||(s.current=ih[il],ih[il]=null,il--)}function Sn(s,c){il++,ih[il]=s.current,s.current=c}var Bl={},ha=ho(Bl),is=ho(!1),bc=Bl;function Kc(s,c){var p=s.type.contextTypes;if(!p)return Bl;var x=s.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var C={},L;for(L in p)C[L]=c[L];return x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=c,s.__reactInternalMemoizedMaskedChildContext=C),C}function as(s){return s=s.childContextTypes,s!=null}function Td(){vn(is),vn(ha)}function Tp(s,c,p){if(ha.current!==Bl)throw Error(r(168));Sn(ha,c),Sn(is,p)}function ah(s,c,p){var x=s.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var C in x)if(!(C in c))throw Error(r(108,me(s)||"Unknown",C));return _e({},p,x)}function xc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Bl,bc=ha.current,Sn(ha,s),Sn(is,is.current),!0}function Dp(s,c,p){var x=s.stateNode;if(!x)throw Error(r(169));p?(s=ah(s,c,bc),x.__reactInternalMemoizedMergedChildContext=s,vn(is),vn(ha),Sn(ha,s)):vn(is),Sn(is,p)}var al=null,Ku=!1,v=!1;function w(s){al===null?al=[s]:al.push(s)}function j(s){Ku=!0,w(s)}function F(){if(!v&&al!==null){v=!0;var s=0,c=rn;try{var p=al;for(rn=1;s<p.length;s++){var x=p[s];do x=x(!0);while(x!==null)}al=null,Ku=!1}catch(C){throw al!==null&&(al=al.slice(s+1)),Io(vs,F),C}finally{rn=c,v=!1}}return null}var V=[],X=0,re=null,ae=0,se=[],ue=0,Te=null,Ve=1,de="";function Re(s,c){V[X++]=ae,V[X++]=re,re=s,ae=c}function qe(s,c,p){se[ue++]=Ve,se[ue++]=de,se[ue++]=Te,Te=s;var x=Ve;s=de;var C=32-dr(x)-1;x&=~(1<<C),p+=1;var L=32-dr(c)+C;if(30<L){var J=C-C%5;L=(x&(1<<J)-1).toString(32),x>>=J,C-=J,Ve=1<<32-dr(c)+C|p<<C|x,de=L+s}else Ve=1<<L|p<<C|x,de=s}function st(s){s.return!==null&&(Re(s,1),qe(s,1,0))}function Ge(s){for(;s===re;)re=V[--X],V[X]=null,ae=V[--X],V[X]=null;for(;s===Te;)Te=se[--ue],se[ue]=null,de=se[--ue],se[ue]=null,Ve=se[--ue],se[ue]=null}var et=null,nt=null,ct=!1,ut=null;function rr(s,c){var p=qo(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=s,c=s.deletions,c===null?(s.deletions=[p],s.flags|=16):c.push(p)}function Vt(s,c){switch(s.tag){case 5:var p=s.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(s.stateNode=c,et=s,nt=$a(c.firstChild),!0):!1;case 6:return c=s.pendingProps===""||c.nodeType!==3?null:c,c!==null?(s.stateNode=c,et=s,nt=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=Te!==null?{id:Ve,overflow:de}:null,s.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=qo(18,null,null,0),p.stateNode=c,p.return=s,s.child=p,et=s,nt=null,!0):!1;default:return!1}}function Tr(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Kt(s){if(ct){var c=nt;if(c){var p=c;if(!Vt(s,c)){if(Tr(s))throw Error(r(418));c=$a(p.nextSibling);var x=et;c&&Vt(s,c)?rr(x,p):(s.flags=s.flags&-4097|2,ct=!1,et=s)}}else{if(Tr(s))throw Error(r(418));s.flags=s.flags&-4097|2,ct=!1,et=s}}}function Kr(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;et=s}function ti(s){if(s!==et)return!1;if(!ct)return Kr(s),ct=!0,!1;var c;if((c=s.tag!==3)&&!(c=s.tag!==5)&&(c=s.type,c=c!=="head"&&c!=="body"&&!th(s.type,s.memoizedProps)),c&&(c=nt)){if(Tr(s))throw Or(),Error(r(418));for(;c;)rr(s,c),c=$a(c.nextSibling)}if(Kr(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,c=0;s;){if(s.nodeType===8){var p=s.data;if(p==="/$"){if(c===0){nt=$a(s.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}s=s.nextSibling}nt=null}}else nt=et?$a(s.stateNode.nextSibling):null;return!0}function Or(){for(var s=nt;s;)s=$a(s.nextSibling)}function Ht(){nt=et=null,ct=!1}function It(s){ut===null?ut=[s]:ut.push(s)}var ui=R.ReactCurrentBatchConfig;function kr(s,c,p){if(s=p.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var x=p.stateNode}if(!x)throw Error(r(147,s));var C=x,L=""+s;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===L?c.ref:(c=function(J){var ke=C.refs;J===null?delete ke[L]:ke[L]=J},c._stringRef=L,c)}if(typeof s!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,s))}return s}function Hr(s,c){throw s=Object.prototype.toString.call(c),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s))}function Rn(s){var c=s._init;return c(s._payload)}function Qi(s){function c(He,Fe){if(s){var Ye=He.deletions;Ye===null?(He.deletions=[Fe],He.flags|=16):Ye.push(Fe)}}function p(He,Fe){if(!s)return null;for(;Fe!==null;)c(He,Fe),Fe=Fe.sibling;return null}function x(He,Fe){for(He=new Map;Fe!==null;)Fe.key!==null?He.set(Fe.key,Fe):He.set(Fe.index,Fe),Fe=Fe.sibling;return He}function C(He,Fe){return He=iu(He,Fe),He.index=0,He.sibling=null,He}function L(He,Fe,Ye){return He.index=Ye,s?(Ye=He.alternate,Ye!==null?(Ye=Ye.index,Ye<Fe?(He.flags|=2,Fe):Ye):(He.flags|=2,Fe)):(He.flags|=1048576,Fe)}function J(He){return s&&He.alternate===null&&(He.flags|=2),He}function ke(He,Fe,Ye,At){return Fe===null||Fe.tag!==6?(Fe=e0(Ye,He.mode,At),Fe.return=He,Fe):(Fe=C(Fe,Ye),Fe.return=He,Fe)}function De(He,Fe,Ye,At){var ar=Ye.type;return ar===K?yt(He,Fe,Ye.props.children,At,Ye.key):Fe!==null&&(Fe.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===he&&Rn(ar)===Fe.type)?(At=C(Fe,Ye.props),At.ref=kr(He,Fe,Ye),At.return=He,At):(At=Xp(Ye.type,Ye.key,Ye.props,null,He.mode,At),At.ref=kr(He,Fe,Ye),At.return=He,At)}function Xe(He,Fe,Ye,At){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Ye.containerInfo||Fe.stateNode.implementation!==Ye.implementation?(Fe=t0(Ye,He.mode,At),Fe.return=He,Fe):(Fe=C(Fe,Ye.children||[]),Fe.return=He,Fe)}function yt(He,Fe,Ye,At,ar){return Fe===null||Fe.tag!==7?(Fe=rd(Ye,He.mode,At,ar),Fe.return=He,Fe):(Fe=C(Fe,Ye),Fe.return=He,Fe)}function St(He,Fe,Ye){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Fe=e0(""+Fe,He.mode,Ye),Fe.return=He,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case M:return Ye=Xp(Fe.type,Fe.key,Fe.props,null,He.mode,Ye),Ye.ref=kr(He,null,Fe),Ye.return=He,Ye;case Q:return Fe=t0(Fe,He.mode,Ye),Fe.return=He,Fe;case he:var At=Fe._init;return St(He,At(Fe._payload),Ye)}if(pe(Fe)||ve(Fe))return Fe=rd(Fe,He.mode,Ye,null),Fe.return=He,Fe;Hr(He,Fe)}return null}function vt(He,Fe,Ye,At){var ar=Fe!==null?Fe.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return ar!==null?null:ke(He,Fe,""+Ye,At);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case M:return Ye.key===ar?De(He,Fe,Ye,At):null;case Q:return Ye.key===ar?Xe(He,Fe,Ye,At):null;case he:return ar=Ye._init,vt(He,Fe,ar(Ye._payload),At)}if(pe(Ye)||ve(Ye))return ar!==null?null:yt(He,Fe,Ye,At,null);Hr(He,Ye)}return null}function Bt(He,Fe,Ye,At,ar){if(typeof At=="string"&&At!==""||typeof At=="number")return He=He.get(Ye)||null,ke(Fe,He,""+At,ar);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case M:return He=He.get(At.key===null?Ye:At.key)||null,De(Fe,He,At,ar);case Q:return He=He.get(At.key===null?Ye:At.key)||null,Xe(Fe,He,At,ar);case he:var gr=At._init;return Bt(He,Fe,Ye,gr(At._payload),ar)}if(pe(At)||ve(At))return He=He.get(Ye)||null,yt(Fe,He,At,ar,null);Hr(Fe,At)}return null}function Yt(He,Fe,Ye,At){for(var ar=null,gr=null,vr=Fe,Ar=Fe=0,Ta=null;vr!==null&&Ar<Ye.length;Ar++){vr.index>Ar?(Ta=vr,vr=null):Ta=vr.sibling;var hn=vt(He,vr,Ye[Ar],At);if(hn===null){vr===null&&(vr=Ta);break}s&&vr&&hn.alternate===null&&c(He,vr),Fe=L(hn,Fe,Ar),gr===null?ar=hn:gr.sibling=hn,gr=hn,vr=Ta}if(Ar===Ye.length)return p(He,vr),ct&&Re(He,Ar),ar;if(vr===null){for(;Ar<Ye.length;Ar++)vr=St(He,Ye[Ar],At),vr!==null&&(Fe=L(vr,Fe,Ar),gr===null?ar=vr:gr.sibling=vr,gr=vr);return ct&&Re(He,Ar),ar}for(vr=x(He,vr);Ar<Ye.length;Ar++)Ta=Bt(vr,He,Ar,Ye[Ar],At),Ta!==null&&(s&&Ta.alternate!==null&&vr.delete(Ta.key===null?Ar:Ta.key),Fe=L(Ta,Fe,Ar),gr===null?ar=Ta:gr.sibling=Ta,gr=Ta);return s&&vr.forEach(function(au){return c(He,au)}),ct&&Re(He,Ar),ar}function er(He,Fe,Ye,At){var ar=ve(Ye);if(typeof ar!="function")throw Error(r(150));if(Ye=ar.call(Ye),Ye==null)throw Error(r(151));for(var gr=ar=null,vr=Fe,Ar=Fe=0,Ta=null,hn=Ye.next();vr!==null&&!hn.done;Ar++,hn=Ye.next()){vr.index>Ar?(Ta=vr,vr=null):Ta=vr.sibling;var au=vt(He,vr,hn.value,At);if(au===null){vr===null&&(vr=Ta);break}s&&vr&&au.alternate===null&&c(He,vr),Fe=L(au,Fe,Ar),gr===null?ar=au:gr.sibling=au,gr=au,vr=Ta}if(hn.done)return p(He,vr),ct&&Re(He,Ar),ar;if(vr===null){for(;!hn.done;Ar++,hn=Ye.next())hn=St(He,hn.value,At),hn!==null&&(Fe=L(hn,Fe,Ar),gr===null?ar=hn:gr.sibling=hn,gr=hn);return ct&&Re(He,Ar),ar}for(vr=x(He,vr);!hn.done;Ar++,hn=Ye.next())hn=Bt(vr,He,Ar,hn.value,At),hn!==null&&(s&&hn.alternate!==null&&vr.delete(hn.key===null?Ar:hn.key),Fe=L(hn,Fe,Ar),gr===null?ar=hn:gr.sibling=hn,gr=hn);return s&&vr.forEach(function(nj){return c(He,nj)}),ct&&Re(He,Ar),ar}function Ri(He,Fe,Ye,At){if(typeof Ye=="object"&&Ye!==null&&Ye.type===K&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case M:e:{for(var ar=Ye.key,gr=Fe;gr!==null;){if(gr.key===ar){if(ar=Ye.type,ar===K){if(gr.tag===7){p(He,gr.sibling),Fe=C(gr,Ye.props.children),Fe.return=He,He=Fe;break e}}else if(gr.elementType===ar||typeof ar=="object"&&ar!==null&&ar.$$typeof===he&&Rn(ar)===gr.type){p(He,gr.sibling),Fe=C(gr,Ye.props),Fe.ref=kr(He,gr,Ye),Fe.return=He,He=Fe;break e}p(He,gr);break}else c(He,gr);gr=gr.sibling}Ye.type===K?(Fe=rd(Ye.props.children,He.mode,At,Ye.key),Fe.return=He,He=Fe):(At=Xp(Ye.type,Ye.key,Ye.props,null,He.mode,At),At.ref=kr(He,Fe,Ye),At.return=He,He=At)}return J(He);case Q:e:{for(gr=Ye.key;Fe!==null;){if(Fe.key===gr)if(Fe.tag===4&&Fe.stateNode.containerInfo===Ye.containerInfo&&Fe.stateNode.implementation===Ye.implementation){p(He,Fe.sibling),Fe=C(Fe,Ye.children||[]),Fe.return=He,He=Fe;break e}else{p(He,Fe);break}else c(He,Fe);Fe=Fe.sibling}Fe=t0(Ye,He.mode,At),Fe.return=He,He=Fe}return J(He);case he:return gr=Ye._init,Ri(He,Fe,gr(Ye._payload),At)}if(pe(Ye))return Yt(He,Fe,Ye,At);if(ve(Ye))return er(He,Fe,Ye,At);Hr(He,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"?(Ye=""+Ye,Fe!==null&&Fe.tag===6?(p(He,Fe.sibling),Fe=C(Fe,Ye),Fe.return=He,He=Fe):(p(He,Fe),Fe=e0(Ye,He.mode,At),Fe.return=He,He=Fe),J(He)):p(He,Fe)}return Ri}var _i=Qi(!0),Yn=Qi(!1),Di=ho(null),Zi=null,Wn=null,Xr=null;function ln(){Xr=Wn=Zi=null}function Vn(s){var c=Di.current;vn(Di),s._currentValue=c}function cn(s,c,p){for(;s!==null;){var x=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),s===p)break;s=s.return}}function ri(s,c){Zi=s,Xr=Wn=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&c)!==0&&(Js=!0),s.firstContext=null)}function ni(s){var c=s._currentValue;if(Xr!==s)if(s={context:s,memoizedValue:c,next:null},Wn===null){if(Zi===null)throw Error(r(308));Wn=s,Zi.dependencies={lanes:0,firstContext:s}}else Wn=Wn.next=s;return c}var Cn=null;function Ea(s){Cn===null?Cn=[s]:Cn.push(s)}function _n(s,c,p,x){var C=c.interleaved;return C===null?(p.next=p,Ea(c)):(p.next=C.next,C.next=p),c.interleaved=p,An(s,x)}function An(s,c){s.lanes|=c;var p=s.alternate;for(p!==null&&(p.lanes|=c),p=s,s=s.return;s!==null;)s.childLanes|=c,p=s.alternate,p!==null&&(p.childLanes|=c),p=s,s=s.return;return p.tag===3?p.stateNode:null}var ki=!1;function pa(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ss(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function di(s,c){return{eventTime:s,lane:c,tag:0,payload:null,callback:null,next:null}}function fi(s,c,p){var x=s.updateQueue;if(x===null)return null;if(x=x.shared,(un&2)!==0){var C=x.pending;return C===null?c.next=c:(c.next=C.next,C.next=c),x.pending=c,An(s,p)}return C=x.interleaved,C===null?(c.next=c,Ea(x)):(c.next=C.next,C.next=c),x.interleaved=c,An(s,p)}function Pa(s,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var x=c.lanes;x&=s.pendingLanes,p|=x,c.lanes=p,Qo(s,p)}}function En(s,c){var p=s.updateQueue,x=s.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var C=null,L=null;if(p=p.firstBaseUpdate,p!==null){do{var J={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};L===null?C=L=J:L=L.next=J,p=p.next}while(p!==null);L===null?C=L=c:L=L.next=c}else C=L=c;p={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:L,shared:x.shared,effects:x.effects},s.updateQueue=p;return}s=p.lastBaseUpdate,s===null?p.firstBaseUpdate=c:s.next=c,p.lastBaseUpdate=c}function ja(s,c,p,x){var C=s.updateQueue;ki=!1;var L=C.firstBaseUpdate,J=C.lastBaseUpdate,ke=C.shared.pending;if(ke!==null){C.shared.pending=null;var De=ke,Xe=De.next;De.next=null,J===null?L=Xe:J.next=Xe,J=De;var yt=s.alternate;yt!==null&&(yt=yt.updateQueue,ke=yt.lastBaseUpdate,ke!==J&&(ke===null?yt.firstBaseUpdate=Xe:ke.next=Xe,yt.lastBaseUpdate=De))}if(L!==null){var St=C.baseState;J=0,yt=Xe=De=null,ke=L;do{var vt=ke.lane,Bt=ke.eventTime;if((x&vt)===vt){yt!==null&&(yt=yt.next={eventTime:Bt,lane:0,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null});e:{var Yt=s,er=ke;switch(vt=c,Bt=p,er.tag){case 1:if(Yt=er.payload,typeof Yt=="function"){St=Yt.call(Bt,St,vt);break e}St=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=er.payload,vt=typeof Yt=="function"?Yt.call(Bt,St,vt):Yt,vt==null)break e;St=_e({},St,vt);break e;case 2:ki=!0}}ke.callback!==null&&ke.lane!==0&&(s.flags|=64,vt=C.effects,vt===null?C.effects=[ke]:vt.push(ke))}else Bt={eventTime:Bt,lane:vt,tag:ke.tag,payload:ke.payload,callback:ke.callback,next:null},yt===null?(Xe=yt=Bt,De=St):yt=yt.next=Bt,J|=vt;if(ke=ke.next,ke===null){if(ke=C.shared.pending,ke===null)break;vt=ke,ke=vt.next,vt.next=null,C.lastBaseUpdate=vt,C.shared.pending=null}}while(!0);if(yt===null&&(De=St),C.baseState=De,C.firstBaseUpdate=Xe,C.lastBaseUpdate=yt,c=C.shared.interleaved,c!==null){C=c;do J|=C.lane,C=C.next;while(C!==c)}else L===null&&(C.shared.lanes=0);Zu|=J,s.lanes=J,s.memoizedState=St}}function Ys(s,c,p){if(s=c.effects,c.effects=null,s!==null)for(c=0;c<s.length;c++){var x=s[c],C=x.callback;if(C!==null){if(x.callback=null,x=p,typeof C!="function")throw Error(r(191,C));C.call(x)}}}var po={},Xi=ho(po),hi=ho(po),zl=ho(po);function sl(s){if(s===po)throw Error(r(174));return s}function Yc(s,c){switch(Sn(zl,c),Sn(hi,s),Sn(Xi,po),s=c.nodeType,s){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Mt(null,"");break;default:s=s===8?c.parentNode:c,c=s.namespaceURI||null,s=s.tagName,c=Mt(c,s)}vn(Xi),Sn(Xi,c)}function Bo(){vn(Xi),vn(hi),vn(zl)}function Lp(s){sl(zl.current);var c=sl(Xi.current),p=Mt(c,s.type);c!==p&&(Sn(hi,s),Sn(Xi,p))}function sh(s){hi.current===s&&(vn(Xi),vn(hi))}var Un=ho(0);function mo(s){for(var c=s;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var oh=[];function lh(){for(var s=0;s<oh.length;s++)oh[s]._workInProgressVersionPrimary=null;oh.length=0}var Dd=R.ReactCurrentDispatcher,Ld=R.ReactCurrentBatchConfig,zo=0,Hn=null,Ni=null,pi=null,Jc=!1,ol=!1,Qc=0,Cv=0;function Li(){throw Error(r(321))}function Rd(s,c){if(c===null)return!1;for(var p=0;p<c.length&&p<s.length;p++)if(!Ne(s[p],c[p]))return!1;return!0}function Yu(s,c,p,x,C,L){if(zo=L,Hn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Dd.current=s===null||s.memoizedState===null?PP:jP,s=p(x,C),ol){L=0;do{if(ol=!1,Qc=0,25<=L)throw Error(r(301));L+=1,pi=Ni=null,c.updateQueue=null,Dd.current=IP,s=p(x,C)}while(ol)}if(Dd.current=Bp,c=Ni!==null&&Ni.next!==null,zo=0,pi=Ni=Hn=null,Jc=!1,c)throw Error(r(300));return s}function Uo(){var s=Qc!==0;return Qc=0,s}function go(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?Hn.memoizedState=pi=s:pi=pi.next=s,pi}function Es(){if(Ni===null){var s=Hn.alternate;s=s!==null?s.memoizedState:null}else s=Ni.next;var c=pi===null?Hn.memoizedState:pi.next;if(c!==null)pi=c,Ni=s;else{if(s===null)throw Error(r(310));Ni=s,s={memoizedState:Ni.memoizedState,baseState:Ni.baseState,baseQueue:Ni.baseQueue,queue:Ni.queue,next:null},pi===null?Hn.memoizedState=pi=s:pi=pi.next=s}return pi}function Ju(s,c){return typeof c=="function"?c(s):c}function Od(s){var c=Es(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var x=Ni,C=x.baseQueue,L=p.pending;if(L!==null){if(C!==null){var J=C.next;C.next=L.next,L.next=J}x.baseQueue=C=L,p.pending=null}if(C!==null){L=C.next,x=x.baseState;var ke=J=null,De=null,Xe=L;do{var yt=Xe.lane;if((zo&yt)===yt)De!==null&&(De=De.next={lane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),x=Xe.hasEagerState?Xe.eagerState:s(x,Xe.action);else{var St={lane:yt,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null};De===null?(ke=De=St,J=x):De=De.next=St,Hn.lanes|=yt,Zu|=yt}Xe=Xe.next}while(Xe!==null&&Xe!==L);De===null?J=x:De.next=ke,Ne(x,c.memoizedState)||(Js=!0),c.memoizedState=x,c.baseState=J,c.baseQueue=De,p.lastRenderedState=x}if(s=p.interleaved,s!==null){C=s;do L=C.lane,Hn.lanes|=L,Zu|=L,C=C.next;while(C!==s)}else C===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Ul(s){var c=Es(),p=c.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=s;var x=p.dispatch,C=p.pending,L=c.memoizedState;if(C!==null){p.pending=null;var J=C=C.next;do L=s(L,J.action),J=J.next;while(J!==C);Ne(L,c.memoizedState)||(Js=!0),c.memoizedState=L,c.baseQueue===null&&(c.baseState=L),p.lastRenderedState=L}return[L,x]}function Rp(){}function ch(s,c){var p=Hn,x=Es(),C=c(),L=!Ne(x.memoizedState,C);if(L&&(x.memoizedState=C,Js=!0),x=x.queue,Bd(Fp.bind(null,p,x,s),[s]),x.getSnapshot!==c||L||pi!==null&&pi.memoizedState.tag&1){if(p.flags|=2048,Ps(9,uh.bind(null,p,x,C,c),void 0,null),Ia===null)throw Error(r(349));(zo&30)!==0||Op(p,c,C)}return C}function Op(s,c,p){s.flags|=16384,s={getSnapshot:c,value:p},c=Hn.updateQueue,c===null?(c={lastEffect:null,stores:null},Hn.updateQueue=c,c.stores=[s]):(p=c.stores,p===null?c.stores=[s]:p.push(s))}function uh(s,c,p,x){c.value=p,c.getSnapshot=x,Zc(c)&&Fd(s)}function Fp(s,c,p){return p(function(){Zc(c)&&Fd(s)})}function Zc(s){var c=s.getSnapshot;s=s.value;try{var p=c();return!Ne(s,p)}catch{return!0}}function Fd(s){var c=An(s,1);c!==null&&fl(c,s,1,-1)}function Qu(s){var c=go();return typeof s=="function"&&(s=s()),c.memoizedState=c.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ju,lastRenderedState:s},c.queue=s,s=s.dispatch=EP.bind(null,Hn,s),[c.memoizedState,s]}function Ps(s,c,p,x){return s={tag:s,create:c,destroy:p,deps:x,next:null},c=Hn.updateQueue,c===null?(c={lastEffect:null,stores:null},Hn.updateQueue=c,c.lastEffect=s.next=s):(p=c.lastEffect,p===null?c.lastEffect=s.next=s:(x=p.next,p.next=s,s.next=x,c.lastEffect=s)),s}function ll(){return Es().memoizedState}function vo(s,c,p,x){var C=go();Hn.flags|=s,C.memoizedState=Ps(1|c,p,void 0,x===void 0?null:x)}function wc(s,c,p,x){var C=Es();x=x===void 0?null:x;var L=void 0;if(Ni!==null){var J=Ni.memoizedState;if(L=J.destroy,x!==null&&Rd(x,J.deps)){C.memoizedState=Ps(c,p,L,x);return}}Hn.flags|=s,C.memoizedState=Ps(1|c,p,L,x)}function Md(s,c){return vo(8390656,8,s,c)}function Bd(s,c){return wc(2048,8,s,c)}function Mp(s,c){return wc(4,2,s,c)}function zd(s,c){return wc(4,4,s,c)}function Ud(s,c){if(typeof c=="function")return s=s(),c(s),function(){c(null)};if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function k2(s,c,p){return p=p!=null?p.concat([s]):null,wc(4,4,Ud.bind(null,c,s),p)}function Av(){}function N2(s,c){var p=Es();c=c===void 0?null:c;var x=p.memoizedState;return x!==null&&c!==null&&Rd(c,x[1])?x[0]:(p.memoizedState=[s,c],s)}function C2(s,c){var p=Es();c=c===void 0?null:c;var x=p.memoizedState;return x!==null&&c!==null&&Rd(c,x[1])?x[0]:(s=s(),p.memoizedState=[s,c],s)}function A2(s,c,p){return(zo&21)===0?(s.baseState&&(s.baseState=!1,Js=!0),s.memoizedState=p):(Ne(p,c)||(p=oc(),Hn.lanes|=p,Zu|=p,s.baseState=!0),c)}function CP(s,c){var p=rn;rn=p!==0&&4>p?p:4,s(!0);var x=Ld.transition;Ld.transition={};try{s(!1),c()}finally{rn=p,Ld.transition=x}}function E2(){return Es().memoizedState}function AP(s,c,p){var x=ru(s);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},P2(s))j2(c,p);else if(p=_n(s,c,p,x),p!==null){var C=Is();fl(p,s,x,C),I2(p,c,x)}}function EP(s,c,p){var x=ru(s),C={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(P2(s))j2(c,C);else{var L=s.alternate;if(s.lanes===0&&(L===null||L.lanes===0)&&(L=c.lastRenderedReducer,L!==null))try{var J=c.lastRenderedState,ke=L(J,p);if(C.hasEagerState=!0,C.eagerState=ke,Ne(ke,J)){var De=c.interleaved;De===null?(C.next=C,Ea(c)):(C.next=De.next,De.next=C),c.interleaved=C;return}}catch{}finally{}p=_n(s,c,C,x),p!==null&&(C=Is(),fl(p,s,x,C),I2(p,c,x))}}function P2(s){var c=s.alternate;return s===Hn||c!==null&&c===Hn}function j2(s,c){ol=Jc=!0;var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}function I2(s,c,p){if((p&4194240)!==0){var x=c.lanes;x&=s.pendingLanes,p|=x,c.lanes=p,Qo(s,p)}}var Bp={readContext:ni,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},PP={readContext:ni,useCallback:function(s,c){return go().memoizedState=[s,c===void 0?null:c],s},useContext:ni,useEffect:Md,useImperativeHandle:function(s,c,p){return p=p!=null?p.concat([s]):null,vo(4194308,4,Ud.bind(null,c,s),p)},useLayoutEffect:function(s,c){return vo(4194308,4,s,c)},useInsertionEffect:function(s,c){return vo(4,2,s,c)},useMemo:function(s,c){var p=go();return c=c===void 0?null:c,s=s(),p.memoizedState=[s,c],s},useReducer:function(s,c,p){var x=go();return c=p!==void 0?p(c):c,x.memoizedState=x.baseState=c,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:c},x.queue=s,s=s.dispatch=AP.bind(null,Hn,s),[x.memoizedState,s]},useRef:function(s){var c=go();return s={current:s},c.memoizedState=s},useState:Qu,useDebugValue:Av,useDeferredValue:function(s){return go().memoizedState=s},useTransition:function(){var s=Qu(!1),c=s[0];return s=CP.bind(null,s[1]),go().memoizedState=s,[c,s]},useMutableSource:function(){},useSyncExternalStore:function(s,c,p){var x=Hn,C=go();if(ct){if(p===void 0)throw Error(r(407));p=p()}else{if(p=c(),Ia===null)throw Error(r(349));(zo&30)!==0||Op(x,c,p)}C.memoizedState=p;var L={value:p,getSnapshot:c};return C.queue=L,Md(Fp.bind(null,x,L,s),[s]),x.flags|=2048,Ps(9,uh.bind(null,x,L,p,c),void 0,null),p},useId:function(){var s=go(),c=Ia.identifierPrefix;if(ct){var p=de,x=Ve;p=(x&~(1<<32-dr(x)-1)).toString(32)+p,c=":"+c+"R"+p,p=Qc++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=Cv++,c=":"+c+"r"+p.toString(32)+":";return s.memoizedState=c},unstable_isNewReconciler:!1},jP={readContext:ni,useCallback:N2,useContext:ni,useEffect:Bd,useImperativeHandle:k2,useInsertionEffect:Mp,useLayoutEffect:zd,useMemo:C2,useReducer:Od,useRef:ll,useState:function(){return Od(Ju)},useDebugValue:Av,useDeferredValue:function(s){var c=Es();return A2(c,Ni.memoizedState,s)},useTransition:function(){var s=Od(Ju)[0],c=Es().memoizedState;return[s,c]},useMutableSource:Rp,useSyncExternalStore:ch,useId:E2,unstable_isNewReconciler:!1},IP={readContext:ni,useCallback:N2,useContext:ni,useEffect:Bd,useImperativeHandle:k2,useInsertionEffect:Mp,useLayoutEffect:zd,useMemo:C2,useReducer:Ul,useRef:ll,useState:function(){return Ul(Ju)},useDebugValue:Av,useDeferredValue:function(s){var c=Es();return Ni===null?c.memoizedState=s:A2(c,Ni.memoizedState,s)},useTransition:function(){var s=Ul(Ju)[0],c=Es().memoizedState;return[s,c]},useMutableSource:Rp,useSyncExternalStore:ch,useId:E2,unstable_isNewReconciler:!1};function cl(s,c){if(s&&s.defaultProps){c=_e({},c),s=s.defaultProps;for(var p in s)c[p]===void 0&&(c[p]=s[p]);return c}return c}function Ev(s,c,p,x){c=s.memoizedState,p=p(x,c),p=p==null?c:_e({},c,p),s.memoizedState=p,s.lanes===0&&(s.updateQueue.baseState=p)}var zp={isMounted:function(s){return(s=s._reactInternals)?In(s)===s:!1},enqueueSetState:function(s,c,p){s=s._reactInternals;var x=Is(),C=ru(s),L=di(x,C);L.payload=c,p!=null&&(L.callback=p),c=fi(s,L,C),c!==null&&(fl(c,s,C,x),Pa(c,s,C))},enqueueReplaceState:function(s,c,p){s=s._reactInternals;var x=Is(),C=ru(s),L=di(x,C);L.tag=1,L.payload=c,p!=null&&(L.callback=p),c=fi(s,L,C),c!==null&&(fl(c,s,C,x),Pa(c,s,C))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var p=Is(),x=ru(s),C=di(p,x);C.tag=2,c!=null&&(C.callback=c),c=fi(s,C,x),c!==null&&(fl(c,s,x,p),Pa(c,s,x))}};function T2(s,c,p,x,C,L,J){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(x,L,J):c.prototype&&c.prototype.isPureReactComponent?!Ue(p,x)||!Ue(C,L):!0}function D2(s,c,p){var x=!1,C=Bl,L=c.contextType;return typeof L=="object"&&L!==null?L=ni(L):(C=as(c)?bc:ha.current,x=c.contextTypes,L=(x=x!=null)?Kc(s,C):Bl),c=new c(p,L),s.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=zp,s.stateNode=c,c._reactInternals=s,x&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=C,s.__reactInternalMemoizedMaskedChildContext=L),c}function L2(s,c,p,x){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,x),c.state!==s&&zp.enqueueReplaceState(c,c.state,null)}function Pv(s,c,p,x){var C=s.stateNode;C.props=p,C.state=s.memoizedState,C.refs={},pa(s);var L=c.contextType;typeof L=="object"&&L!==null?C.context=ni(L):(L=as(c)?bc:ha.current,C.context=Kc(s,L)),C.state=s.memoizedState,L=c.getDerivedStateFromProps,typeof L=="function"&&(Ev(s,c,L,p),C.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(c=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),c!==C.state&&zp.enqueueReplaceState(C,C.state,null),ja(s,p,C,x),C.state=s.memoizedState),typeof C.componentDidMount=="function"&&(s.flags|=4194308)}function $d(s,c){try{var p="",x=c;do p+=le(x),x=x.return;while(x);var C=p}catch(L){C=`
Error generating stack: `+L.message+`
`+L.stack}return{value:s,source:c,stack:C,digest:null}}function jv(s,c,p){return{value:s,source:null,stack:p??null,digest:c??null}}function Iv(s,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var TP=typeof WeakMap=="function"?WeakMap:Map;function R2(s,c,p){p=di(-1,p),p.tag=3,p.payload={element:null};var x=c.value;return p.callback=function(){Gp||(Gp=!0,Hv=x),Iv(s,c)},p}function O2(s,c,p){p=di(-1,p),p.tag=3;var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var C=c.value;p.payload=function(){return x(C)},p.callback=function(){Iv(s,c)}}var L=s.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(p.callback=function(){Iv(s,c),typeof x!="function"&&(eu===null?eu=new Set([this]):eu.add(this));var J=c.stack;this.componentDidCatch(c.value,{componentStack:J!==null?J:""})}),p}function F2(s,c,p){var x=s.pingCache;if(x===null){x=s.pingCache=new TP;var C=new Set;x.set(c,C)}else C=x.get(c),C===void 0&&(C=new Set,x.set(c,C));C.has(p)||(C.add(p),s=HP.bind(null,s,c,p),c.then(s,s))}function M2(s){do{var c;if((c=s.tag===13)&&(c=s.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return s;s=s.return}while(s!==null);return null}function B2(s,c,p,x,C){return(s.mode&1)===0?(s===c?s.flags|=65536:(s.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=di(-1,1),c.tag=2,fi(p,c,1))),p.lanes|=1),s):(s.flags|=65536,s.lanes=C,s)}var DP=R.ReactCurrentOwner,Js=!1;function js(s,c,p,x){c.child=s===null?Yn(c,null,p,x):_i(c,s.child,p,x)}function z2(s,c,p,x,C){p=p.render;var L=c.ref;return ri(c,C),x=Yu(s,c,p,x,L,C),p=Uo(),s!==null&&!Js?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,Sc(s,c,C)):(ct&&p&&st(c),c.flags|=1,js(s,c,x,C),c.child)}function U2(s,c,p,x,C){if(s===null){var L=p.type;return typeof L=="function"&&!Xv(L)&&L.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=L,$2(s,c,L,x,C)):(s=Xp(p.type,null,x,c,c.mode,C),s.ref=c.ref,s.return=c,c.child=s)}if(L=s.child,(s.lanes&C)===0){var J=L.memoizedProps;if(p=p.compare,p=p!==null?p:Ue,p(J,x)&&s.ref===c.ref)return Sc(s,c,C)}return c.flags|=1,s=iu(L,x),s.ref=c.ref,s.return=c,c.child=s}function $2(s,c,p,x,C){if(s!==null){var L=s.memoizedProps;if(Ue(L,x)&&s.ref===c.ref)if(Js=!1,c.pendingProps=x=L,(s.lanes&C)!==0)(s.flags&131072)!==0&&(Js=!0);else return c.lanes=s.lanes,Sc(s,c,C)}return Tv(s,c,p,x,C)}function q2(s,c,p){var x=c.pendingProps,C=x.children,L=s!==null?s.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Wd,yo),yo|=p;else{if((p&1073741824)===0)return s=L!==null?L.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:s,cachePool:null,transitions:null},c.updateQueue=null,Sn(Wd,yo),yo|=s,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=L!==null?L.baseLanes:p,Sn(Wd,yo),yo|=x}else L!==null?(x=L.baseLanes|p,c.memoizedState=null):x=p,Sn(Wd,yo),yo|=x;return js(s,c,C,p),c.child}function W2(s,c){var p=c.ref;(s===null&&p!==null||s!==null&&s.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Tv(s,c,p,x,C){var L=as(p)?bc:ha.current;return L=Kc(c,L),ri(c,C),p=Yu(s,c,p,x,L,C),x=Uo(),s!==null&&!Js?(c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~C,Sc(s,c,C)):(ct&&x&&st(c),c.flags|=1,js(s,c,p,C),c.child)}function V2(s,c,p,x,C){if(as(p)){var L=!0;xc(c)}else L=!1;if(ri(c,C),c.stateNode===null)$p(s,c),D2(c,p,x),Pv(c,p,x,C),x=!0;else if(s===null){var J=c.stateNode,ke=c.memoizedProps;J.props=ke;var De=J.context,Xe=p.contextType;typeof Xe=="object"&&Xe!==null?Xe=ni(Xe):(Xe=as(p)?bc:ha.current,Xe=Kc(c,Xe));var yt=p.getDerivedStateFromProps,St=typeof yt=="function"||typeof J.getSnapshotBeforeUpdate=="function";St||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ke!==x||De!==Xe)&&L2(c,J,x,Xe),ki=!1;var vt=c.memoizedState;J.state=vt,ja(c,x,J,C),De=c.memoizedState,ke!==x||vt!==De||is.current||ki?(typeof yt=="function"&&(Ev(c,p,yt,x),De=c.memoizedState),(ke=ki||T2(c,p,ke,x,vt,De,Xe))?(St||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(c.flags|=4194308)):(typeof J.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=De),J.props=x,J.state=De,J.context=Xe,x=ke):(typeof J.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{J=c.stateNode,ss(s,c),ke=c.memoizedProps,Xe=c.type===c.elementType?ke:cl(c.type,ke),J.props=Xe,St=c.pendingProps,vt=J.context,De=p.contextType,typeof De=="object"&&De!==null?De=ni(De):(De=as(p)?bc:ha.current,De=Kc(c,De));var Bt=p.getDerivedStateFromProps;(yt=typeof Bt=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ke!==St||vt!==De)&&L2(c,J,x,De),ki=!1,vt=c.memoizedState,J.state=vt,ja(c,x,J,C);var Yt=c.memoizedState;ke!==St||vt!==Yt||is.current||ki?(typeof Bt=="function"&&(Ev(c,p,Bt,x),Yt=c.memoizedState),(Xe=ki||T2(c,p,Xe,x,vt,Yt,De)||!1)?(yt||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(x,Yt,De),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(x,Yt,De)),typeof J.componentDidUpdate=="function"&&(c.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof J.componentDidUpdate!="function"||ke===s.memoizedProps&&vt===s.memoizedState||(c.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ke===s.memoizedProps&&vt===s.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Yt),J.props=x,J.state=Yt,J.context=De,x=Xe):(typeof J.componentDidUpdate!="function"||ke===s.memoizedProps&&vt===s.memoizedState||(c.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ke===s.memoizedProps&&vt===s.memoizedState||(c.flags|=1024),x=!1)}return Dv(s,c,p,x,L,C)}function Dv(s,c,p,x,C,L){W2(s,c);var J=(c.flags&128)!==0;if(!x&&!J)return C&&Dp(c,p,!1),Sc(s,c,L);x=c.stateNode,DP.current=c;var ke=J&&typeof p.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,s!==null&&J?(c.child=_i(c,s.child,null,L),c.child=_i(c,null,ke,L)):js(s,c,ke,L),c.memoizedState=x.state,C&&Dp(c,p,!0),c.child}function H2(s){var c=s.stateNode;c.pendingContext?Tp(s,c.pendingContext,c.pendingContext!==c.context):c.context&&Tp(s,c.context,!1),Yc(s,c.containerInfo)}function G2(s,c,p,x,C){return Ht(),It(C),c.flags|=256,js(s,c,p,x),c.child}var Lv={dehydrated:null,treeContext:null,retryLane:0};function Rv(s){return{baseLanes:s,cachePool:null,transitions:null}}function K2(s,c,p){var x=c.pendingProps,C=Un.current,L=!1,J=(c.flags&128)!==0,ke;if((ke=J)||(ke=s!==null&&s.memoizedState===null?!1:(C&2)!==0),ke?(L=!0,c.flags&=-129):(s===null||s.memoizedState!==null)&&(C|=1),Sn(Un,C&1),s===null)return Kt(c),s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((c.mode&1)===0?c.lanes=1:s.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(J=x.children,s=x.fallback,L?(x=c.mode,L=c.child,J={mode:"hidden",children:J},(x&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=J):L=em(J,x,0,null),s=rd(s,x,p,null),L.return=c,s.return=c,L.sibling=s,c.child=L,c.child.memoizedState=Rv(p),c.memoizedState=Lv,s):Ov(c,J));if(C=s.memoizedState,C!==null&&(ke=C.dehydrated,ke!==null))return LP(s,c,J,x,ke,C,p);if(L){L=x.fallback,J=c.mode,C=s.child,ke=C.sibling;var De={mode:"hidden",children:x.children};return(J&1)===0&&c.child!==C?(x=c.child,x.childLanes=0,x.pendingProps=De,c.deletions=null):(x=iu(C,De),x.subtreeFlags=C.subtreeFlags&14680064),ke!==null?L=iu(ke,L):(L=rd(L,J,p,null),L.flags|=2),L.return=c,x.return=c,x.sibling=L,c.child=x,x=L,L=c.child,J=s.child.memoizedState,J=J===null?Rv(p):{baseLanes:J.baseLanes|p,cachePool:null,transitions:J.transitions},L.memoizedState=J,L.childLanes=s.childLanes&~p,c.memoizedState=Lv,x}return L=s.child,s=L.sibling,x=iu(L,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=p),x.return=c,x.sibling=null,s!==null&&(p=c.deletions,p===null?(c.deletions=[s],c.flags|=16):p.push(s)),c.child=x,c.memoizedState=null,x}function Ov(s,c){return c=em({mode:"visible",children:c},s.mode,0,null),c.return=s,s.child=c}function Up(s,c,p,x){return x!==null&&It(x),_i(c,s.child,null,p),s=Ov(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function LP(s,c,p,x,C,L,J){if(p)return c.flags&256?(c.flags&=-257,x=jv(Error(r(422))),Up(s,c,J,x)):c.memoizedState!==null?(c.child=s.child,c.flags|=128,null):(L=x.fallback,C=c.mode,x=em({mode:"visible",children:x.children},C,0,null),L=rd(L,C,J,null),L.flags|=2,x.return=c,L.return=c,x.sibling=L,c.child=x,(c.mode&1)!==0&&_i(c,s.child,null,J),c.child.memoizedState=Rv(J),c.memoizedState=Lv,L);if((c.mode&1)===0)return Up(s,c,J,null);if(C.data==="$!"){if(x=C.nextSibling&&C.nextSibling.dataset,x)var ke=x.dgst;return x=ke,L=Error(r(419)),x=jv(L,x,void 0),Up(s,c,J,x)}if(ke=(J&s.childLanes)!==0,Js||ke){if(x=Ia,x!==null){switch(J&-J){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(x.suspendedLanes|J))!==0?0:C,C!==0&&C!==L.retryLane&&(L.retryLane=C,An(s,C),fl(x,s,C,-1))}return Zv(),x=jv(Error(r(421))),Up(s,c,J,x)}return C.data==="$?"?(c.flags|=128,c.child=s.child,c=GP.bind(null,s),C._reactRetry=c,null):(s=L.treeContext,nt=$a(C.nextSibling),et=c,ct=!0,ut=null,s!==null&&(se[ue++]=Ve,se[ue++]=de,se[ue++]=Te,Ve=s.id,de=s.overflow,Te=c),c=Ov(c,x.children),c.flags|=4096,c)}function Y2(s,c,p){s.lanes|=c;var x=s.alternate;x!==null&&(x.lanes|=c),cn(s.return,c,p)}function Fv(s,c,p,x,C){var L=s.memoizedState;L===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:C}:(L.isBackwards=c,L.rendering=null,L.renderingStartTime=0,L.last=x,L.tail=p,L.tailMode=C)}function J2(s,c,p){var x=c.pendingProps,C=x.revealOrder,L=x.tail;if(js(s,c,x.children,p),x=Un.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Y2(s,p,c);else if(s.tag===19)Y2(s,p,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}x&=1}if(Sn(Un,x),(c.mode&1)===0)c.memoizedState=null;else switch(C){case"forwards":for(p=c.child,C=null;p!==null;)s=p.alternate,s!==null&&mo(s)===null&&(C=p),p=p.sibling;p=C,p===null?(C=c.child,c.child=null):(C=p.sibling,p.sibling=null),Fv(c,!1,C,p,L);break;case"backwards":for(p=null,C=c.child,c.child=null;C!==null;){if(s=C.alternate,s!==null&&mo(s)===null){c.child=C;break}s=C.sibling,C.sibling=p,p=C,C=s}Fv(c,!0,p,null,L);break;case"together":Fv(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function $p(s,c){(c.mode&1)===0&&s!==null&&(s.alternate=null,c.alternate=null,c.flags|=2)}function Sc(s,c,p){if(s!==null&&(c.dependencies=s.dependencies),Zu|=c.lanes,(p&c.childLanes)===0)return null;if(s!==null&&c.child!==s.child)throw Error(r(153));if(c.child!==null){for(s=c.child,p=iu(s,s.pendingProps),c.child=p,p.return=c;s.sibling!==null;)s=s.sibling,p=p.sibling=iu(s,s.pendingProps),p.return=c;p.sibling=null}return c.child}function RP(s,c,p){switch(c.tag){case 3:H2(c),Ht();break;case 5:Lp(c);break;case 1:as(c.type)&&xc(c);break;case 4:Yc(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,C=c.memoizedProps.value;Sn(Di,x._currentValue),x._currentValue=C;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Sn(Un,Un.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?K2(s,c,p):(Sn(Un,Un.current&1),s=Sc(s,c,p),s!==null?s.sibling:null);Sn(Un,Un.current&1);break;case 19:if(x=(p&c.childLanes)!==0,(s.flags&128)!==0){if(x)return J2(s,c,p);c.flags|=128}if(C=c.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Sn(Un,Un.current),x)break;return null;case 22:case 23:return c.lanes=0,q2(s,c,p)}return Sc(s,c,p)}var Q2,Mv,Z2,X2;Q2=function(s,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Mv=function(){},Z2=function(s,c,p,x){var C=s.memoizedProps;if(C!==x){s=c.stateNode,sl(Xi.current);var L=null;switch(p){case"input":C=Je(s,C),x=Je(s,x),L=[];break;case"select":C=_e({},C,{value:void 0}),x=_e({},x,{value:void 0}),L=[];break;case"textarea":C=We(s,C),x=We(s,x),L=[];break;default:typeof C.onClick!="function"&&typeof x.onClick=="function"&&(s.onclick=Vc)}_t(p,x);var J;p=null;for(Xe in C)if(!x.hasOwnProperty(Xe)&&C.hasOwnProperty(Xe)&&C[Xe]!=null)if(Xe==="style"){var ke=C[Xe];for(J in ke)ke.hasOwnProperty(J)&&(p||(p={}),p[J]="")}else Xe!=="dangerouslySetInnerHTML"&&Xe!=="children"&&Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&Xe!=="autoFocus"&&(i.hasOwnProperty(Xe)?L||(L=[]):(L=L||[]).push(Xe,null));for(Xe in x){var De=x[Xe];if(ke=C?.[Xe],x.hasOwnProperty(Xe)&&De!==ke&&(De!=null||ke!=null))if(Xe==="style")if(ke){for(J in ke)!ke.hasOwnProperty(J)||De&&De.hasOwnProperty(J)||(p||(p={}),p[J]="");for(J in De)De.hasOwnProperty(J)&&ke[J]!==De[J]&&(p||(p={}),p[J]=De[J])}else p||(L||(L=[]),L.push(Xe,p)),p=De;else Xe==="dangerouslySetInnerHTML"?(De=De?De.__html:void 0,ke=ke?ke.__html:void 0,De!=null&&ke!==De&&(L=L||[]).push(Xe,De)):Xe==="children"?typeof De!="string"&&typeof De!="number"||(L=L||[]).push(Xe,""+De):Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Xe)?(De!=null&&Xe==="onScroll"&&Nn("scroll",s),L||ke===De||(L=[])):(L=L||[]).push(Xe,De))}p&&(L=L||[]).push("style",p);var Xe=L;(c.updateQueue=Xe)&&(c.flags|=4)}},X2=function(s,c,p,x){p!==x&&(c.flags|=4)};function dh(s,c){if(!ct)switch(s.tailMode){case"hidden":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s.tail=null:p.sibling=null;break;case"collapsed":p=s.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:x.sibling=null}}function os(s){var c=s.alternate!==null&&s.alternate.child===s.child,p=0,x=0;if(c)for(var C=s.child;C!==null;)p|=C.lanes|C.childLanes,x|=C.subtreeFlags&14680064,x|=C.flags&14680064,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)p|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=x,s.childLanes=p,c}function OP(s,c,p){var x=c.pendingProps;switch(Ge(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return os(c),null;case 1:return as(c.type)&&Td(),os(c),null;case 3:return x=c.stateNode,Bo(),vn(is),vn(ha),lh(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(s===null||s.child===null)&&(ti(c)?c.flags|=4:s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ut!==null&&(Yv(ut),ut=null))),Mv(s,c),os(c),null;case 5:sh(c);var C=sl(zl.current);if(p=c.type,s!==null&&c.stateNode!=null)Z2(s,c,p,x,C),s.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(r(166));return os(c),null}if(s=sl(Xi.current),ti(c)){x=c.stateNode,p=c.type;var L=c.memoizedProps;switch(x[Mo]=c,x[Hc]=L,s=(c.mode&1)!==0,p){case"dialog":Nn("cancel",x),Nn("close",x);break;case"iframe":case"object":case"embed":Nn("load",x);break;case"video":case"audio":for(C=0;C<Fl.length;C++)Nn(Fl[C],x);break;case"source":Nn("error",x);break;case"img":case"image":case"link":Nn("error",x),Nn("load",x);break;case"details":Nn("toggle",x);break;case"input":ye(x,L),Nn("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!L.multiple},Nn("invalid",x);break;case"textarea":at(x,L),Nn("invalid",x)}_t(p,L),C=null;for(var J in L)if(L.hasOwnProperty(J)){var ke=L[J];J==="children"?typeof ke=="string"?x.textContent!==ke&&(L.suppressHydrationWarning!==!0&&Id(x.textContent,ke,s),C=["children",ke]):typeof ke=="number"&&x.textContent!==""+ke&&(L.suppressHydrationWarning!==!0&&Id(x.textContent,ke,s),C=["children",""+ke]):i.hasOwnProperty(J)&&ke!=null&&J==="onScroll"&&Nn("scroll",x)}switch(p){case"input":rt(x),nr(x,L,!0);break;case"textarea":rt(x),tt(x);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(x.onclick=Vc)}x=C,c.updateQueue=x,x!==null&&(c.flags|=4)}else{J=C.nodeType===9?C:C.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=mt(p)),s==="http://www.w3.org/1999/xhtml"?p==="script"?(s=J.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof x.is=="string"?s=J.createElement(p,{is:x.is}):(s=J.createElement(p),p==="select"&&(J=s,x.multiple?J.multiple=!0:x.size&&(J.size=x.size))):s=J.createElementNS(s,p),s[Mo]=c,s[Hc]=x,Q2(s,c,!1,!1),c.stateNode=s;e:{switch(J=Zt(p,x),p){case"dialog":Nn("cancel",s),Nn("close",s),C=x;break;case"iframe":case"object":case"embed":Nn("load",s),C=x;break;case"video":case"audio":for(C=0;C<Fl.length;C++)Nn(Fl[C],s);C=x;break;case"source":Nn("error",s),C=x;break;case"img":case"image":case"link":Nn("error",s),Nn("load",s),C=x;break;case"details":Nn("toggle",s),C=x;break;case"input":ye(s,x),C=Je(s,x),Nn("invalid",s);break;case"option":C=x;break;case"select":s._wrapperState={wasMultiple:!!x.multiple},C=_e({},x,{value:void 0}),Nn("invalid",s);break;case"textarea":at(s,x),C=We(s,x),Nn("invalid",s);break;default:C=x}_t(p,C),ke=C;for(L in ke)if(ke.hasOwnProperty(L)){var De=ke[L];L==="style"?Ut(s,De):L==="dangerouslySetInnerHTML"?(De=De?De.__html:void 0,De!=null&&Dt(s,De)):L==="children"?typeof De=="string"?(p!=="textarea"||De!=="")&&Qt(s,De):typeof De=="number"&&Qt(s,""+De):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(i.hasOwnProperty(L)?De!=null&&L==="onScroll"&&Nn("scroll",s):De!=null&&P(s,L,De,J))}switch(p){case"input":rt(s),nr(s,x,!1);break;case"textarea":rt(s),tt(s);break;case"option":x.value!=null&&s.setAttribute("value",""+Ie(x.value));break;case"select":s.multiple=!!x.multiple,L=x.value,L!=null?Ce(s,!!x.multiple,L,!1):x.defaultValue!=null&&Ce(s,!!x.multiple,x.defaultValue,!0);break;default:typeof C.onClick=="function"&&(s.onclick=Vc)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return os(c),null;case 6:if(s&&c.stateNode!=null)X2(s,c,s.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(p=sl(zl.current),sl(Xi.current),ti(c)){if(x=c.stateNode,p=c.memoizedProps,x[Mo]=c,(L=x.nodeValue!==p)&&(s=et,s!==null))switch(s.tag){case 3:Id(x.nodeValue,p,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Id(x.nodeValue,p,(s.mode&1)!==0)}L&&(c.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[Mo]=c,c.stateNode=x}return os(c),null;case 13:if(vn(Un),x=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&nt!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Or(),Ht(),c.flags|=98560,L=!1;else if(L=ti(c),x!==null&&x.dehydrated!==null){if(s===null){if(!L)throw Error(r(318));if(L=c.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[Mo]=c}else Ht(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;os(c),L=!1}else ut!==null&&(Yv(ut),ut=null),L=!0;if(!L)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(x=x!==null,x!==(s!==null&&s.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(s===null||(Un.current&1)!==0?ma===0&&(ma=3):Zv())),c.updateQueue!==null&&(c.flags|=4),os(c),null);case 4:return Bo(),Mv(s,c),s===null&&mc(c.stateNode.containerInfo),os(c),null;case 10:return Vn(c.type._context),os(c),null;case 17:return as(c.type)&&Td(),os(c),null;case 19:if(vn(Un),L=c.memoizedState,L===null)return os(c),null;if(x=(c.flags&128)!==0,J=L.rendering,J===null)if(x)dh(L,!1);else{if(ma!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(J=mo(s),J!==null){for(c.flags|=128,dh(L,!1),x=J.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=p,p=c.child;p!==null;)L=p,s=x,L.flags&=14680066,J=L.alternate,J===null?(L.childLanes=0,L.lanes=s,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=J.childLanes,L.lanes=J.lanes,L.child=J.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=J.memoizedProps,L.memoizedState=J.memoizedState,L.updateQueue=J.updateQueue,L.type=J.type,s=J.dependencies,L.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),p=p.sibling;return Sn(Un,Un.current&1|2),c.child}s=s.sibling}L.tail!==null&&Zr()>Vd&&(c.flags|=128,x=!0,dh(L,!1),c.lanes=4194304)}else{if(!x)if(s=mo(J),s!==null){if(c.flags|=128,x=!0,p=s.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),dh(L,!0),L.tail===null&&L.tailMode==="hidden"&&!J.alternate&&!ct)return os(c),null}else 2*Zr()-L.renderingStartTime>Vd&&p!==1073741824&&(c.flags|=128,x=!0,dh(L,!1),c.lanes=4194304);L.isBackwards?(J.sibling=c.child,c.child=J):(p=L.last,p!==null?p.sibling=J:c.child=J,L.last=J)}return L.tail!==null?(c=L.tail,L.rendering=c,L.tail=c.sibling,L.renderingStartTime=Zr(),c.sibling=null,p=Un.current,Sn(Un,x?p&1|2:p&1),c):(os(c),null);case 22:case 23:return Qv(),x=c.memoizedState!==null,s!==null&&s.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(yo&1073741824)!==0&&(os(c),c.subtreeFlags&6&&(c.flags|=8192)):os(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function FP(s,c){switch(Ge(c),c.tag){case 1:return as(c.type)&&Td(),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Bo(),vn(is),vn(ha),lh(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 5:return sh(c),null;case 13:if(vn(Un),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ht()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return vn(Un),null;case 4:return Bo(),null;case 10:return Vn(c.type._context),null;case 22:case 23:return Qv(),null;case 24:return null;default:return null}}var qp=!1,ls=!1,MP=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function qd(s,c){var p=s.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){Ci(s,c,x)}else p.current=null}function Bv(s,c,p){try{p()}catch(x){Ci(s,c,x)}}var ex=!1;function BP(s,c){if(Hu=$s,s=Oe(),Ke(s)){if("selectionStart"in s)var p={start:s.selectionStart,end:s.selectionEnd};else e:{p=(p=s.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var C=x.anchorOffset,L=x.focusNode;x=x.focusOffset;try{p.nodeType,L.nodeType}catch{p=null;break e}var J=0,ke=-1,De=-1,Xe=0,yt=0,St=s,vt=null;t:for(;;){for(var Bt;St!==p||C!==0&&St.nodeType!==3||(ke=J+C),St!==L||x!==0&&St.nodeType!==3||(De=J+x),St.nodeType===3&&(J+=St.nodeValue.length),(Bt=St.firstChild)!==null;)vt=St,St=Bt;for(;;){if(St===s)break t;if(vt===p&&++Xe===C&&(ke=J),vt===L&&++yt===x&&(De=J),(Bt=St.nextSibling)!==null)break;St=vt,vt=St.parentNode}St=Bt}p=ke===-1||De===-1?null:{start:ke,end:De}}else p=null}p=p||{start:0,end:0}}else p=null;for(vc={focusedElem:s,selectionRange:p},$s=!1,Gt=c;Gt!==null;)if(c=Gt,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Gt=s;else for(;Gt!==null;){c=Gt;try{var Yt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Yt!==null){var er=Yt.memoizedProps,Ri=Yt.memoizedState,He=c.stateNode,Fe=He.getSnapshotBeforeUpdate(c.elementType===c.type?er:cl(c.type,er),Ri);He.__reactInternalSnapshotBeforeUpdate=Fe}break;case 3:var Ye=c.stateNode.containerInfo;Ye.nodeType===1?Ye.textContent="":Ye.nodeType===9&&Ye.documentElement&&Ye.removeChild(Ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(At){Ci(c,c.return,At)}if(s=c.sibling,s!==null){s.return=c.return,Gt=s;break}Gt=c.return}return Yt=ex,ex=!1,Yt}function fh(s,c,p){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var C=x=x.next;do{if((C.tag&s)===s){var L=C.destroy;C.destroy=void 0,L!==void 0&&Bv(c,p,L)}C=C.next}while(C!==x)}}function Wp(s,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&s)===s){var x=p.create;p.destroy=x()}p=p.next}while(p!==c)}}function zv(s){var c=s.ref;if(c!==null){var p=s.stateNode;switch(s.tag){case 5:s=p;break;default:s=p}typeof c=="function"?c(s):c.current=s}}function tx(s){var c=s.alternate;c!==null&&(s.alternate=null,tx(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&(delete c[Mo],delete c[Hc],delete c[ns],delete c[kv],delete c[Nv])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function rx(s){return s.tag===5||s.tag===3||s.tag===4}function nx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Uv(s,c,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(s,c):p.insertBefore(s,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(s,p)):(c=p,c.appendChild(s)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=Vc));else if(x!==4&&(s=s.child,s!==null))for(Uv(s,c,p),s=s.sibling;s!==null;)Uv(s,c,p),s=s.sibling}function $v(s,c,p){var x=s.tag;if(x===5||x===6)s=s.stateNode,c?p.insertBefore(s,c):p.appendChild(s);else if(x!==4&&(s=s.child,s!==null))for($v(s,c,p),s=s.sibling;s!==null;)$v(s,c,p),s=s.sibling}var qa=null,ul=!1;function Xc(s,c,p){for(p=p.child;p!==null;)ix(s,c,p),p=p.sibling}function ix(s,c,p){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(To,p)}catch{}switch(p.tag){case 5:ls||qd(p,c);case 6:var x=qa,C=ul;qa=null,Xc(s,c,p),qa=x,ul=C,qa!==null&&(ul?(s=qa,p=p.stateNode,s.nodeType===8?s.parentNode.removeChild(p):s.removeChild(p)):qa.removeChild(p.stateNode));break;case 18:qa!==null&&(ul?(s=qa,p=p.stateNode,s.nodeType===8?nh(s.parentNode,p):s.nodeType===1&&nh(s,p),Ss(s)):nh(qa,p.stateNode));break;case 4:x=qa,C=ul,qa=p.stateNode.containerInfo,ul=!0,Xc(s,c,p),qa=x,ul=C;break;case 0:case 11:case 14:case 15:if(!ls&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){C=x=x.next;do{var L=C,J=L.destroy;L=L.tag,J!==void 0&&((L&2)!==0||(L&4)!==0)&&Bv(p,c,J),C=C.next}while(C!==x)}Xc(s,c,p);break;case 1:if(!ls&&(qd(p,c),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(ke){Ci(p,c,ke)}Xc(s,c,p);break;case 21:Xc(s,c,p);break;case 22:p.mode&1?(ls=(x=ls)||p.memoizedState!==null,Xc(s,c,p),ls=x):Xc(s,c,p);break;default:Xc(s,c,p)}}function ax(s){var c=s.updateQueue;if(c!==null){s.updateQueue=null;var p=s.stateNode;p===null&&(p=s.stateNode=new MP),c.forEach(function(x){var C=KP.bind(null,s,x);p.has(x)||(p.add(x),x.then(C,C))})}}function dl(s,c){var p=c.deletions;if(p!==null)for(var x=0;x<p.length;x++){var C=p[x];try{var L=s,J=c,ke=J;e:for(;ke!==null;){switch(ke.tag){case 5:qa=ke.stateNode,ul=!1;break e;case 3:qa=ke.stateNode.containerInfo,ul=!0;break e;case 4:qa=ke.stateNode.containerInfo,ul=!0;break e}ke=ke.return}if(qa===null)throw Error(r(160));ix(L,J,C),qa=null,ul=!1;var De=C.alternate;De!==null&&(De.return=null),C.return=null}catch(Xe){Ci(C,c,Xe)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)sx(c,s),c=c.sibling}function sx(s,c){var p=s.alternate,x=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dl(c,s),$l(s),x&4){try{fh(3,s,s.return),Wp(3,s)}catch(er){Ci(s,s.return,er)}try{fh(5,s,s.return)}catch(er){Ci(s,s.return,er)}}break;case 1:dl(c,s),$l(s),x&512&&p!==null&&qd(p,p.return);break;case 5:if(dl(c,s),$l(s),x&512&&p!==null&&qd(p,p.return),s.flags&32){var C=s.stateNode;try{Qt(C,"")}catch(er){Ci(s,s.return,er)}}if(x&4&&(C=s.stateNode,C!=null)){var L=s.memoizedProps,J=p!==null?p.memoizedProps:L,ke=s.type,De=s.updateQueue;if(s.updateQueue=null,De!==null)try{ke==="input"&&L.type==="radio"&&L.name!=null&&br(C,L),Zt(ke,J);var Xe=Zt(ke,L);for(J=0;J<De.length;J+=2){var yt=De[J],St=De[J+1];yt==="style"?Ut(C,St):yt==="dangerouslySetInnerHTML"?Dt(C,St):yt==="children"?Qt(C,St):P(C,yt,St,Xe)}switch(ke){case"input":lr(C,L);break;case"textarea":dt(C,L);break;case"select":var vt=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!L.multiple;var Bt=L.value;Bt!=null?Ce(C,!!L.multiple,Bt,!1):vt!==!!L.multiple&&(L.defaultValue!=null?Ce(C,!!L.multiple,L.defaultValue,!0):Ce(C,!!L.multiple,L.multiple?[]:"",!1))}C[Hc]=L}catch(er){Ci(s,s.return,er)}}break;case 6:if(dl(c,s),$l(s),x&4){if(s.stateNode===null)throw Error(r(162));C=s.stateNode,L=s.memoizedProps;try{C.nodeValue=L}catch(er){Ci(s,s.return,er)}}break;case 3:if(dl(c,s),$l(s),x&4&&p!==null&&p.memoizedState.isDehydrated)try{Ss(c.containerInfo)}catch(er){Ci(s,s.return,er)}break;case 4:dl(c,s),$l(s);break;case 13:dl(c,s),$l(s),C=s.child,C.flags&8192&&(L=C.memoizedState!==null,C.stateNode.isHidden=L,!L||C.alternate!==null&&C.alternate.memoizedState!==null||(Vv=Zr())),x&4&&ax(s);break;case 22:if(yt=p!==null&&p.memoizedState!==null,s.mode&1?(ls=(Xe=ls)||yt,dl(c,s),ls=Xe):dl(c,s),$l(s),x&8192){if(Xe=s.memoizedState!==null,(s.stateNode.isHidden=Xe)&&!yt&&(s.mode&1)!==0)for(Gt=s,yt=s.child;yt!==null;){for(St=Gt=yt;Gt!==null;){switch(vt=Gt,Bt=vt.child,vt.tag){case 0:case 11:case 14:case 15:fh(4,vt,vt.return);break;case 1:qd(vt,vt.return);var Yt=vt.stateNode;if(typeof Yt.componentWillUnmount=="function"){x=vt,p=vt.return;try{c=x,Yt.props=c.memoizedProps,Yt.state=c.memoizedState,Yt.componentWillUnmount()}catch(er){Ci(x,p,er)}}break;case 5:qd(vt,vt.return);break;case 22:if(vt.memoizedState!==null){cx(St);continue}}Bt!==null?(Bt.return=vt,Gt=Bt):cx(St)}yt=yt.sibling}e:for(yt=null,St=s;;){if(St.tag===5){if(yt===null){yt=St;try{C=St.stateNode,Xe?(L=C.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(ke=St.stateNode,De=St.memoizedProps.style,J=De!=null&&De.hasOwnProperty("display")?De.display:null,ke.style.display=zr("display",J))}catch(er){Ci(s,s.return,er)}}}else if(St.tag===6){if(yt===null)try{St.stateNode.nodeValue=Xe?"":St.memoizedProps}catch(er){Ci(s,s.return,er)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===s)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===s)break e;for(;St.sibling===null;){if(St.return===null||St.return===s)break e;yt===St&&(yt=null),St=St.return}yt===St&&(yt=null),St.sibling.return=St.return,St=St.sibling}}break;case 19:dl(c,s),$l(s),x&4&&ax(s);break;case 21:break;default:dl(c,s),$l(s)}}function $l(s){var c=s.flags;if(c&2){try{e:{for(var p=s.return;p!==null;){if(rx(p)){var x=p;break e}p=p.return}throw Error(r(160))}switch(x.tag){case 5:var C=x.stateNode;x.flags&32&&(Qt(C,""),x.flags&=-33);var L=nx(s);$v(s,L,C);break;case 3:case 4:var J=x.stateNode.containerInfo,ke=nx(s);Uv(s,ke,J);break;default:throw Error(r(161))}}catch(De){Ci(s,s.return,De)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function zP(s,c,p){Gt=s,ox(s)}function ox(s,c,p){for(var x=(s.mode&1)!==0;Gt!==null;){var C=Gt,L=C.child;if(C.tag===22&&x){var J=C.memoizedState!==null||qp;if(!J){var ke=C.alternate,De=ke!==null&&ke.memoizedState!==null||ls;ke=qp;var Xe=ls;if(qp=J,(ls=De)&&!Xe)for(Gt=C;Gt!==null;)J=Gt,De=J.child,J.tag===22&&J.memoizedState!==null?ux(C):De!==null?(De.return=J,Gt=De):ux(C);for(;L!==null;)Gt=L,ox(L),L=L.sibling;Gt=C,qp=ke,ls=Xe}lx(s)}else(C.subtreeFlags&8772)!==0&&L!==null?(L.return=C,Gt=L):lx(s)}}function lx(s){for(;Gt!==null;){var c=Gt;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:ls||Wp(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!ls)if(p===null)x.componentDidMount();else{var C=c.elementType===c.type?p.memoizedProps:cl(c.type,p.memoizedProps);x.componentDidUpdate(C,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var L=c.updateQueue;L!==null&&Ys(c,L,x);break;case 3:var J=c.updateQueue;if(J!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}Ys(c,J,p)}break;case 5:var ke=c.stateNode;if(p===null&&c.flags&4){p=ke;var De=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":De.autoFocus&&p.focus();break;case"img":De.src&&(p.src=De.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var Xe=c.alternate;if(Xe!==null){var yt=Xe.memoizedState;if(yt!==null){var St=yt.dehydrated;St!==null&&Ss(St)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ls||c.flags&512&&zv(c)}catch(vt){Ci(c,c.return,vt)}}if(c===s){Gt=null;break}if(p=c.sibling,p!==null){p.return=c.return,Gt=p;break}Gt=c.return}}function cx(s){for(;Gt!==null;){var c=Gt;if(c===s){Gt=null;break}var p=c.sibling;if(p!==null){p.return=c.return,Gt=p;break}Gt=c.return}}function ux(s){for(;Gt!==null;){var c=Gt;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Wp(4,c)}catch(De){Ci(c,p,De)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var C=c.return;try{x.componentDidMount()}catch(De){Ci(c,C,De)}}var L=c.return;try{zv(c)}catch(De){Ci(c,L,De)}break;case 5:var J=c.return;try{zv(c)}catch(De){Ci(c,J,De)}}}catch(De){Ci(c,c.return,De)}if(c===s){Gt=null;break}var ke=c.sibling;if(ke!==null){ke.return=c.return,Gt=ke;break}Gt=c.return}}var UP=Math.ceil,Vp=R.ReactCurrentDispatcher,qv=R.ReactCurrentOwner,$o=R.ReactCurrentBatchConfig,un=0,Ia=null,ea=null,Wa=0,yo=0,Wd=ho(0),ma=0,hh=null,Zu=0,Hp=0,Wv=0,ph=null,Qs=null,Vv=0,Vd=1/0,_c=null,Gp=!1,Hv=null,eu=null,Kp=!1,tu=null,Yp=0,mh=0,Gv=null,Jp=-1,Qp=0;function Is(){return(un&6)!==0?Zr():Jp!==-1?Jp:Jp=Zr()}function ru(s){return(s.mode&1)===0?1:(un&2)!==0&&Wa!==0?Wa&-Wa:ui.transition!==null?(Qp===0&&(Qp=oc()),Qp):(s=rn,s!==0||(s=window.event,s=s===void 0?16:Xo(s.type)),s)}function fl(s,c,p,x){if(50<mh)throw mh=0,Gv=null,Error(r(185));Lo(s,p,x),((un&2)===0||s!==Ia)&&(s===Ia&&((un&2)===0&&(Hp|=p),ma===4&&nu(s,Wa)),Zs(s,x),p===1&&un===0&&(c.mode&1)===0&&(Vd=Zr()+500,Ku&&F()))}function Zs(s,c){var p=s.callbackNode;Mn(s,c);var x=li(s,s===Ia?Wa:0);if(x===0)p!==null&&no(p),s.callbackNode=null,s.callbackPriority=0;else if(c=x&-x,s.callbackPriority!==c){if(p!=null&&no(p),c===1)s.tag===0?j(fx.bind(null,s)):w(fx.bind(null,s)),Sv(function(){(un&6)===0&&F()}),p=null;else{switch(Lr(x)){case 1:p=vs;break;case 4:p=$i;break;case 16:p=zs;break;case 536870912:p=Ya;break;default:p=zs}p=xx(p,dx.bind(null,s))}s.callbackPriority=c,s.callbackNode=p}}function dx(s,c){if(Jp=-1,Qp=0,(un&6)!==0)throw Error(r(327));var p=s.callbackNode;if(Hd()&&s.callbackNode!==p)return null;var x=li(s,s===Ia?Wa:0);if(x===0)return null;if((x&30)!==0||(x&s.expiredLanes)!==0||c)c=Zp(s,x);else{c=x;var C=un;un|=2;var L=px();(Ia!==s||Wa!==c)&&(_c=null,Vd=Zr()+500,ed(s,c));do try{WP();break}catch(ke){hx(s,ke)}while(!0);ln(),Vp.current=L,un=C,ea!==null?c=0:(Ia=null,Wa=0,c=ma)}if(c!==0){if(c===2&&(C=Us(s),C!==0&&(x=C,c=Kv(s,C))),c===1)throw p=hh,ed(s,0),nu(s,x),Zs(s,Zr()),p;if(c===6)nu(s,x);else{if(C=s.current.alternate,(x&30)===0&&!$P(C)&&(c=Zp(s,x),c===2&&(L=Us(s),L!==0&&(x=L,c=Kv(s,L))),c===1))throw p=hh,ed(s,0),nu(s,x),Zs(s,Zr()),p;switch(s.finishedWork=C,s.finishedLanes=x,c){case 0:case 1:throw Error(r(345));case 2:td(s,Qs,_c);break;case 3:if(nu(s,x),(x&130023424)===x&&(c=Vv+500-Zr(),10<c)){if(li(s,0)!==0)break;if(C=s.suspendedLanes,(C&x)!==x){Is(),s.pingedLanes|=s.suspendedLanes&C;break}s.timeoutHandle=rh(td.bind(null,s,Qs,_c),c);break}td(s,Qs,_c);break;case 4:if(nu(s,x),(x&4194240)===x)break;for(c=s.eventTimes,C=-1;0<x;){var J=31-dr(x);L=1<<J,J=c[J],J>C&&(C=J),x&=~L}if(x=C,x=Zr()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*UP(x/1960))-x,10<x){s.timeoutHandle=rh(td.bind(null,s,Qs,_c),x);break}td(s,Qs,_c);break;case 5:td(s,Qs,_c);break;default:throw Error(r(329))}}}return Zs(s,Zr()),s.callbackNode===p?dx.bind(null,s):null}function Kv(s,c){var p=ph;return s.current.memoizedState.isDehydrated&&(ed(s,c).flags|=256),s=Zp(s,c),s!==2&&(c=Qs,Qs=p,c!==null&&Yv(c)),s}function Yv(s){Qs===null?Qs=s:Qs.push.apply(Qs,s)}function $P(s){for(var c=s;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var C=p[x],L=C.getSnapshot;C=C.value;try{if(!Ne(L(),C))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function nu(s,c){for(c&=~Wv,c&=~Hp,s.suspendedLanes|=c,s.pingedLanes&=~c,s=s.expirationTimes;0<c;){var p=31-dr(c),x=1<<p;s[p]=-1,c&=~x}}function fx(s){if((un&6)!==0)throw Error(r(327));Hd();var c=li(s,0);if((c&1)===0)return Zs(s,Zr()),null;var p=Zp(s,c);if(s.tag!==0&&p===2){var x=Us(s);x!==0&&(c=x,p=Kv(s,x))}if(p===1)throw p=hh,ed(s,0),nu(s,c),Zs(s,Zr()),p;if(p===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=c,td(s,Qs,_c),Zs(s,Zr()),null}function Jv(s,c){var p=un;un|=1;try{return s(c)}finally{un=p,un===0&&(Vd=Zr()+500,Ku&&F())}}function Xu(s){tu!==null&&tu.tag===0&&(un&6)===0&&Hd();var c=un;un|=1;var p=$o.transition,x=rn;try{if($o.transition=null,rn=1,s)return s()}finally{rn=x,$o.transition=p,un=c,(un&6)===0&&F()}}function Qv(){yo=Wd.current,vn(Wd)}function ed(s,c){s.finishedWork=null,s.finishedLanes=0;var p=s.timeoutHandle;if(p!==-1&&(s.timeoutHandle=-1,jp(p)),ea!==null)for(p=ea.return;p!==null;){var x=p;switch(Ge(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Td();break;case 3:Bo(),vn(is),vn(ha),lh();break;case 5:sh(x);break;case 4:Bo();break;case 13:vn(Un);break;case 19:vn(Un);break;case 10:Vn(x.type._context);break;case 22:case 23:Qv()}p=p.return}if(Ia=s,ea=s=iu(s.current,null),Wa=yo=c,ma=0,hh=null,Wv=Hp=Zu=0,Qs=ph=null,Cn!==null){for(c=0;c<Cn.length;c++)if(p=Cn[c],x=p.interleaved,x!==null){p.interleaved=null;var C=x.next,L=p.pending;if(L!==null){var J=L.next;L.next=C,x.next=J}p.pending=x}Cn=null}return s}function hx(s,c){do{var p=ea;try{if(ln(),Dd.current=Bp,Jc){for(var x=Hn.memoizedState;x!==null;){var C=x.queue;C!==null&&(C.pending=null),x=x.next}Jc=!1}if(zo=0,pi=Ni=Hn=null,ol=!1,Qc=0,qv.current=null,p===null||p.return===null){ma=1,hh=c,ea=null;break}e:{var L=s,J=p.return,ke=p,De=c;if(c=Wa,ke.flags|=32768,De!==null&&typeof De=="object"&&typeof De.then=="function"){var Xe=De,yt=ke,St=yt.tag;if((yt.mode&1)===0&&(St===0||St===11||St===15)){var vt=yt.alternate;vt?(yt.updateQueue=vt.updateQueue,yt.memoizedState=vt.memoizedState,yt.lanes=vt.lanes):(yt.updateQueue=null,yt.memoizedState=null)}var Bt=M2(J);if(Bt!==null){Bt.flags&=-257,B2(Bt,J,ke,L,c),Bt.mode&1&&F2(L,Xe,c),c=Bt,De=Xe;var Yt=c.updateQueue;if(Yt===null){var er=new Set;er.add(De),c.updateQueue=er}else Yt.add(De);break e}else{if((c&1)===0){F2(L,Xe,c),Zv();break e}De=Error(r(426))}}else if(ct&&ke.mode&1){var Ri=M2(J);if(Ri!==null){(Ri.flags&65536)===0&&(Ri.flags|=256),B2(Ri,J,ke,L,c),It($d(De,ke));break e}}L=De=$d(De,ke),ma!==4&&(ma=2),ph===null?ph=[L]:ph.push(L),L=J;do{switch(L.tag){case 3:L.flags|=65536,c&=-c,L.lanes|=c;var He=R2(L,De,c);En(L,He);break e;case 1:ke=De;var Fe=L.type,Ye=L.stateNode;if((L.flags&128)===0&&(typeof Fe.getDerivedStateFromError=="function"||Ye!==null&&typeof Ye.componentDidCatch=="function"&&(eu===null||!eu.has(Ye)))){L.flags|=65536,c&=-c,L.lanes|=c;var At=O2(L,ke,c);En(L,At);break e}}L=L.return}while(L!==null)}gx(p)}catch(ar){c=ar,ea===p&&p!==null&&(ea=p=p.return);continue}break}while(!0)}function px(){var s=Vp.current;return Vp.current=Bp,s===null?Bp:s}function Zv(){(ma===0||ma===3||ma===2)&&(ma=4),Ia===null||(Zu&268435455)===0&&(Hp&268435455)===0||nu(Ia,Wa)}function Zp(s,c){var p=un;un|=2;var x=px();(Ia!==s||Wa!==c)&&(_c=null,ed(s,c));do try{qP();break}catch(C){hx(s,C)}while(!0);if(ln(),un=p,Vp.current=x,ea!==null)throw Error(r(261));return Ia=null,Wa=0,ma}function qP(){for(;ea!==null;)mx(ea)}function WP(){for(;ea!==null&&!wn();)mx(ea)}function mx(s){var c=bx(s.alternate,s,yo);s.memoizedProps=s.pendingProps,c===null?gx(s):ea=c,qv.current=null}function gx(s){var c=s;do{var p=c.alternate;if(s=c.return,(c.flags&32768)===0){if(p=OP(p,c,yo),p!==null){ea=p;return}}else{if(p=FP(p,c),p!==null){p.flags&=32767,ea=p;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ma=6,ea=null;return}}if(c=c.sibling,c!==null){ea=c;return}ea=c=s}while(c!==null);ma===0&&(ma=5)}function td(s,c,p){var x=rn,C=$o.transition;try{$o.transition=null,rn=1,VP(s,c,p,x)}finally{$o.transition=C,rn=x}return null}function VP(s,c,p,x){do Hd();while(tu!==null);if((un&6)!==0)throw Error(r(327));p=s.finishedWork;var C=s.finishedLanes;if(p===null)return null;if(s.finishedWork=null,s.finishedLanes=0,p===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var L=p.lanes|p.childLanes;if(Na(s,L),s===Ia&&(ea=Ia=null,Wa=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Kp||(Kp=!0,xx(zs,function(){return Hd(),null})),L=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||L){L=$o.transition,$o.transition=null;var J=rn;rn=1;var ke=un;un|=4,qv.current=null,BP(s,p),sx(p,s),Qe(vc),$s=!!Hu,vc=Hu=null,s.current=p,zP(p),io(),un=ke,rn=J,$o.transition=L}else s.current=p;if(Kp&&(Kp=!1,tu=s,Yp=C),L=s.pendingLanes,L===0&&(eu=null),ac(p.stateNode),Zs(s,Zr()),c!==null)for(x=s.onRecoverableError,p=0;p<c.length;p++)C=c[p],x(C.value,{componentStack:C.stack,digest:C.digest});if(Gp)throw Gp=!1,s=Hv,Hv=null,s;return(Yp&1)!==0&&s.tag!==0&&Hd(),L=s.pendingLanes,(L&1)!==0?s===Gv?mh++:(mh=0,Gv=s):mh=0,F(),null}function Hd(){if(tu!==null){var s=Lr(Yp),c=$o.transition,p=rn;try{if($o.transition=null,rn=16>s?16:s,tu===null)var x=!1;else{if(s=tu,tu=null,Yp=0,(un&6)!==0)throw Error(r(331));var C=un;for(un|=4,Gt=s.current;Gt!==null;){var L=Gt,J=L.child;if((Gt.flags&16)!==0){var ke=L.deletions;if(ke!==null){for(var De=0;De<ke.length;De++){var Xe=ke[De];for(Gt=Xe;Gt!==null;){var yt=Gt;switch(yt.tag){case 0:case 11:case 15:fh(8,yt,L)}var St=yt.child;if(St!==null)St.return=yt,Gt=St;else for(;Gt!==null;){yt=Gt;var vt=yt.sibling,Bt=yt.return;if(tx(yt),yt===Xe){Gt=null;break}if(vt!==null){vt.return=Bt,Gt=vt;break}Gt=Bt}}}var Yt=L.alternate;if(Yt!==null){var er=Yt.child;if(er!==null){Yt.child=null;do{var Ri=er.sibling;er.sibling=null,er=Ri}while(er!==null)}}Gt=L}}if((L.subtreeFlags&2064)!==0&&J!==null)J.return=L,Gt=J;else e:for(;Gt!==null;){if(L=Gt,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:fh(9,L,L.return)}var He=L.sibling;if(He!==null){He.return=L.return,Gt=He;break e}Gt=L.return}}var Fe=s.current;for(Gt=Fe;Gt!==null;){J=Gt;var Ye=J.child;if((J.subtreeFlags&2064)!==0&&Ye!==null)Ye.return=J,Gt=Ye;else e:for(J=Fe;Gt!==null;){if(ke=Gt,(ke.flags&2048)!==0)try{switch(ke.tag){case 0:case 11:case 15:Wp(9,ke)}}catch(ar){Ci(ke,ke.return,ar)}if(ke===J){Gt=null;break e}var At=ke.sibling;if(At!==null){At.return=ke.return,Gt=At;break e}Gt=ke.return}}if(un=C,F(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(To,s)}catch{}x=!0}return x}finally{rn=p,$o.transition=c}}return!1}function vx(s,c,p){c=$d(p,c),c=R2(s,c,1),s=fi(s,c,1),c=Is(),s!==null&&(Lo(s,1,c),Zs(s,c))}function Ci(s,c,p){if(s.tag===3)vx(s,s,p);else for(;c!==null;){if(c.tag===3){vx(c,s,p);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(eu===null||!eu.has(x))){s=$d(p,s),s=O2(c,s,1),c=fi(c,s,1),s=Is(),c!==null&&(Lo(c,1,s),Zs(c,s));break}}c=c.return}}function HP(s,c,p){var x=s.pingCache;x!==null&&x.delete(c),c=Is(),s.pingedLanes|=s.suspendedLanes&p,Ia===s&&(Wa&p)===p&&(ma===4||ma===3&&(Wa&130023424)===Wa&&500>Zr()-Vv?ed(s,0):Wv|=p),Zs(s,c)}function yx(s,c){c===0&&((s.mode&1)===0?c=1:(c=Wi,Wi<<=1,(Wi&130023424)===0&&(Wi=4194304)));var p=Is();s=An(s,c),s!==null&&(Lo(s,c,p),Zs(s,p))}function GP(s){var c=s.memoizedState,p=0;c!==null&&(p=c.retryLane),yx(s,p)}function KP(s,c){var p=0;switch(s.tag){case 13:var x=s.stateNode,C=s.memoizedState;C!==null&&(p=C.retryLane);break;case 19:x=s.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(c),yx(s,p)}var bx;bx=function(s,c,p){if(s!==null)if(s.memoizedProps!==c.pendingProps||is.current)Js=!0;else{if((s.lanes&p)===0&&(c.flags&128)===0)return Js=!1,RP(s,c,p);Js=(s.flags&131072)!==0}else Js=!1,ct&&(c.flags&1048576)!==0&&qe(c,ae,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;$p(s,c),s=c.pendingProps;var C=Kc(c,ha.current);ri(c,p),C=Yu(null,c,x,s,C,p);var L=Uo();return c.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,as(x)?(L=!0,xc(c)):L=!1,c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,pa(c),C.updater=zp,c.stateNode=C,C._reactInternals=c,Pv(c,x,s,p),c=Dv(null,c,x,!0,L,p)):(c.tag=0,ct&&L&&st(c),js(null,c,C,p),c=c.child),c;case 16:x=c.elementType;e:{switch($p(s,c),s=c.pendingProps,C=x._init,x=C(x._payload),c.type=x,C=c.tag=JP(x),s=cl(x,s),C){case 0:c=Tv(null,c,x,s,p);break e;case 1:c=V2(null,c,x,s,p);break e;case 11:c=z2(null,c,x,s,p);break e;case 14:c=U2(null,c,x,cl(x.type,s),p);break e}throw Error(r(306,x,""))}return c;case 0:return x=c.type,C=c.pendingProps,C=c.elementType===x?C:cl(x,C),Tv(s,c,x,C,p);case 1:return x=c.type,C=c.pendingProps,C=c.elementType===x?C:cl(x,C),V2(s,c,x,C,p);case 3:e:{if(H2(c),s===null)throw Error(r(387));x=c.pendingProps,L=c.memoizedState,C=L.element,ss(s,c),ja(c,x,null,p);var J=c.memoizedState;if(x=J.element,L.isDehydrated)if(L={element:x,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},c.updateQueue.baseState=L,c.memoizedState=L,c.flags&256){C=$d(Error(r(423)),c),c=G2(s,c,x,p,C);break e}else if(x!==C){C=$d(Error(r(424)),c),c=G2(s,c,x,p,C);break e}else for(nt=$a(c.stateNode.containerInfo.firstChild),et=c,ct=!0,ut=null,p=Yn(c,null,x,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ht(),x===C){c=Sc(s,c,p);break e}js(s,c,x,p)}c=c.child}return c;case 5:return Lp(c),s===null&&Kt(c),x=c.type,C=c.pendingProps,L=s!==null?s.memoizedProps:null,J=C.children,th(x,C)?J=null:L!==null&&th(x,L)&&(c.flags|=32),W2(s,c),js(s,c,J,p),c.child;case 6:return s===null&&Kt(c),null;case 13:return K2(s,c,p);case 4:return Yc(c,c.stateNode.containerInfo),x=c.pendingProps,s===null?c.child=_i(c,null,x,p):js(s,c,x,p),c.child;case 11:return x=c.type,C=c.pendingProps,C=c.elementType===x?C:cl(x,C),z2(s,c,x,C,p);case 7:return js(s,c,c.pendingProps,p),c.child;case 8:return js(s,c,c.pendingProps.children,p),c.child;case 12:return js(s,c,c.pendingProps.children,p),c.child;case 10:e:{if(x=c.type._context,C=c.pendingProps,L=c.memoizedProps,J=C.value,Sn(Di,x._currentValue),x._currentValue=J,L!==null)if(Ne(L.value,J)){if(L.children===C.children&&!is.current){c=Sc(s,c,p);break e}}else for(L=c.child,L!==null&&(L.return=c);L!==null;){var ke=L.dependencies;if(ke!==null){J=L.child;for(var De=ke.firstContext;De!==null;){if(De.context===x){if(L.tag===1){De=di(-1,p&-p),De.tag=2;var Xe=L.updateQueue;if(Xe!==null){Xe=Xe.shared;var yt=Xe.pending;yt===null?De.next=De:(De.next=yt.next,yt.next=De),Xe.pending=De}}L.lanes|=p,De=L.alternate,De!==null&&(De.lanes|=p),cn(L.return,p,c),ke.lanes|=p;break}De=De.next}}else if(L.tag===10)J=L.type===c.type?null:L.child;else if(L.tag===18){if(J=L.return,J===null)throw Error(r(341));J.lanes|=p,ke=J.alternate,ke!==null&&(ke.lanes|=p),cn(J,p,c),J=L.sibling}else J=L.child;if(J!==null)J.return=L;else for(J=L;J!==null;){if(J===c){J=null;break}if(L=J.sibling,L!==null){L.return=J.return,J=L;break}J=J.return}L=J}js(s,c,C.children,p),c=c.child}return c;case 9:return C=c.type,x=c.pendingProps.children,ri(c,p),C=ni(C),x=x(C),c.flags|=1,js(s,c,x,p),c.child;case 14:return x=c.type,C=cl(x,c.pendingProps),C=cl(x.type,C),U2(s,c,x,C,p);case 15:return $2(s,c,c.type,c.pendingProps,p);case 17:return x=c.type,C=c.pendingProps,C=c.elementType===x?C:cl(x,C),$p(s,c),c.tag=1,as(x)?(s=!0,xc(c)):s=!1,ri(c,p),D2(c,x,C),Pv(c,x,C,p),Dv(null,c,x,!0,s,p);case 19:return J2(s,c,p);case 22:return q2(s,c,p)}throw Error(r(156,c.tag))};function xx(s,c){return Io(s,c)}function YP(s,c,p,x){this.tag=s,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qo(s,c,p,x){return new YP(s,c,p,x)}function Xv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function JP(s){if(typeof s=="function")return Xv(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===be)return 14}return 2}function iu(s,c){var p=s.alternate;return p===null?(p=qo(s.tag,c,s.key,s.mode),p.elementType=s.elementType,p.type=s.type,p.stateNode=s.stateNode,p.alternate=s,s.alternate=p):(p.pendingProps=c,p.type=s.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=s.flags&14680064,p.childLanes=s.childLanes,p.lanes=s.lanes,p.child=s.child,p.memoizedProps=s.memoizedProps,p.memoizedState=s.memoizedState,p.updateQueue=s.updateQueue,c=s.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=s.sibling,p.index=s.index,p.ref=s.ref,p}function Xp(s,c,p,x,C,L){var J=2;if(x=s,typeof s=="function")Xv(s)&&(J=1);else if(typeof s=="string")J=5;else e:switch(s){case K:return rd(p.children,C,L,c);case G:J=8,C|=8;break;case H:return s=qo(12,p,c,C|2),s.elementType=H,s.lanes=L,s;case W:return s=qo(13,p,c,C),s.elementType=W,s.lanes=L,s;case Y:return s=qo(19,p,c,C),s.elementType=Y,s.lanes=L,s;case ge:return em(p,C,L,c);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case oe:J=10;break e;case z:J=9;break e;case U:J=11;break e;case be:J=14;break e;case he:J=16,x=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return c=qo(J,p,c,C),c.elementType=s,c.type=x,c.lanes=L,c}function rd(s,c,p,x){return s=qo(7,s,x,c),s.lanes=p,s}function em(s,c,p,x){return s=qo(22,s,x,c),s.elementType=ge,s.lanes=p,s.stateNode={isHidden:!1},s}function e0(s,c,p){return s=qo(6,s,null,c),s.lanes=p,s}function t0(s,c,p){return c=qo(4,s.children!==null?s.children:[],s.key,c),c.lanes=p,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}function QP(s,c,p,x,C){this.tag=c,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Do(0),this.expirationTimes=Do(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Do(0),this.identifierPrefix=x,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function r0(s,c,p,x,C,L,J,ke,De){return s=new QP(s,c,p,ke,De),c===1?(c=1,L===!0&&(c|=8)):c=0,L=qo(3,null,null,c),s.current=L,L.stateNode=s,L.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},pa(L),s}function ZP(s,c,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:x==null?null:""+x,children:s,containerInfo:c,implementation:p}}function wx(s){if(!s)return Bl;s=s._reactInternals;e:{if(In(s)!==s||s.tag!==1)throw Error(r(170));var c=s;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(as(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(s.tag===1){var p=s.type;if(as(p))return ah(s,p,c)}return c}function Sx(s,c,p,x,C,L,J,ke,De){return s=r0(p,x,!0,s,C,L,J,ke,De),s.context=wx(null),p=s.current,x=Is(),C=ru(p),L=di(x,C),L.callback=c??null,fi(p,L,C),s.current.lanes=C,Lo(s,C,x),Zs(s,x),s}function tm(s,c,p,x){var C=c.current,L=Is(),J=ru(C);return p=wx(p),c.context===null?c.context=p:c.pendingContext=p,c=di(L,J),c.payload={element:s},x=x===void 0?null:x,x!==null&&(c.callback=x),s=fi(C,c,J),s!==null&&(fl(s,C,J,L),Pa(s,C,J)),J}function rm(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function _x(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var p=s.retryLane;s.retryLane=p!==0&&p<c?p:c}}function n0(s,c){_x(s,c),(s=s.alternate)&&_x(s,c)}function XP(){return null}var kx=typeof reportError=="function"?reportError:function(s){console.error(s)};function i0(s){this._internalRoot=s}nm.prototype.render=i0.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(r(409));tm(s,c,null,null)},nm.prototype.unmount=i0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;Xu(function(){tm(null,s,null,null)}),c[Aa]=null}};function nm(s){this._internalRoot=s}nm.prototype.unstable_scheduleHydration=function(s){if(s){var c=Vi();s={blockedOn:null,target:s,priority:c};for(var p=0;p<Ca.length&&c!==0&&c<Ca[p].priority;p++);Ca.splice(p,0,s),p===0&&Il(s)}};function a0(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function im(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Nx(){}function ej(s,c,p,x,C){if(C){if(typeof x=="function"){var L=x;x=function(){var Xe=rm(J);L.call(Xe)}}var J=Sx(c,x,s,0,null,!1,!1,"",Nx);return s._reactRootContainer=J,s[Aa]=J.current,mc(s.nodeType===8?s.parentNode:s),Xu(),J}for(;C=s.lastChild;)s.removeChild(C);if(typeof x=="function"){var ke=x;x=function(){var Xe=rm(De);ke.call(Xe)}}var De=r0(s,0,!1,null,null,!1,!1,"",Nx);return s._reactRootContainer=De,s[Aa]=De.current,mc(s.nodeType===8?s.parentNode:s),Xu(function(){tm(c,De,p,x)}),De}function am(s,c,p,x,C){var L=p._reactRootContainer;if(L){var J=L;if(typeof C=="function"){var ke=C;C=function(){var De=rm(J);ke.call(De)}}tm(c,J,s,C)}else J=ej(p,c,s,C,x);return rm(J)}Ro=function(s){switch(s.tag){case 3:var c=s.stateNode;if(c.current.memoizedState.isDehydrated){var p=sa(c.pendingLanes);p!==0&&(Qo(c,p|1),Zs(c,Zr()),(un&6)===0&&(Vd=Zr()+500,F()))}break;case 13:Xu(function(){var x=An(s,1);if(x!==null){var C=Is();fl(x,s,1,C)}}),n0(s,1)}},lc=function(s){if(s.tag===13){var c=An(s,134217728);if(c!==null){var p=Is();fl(c,s,134217728,p)}n0(s,134217728)}},$c=function(s){if(s.tag===13){var c=ru(s),p=An(s,c);if(p!==null){var x=Is();fl(p,s,c,x)}n0(s,c)}},Vi=function(){return rn},ys=function(s,c){var p=rn;try{return rn=s,c()}finally{rn=p}},bt=function(s,c,p){switch(c){case"input":if(lr(s,p),c=p.name,p.type==="radio"&&c!=null){for(p=s;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var x=p[c];if(x!==s&&x.form===s.form){var C=Gu(x);if(!C)throw Error(r(90));it(x),lr(x,C)}}}break;case"textarea":dt(s,p);break;case"select":c=p.value,c!=null&&Ce(s,!!p.multiple,c,!1)}},Pi=Jv,Bs=Xu;var tj={usingClientEntryPoint:!1,Events:[Gc,yc,Gu,tn,Ms,Jv]},gh={findFiberByHostInstance:Ml,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rj={bundleType:gh.bundleType,version:gh.version,rendererPackageName:gh.rendererPackageName,rendererConfig:gh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ka(s),s===null?null:s.stateNode},findFiberByHostInstance:gh.findFiberByHostInstance||XP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{To=sm.inject(rj),qi=sm}catch{}}return Xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tj,Xs.createPortal=function(s,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a0(c))throw Error(r(200));return ZP(s,c,null,p)},Xs.createRoot=function(s,c){if(!a0(s))throw Error(r(299));var p=!1,x="",C=kx;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),c=r0(s,1,!1,null,null,p,!1,x,C),s[Aa]=c.current,mc(s.nodeType===8?s.parentNode:s),new i0(c)},Xs.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Ka(c),s=s===null?null:s.stateNode,s},Xs.flushSync=function(s){return Xu(s)},Xs.hydrate=function(s,c,p){if(!im(c))throw Error(r(200));return am(null,s,c,!0,p)},Xs.hydrateRoot=function(s,c,p){if(!a0(s))throw Error(r(405));var x=p!=null&&p.hydratedSources||null,C=!1,L="",J=kx;if(p!=null&&(p.unstable_strictMode===!0&&(C=!0),p.identifierPrefix!==void 0&&(L=p.identifierPrefix),p.onRecoverableError!==void 0&&(J=p.onRecoverableError)),c=Sx(c,null,s,1,p??null,C,!1,L,J),s[Aa]=c.current,mc(s),x)for(s=0;s<x.length;s++)p=x[s],C=p._getVersion,C=C(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,C]:c.mutableSourceEagerHydrationData.push(p,C);return new nm(c)},Xs.render=function(s,c,p){if(!im(c))throw Error(r(200));return am(null,s,c,!1,p)},Xs.unmountComponentAtNode=function(s){if(!im(s))throw Error(r(40));return s._reactRootContainer?(Xu(function(){am(null,null,s,!1,function(){s._reactRootContainer=null,s[Aa]=null})}),!0):!1},Xs.unstable_batchedUpdates=Jv,Xs.unstable_renderSubtreeIntoContainer=function(s,c,p,x){if(!im(p))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return am(s,c,p,!1,x)},Xs.version="18.3.1-next-f1338f8080-20240426",Xs}var Dx;function ek(){if(Dx)return l0.exports;Dx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),l0.exports=fj(),l0.exports}var Lx;function hj(){if(Lx)return om;Lx=1;var t=ek();return om.createRoot=t.createRoot,om.hydrateRoot=t.hydrateRoot,om}var pj=hj();function mj(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,a,o=[],l="",u=t.split("/");for(u[0]||u.shift();i=u.shift();)r=i[0],r==="*"?(o.push(r),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~n?n:~a?a:i.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var D=Rg();const Wt=dp(D),B1=ij({__proto__:null,default:Wt},[D]);var d0={exports:{}},f0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function gj(){if(Rx)return f0;Rx=1;var t=Rg();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(m,y){var g=y(),k=n({inst:{value:g,getSnapshot:y}}),_=k[0].inst,N=k[1];return a(function(){_.value=g,_.getSnapshot=y,u(_)&&N({inst:_})},[m,g,y]),i(function(){return u(_)&&N({inst:_}),m(function(){u(_)&&N({inst:_})})},[m]),o(g),g}function u(m){var y=m.getSnapshot;m=m.value;try{var g=y();return!r(m,g)}catch{return!0}}function d(m,y){return y()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return f0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,f0}var Ox;function vj(){return Ox||(Ox=1,d0.exports=gj()),d0.exports}var yj=vj();const bj=B1.useInsertionEffect,xj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wj=xj?D.useLayoutEffect:D.useEffect,Sj=bj||wj,tk=t=>{const e=D.useRef([t,(...r)=>e[0](...r)]).current;return Sj(()=>{e[0]=t}),e[1]},_j="popstate",z1="pushState",U1="replaceState",kj="hashchange",Fx=[_j,z1,U1,kj],Nj=t=>{for(const e of Fx)addEventListener(e,t);return()=>{for(const e of Fx)removeEventListener(e,t)}},rk=(t,e)=>yj.useSyncExternalStore(Nj,t,e),Cj=()=>location.search,Aj=({ssrSearch:t=""}={})=>rk(Cj,()=>t),Mx=()=>location.pathname,Ej=({ssrPath:t}={})=>rk(Mx,t?()=>t:Mx),Pj=(t,{replace:e=!1,state:r=null}={})=>history[e?U1:z1](r,"",t),jj=(t={})=>[Ej(t),Pj],Bx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Bx]>"u"){for(const t of[z1,U1]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Bx,{value:!0})}const Ij=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",nk=(t="")=>t==="/"?"":t,Tj=(t,e)=>t[0]==="~"?t.slice(1):nk(e)+t,Dj=(t="",e)=>Ij(zx(nk(t)),zx(e)),zx=t=>{try{return decodeURI(t)}catch{return t}},ik={hook:jj,searchHook:Aj,parser:mj,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},ak=D.createContext(ik),fp=()=>D.useContext(ak),sk={},ok=D.createContext(sk),lk=()=>D.useContext(ok),Og=t=>{const[e,r]=t.hook(t);return[Dj(t.base,e),tk((n,i)=>r(Tj(n,t.base),i))]},Fg=()=>Og(fp()),ck=(t,e,r,n)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=i.exec(r)||[],[l,...u]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((m,y)=>[m,u[y]])):o.groups;let f={...u};return d&&Object.assign(f,d),f})(),...n?[l]:[]]:[!1,null]},Lj=({children:t,...e})=>{const r=fp(),n=e.hook?ik:r;let i=n;const[a,o]=e.ssrPath?.split("?")??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let l=D.useRef({}),u=l.current,d=u;for(let f in n){const m=f==="base"?n[f]+(e[f]||""):e[f]||n[f];u===d&&m!==d[f]&&(l.current=d={...d}),d[f]=m,(m!==n[f]||m!==i[f])&&(i=d)}return D.createElement(ak.Provider,{value:i,children:t})},Ux=({children:t,component:e},r)=>e?D.createElement(e,{params:r}):typeof t=="function"?t(r):t,Rj=t=>{let e=D.useRef(sk);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,i])=>i!==r[n])?t:r},su=({path:t,nest:e,match:r,...n})=>{const i=fp(),[a]=Og(i),[o,l,u]=r??ck(i.parser,t,a,e),d=Rj({...lk(),...l});if(!o)return null;const f=u?D.createElement(Lj,{base:u},Ux(n,d)):Ux(n,d);return D.createElement(ok.Provider,{value:d,children:f})},So=D.forwardRef((t,e)=>{const r=fp(),[n,i]=Og(r),{to:a="",href:o=a,onClick:l,asChild:u,children:d,className:f,replace:m,state:y,...g}=t,k=tk(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(l?.(N),N.defaultPrevented||(N.preventDefault(),i(o,t)))}),_=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return u&&D.isValidElement(d)?D.cloneElement(d,{onClick:k,href:_}):D.createElement("a",{...g,onClick:k,href:_,className:f?.call?f(n===o):f,children:d,ref:e})}),uk=t=>Array.isArray(t)?t.flatMap(e=>uk(e&&e.type===D.Fragment?e.props.children:e)):[t],Oj=({children:t,location:e})=>{const r=fp(),[n]=Og(r);for(const i of uk(t)){let a=0;if(D.isValidElement(i)&&(a=ck(r.parser,i.props.path,e||n,i.props.nest))[0])return D.cloneElement(i,{match:a})}return null};var Vf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hd=typeof window>"u"||"Deno"in globalThis;function Ls(){}function Fj(t,e){return typeof t=="function"?t(e):t}function ky(t){return typeof t=="number"&&t>=0&&t!==1/0}function dk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bu(t,e){return typeof t=="function"?t(e):t}function Vo(t,e){return typeof t=="function"?t(e):t}function $x(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==$1(o,e.options))return!1}else if(!Hh(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function qx(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(pd(e.options.mutationKey)!==pd(a))return!1}else if(!Hh(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function $1(t,e){return(e?.queryKeyHashFn||pd)(t)}function pd(t){return JSON.stringify(t,(e,r)=>Ny(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Hh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Hh(t[r],e[r])):!1}function fk(t,e){if(t===e)return t;const r=Wx(t)&&Wx(e);if(r||Ny(t)&&Ny(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{},u=new Set(n);let d=0;for(let f=0;f<o;f++){const m=r?f:a[f];(!r&&u.has(m)||r)&&t[m]===void 0&&e[m]===void 0?(l[m]=void 0,d++):(l[m]=fk(t[m],e[m]),l[m]===t[m]&&t[m]!==void 0&&d++)}return i===o&&d===i?t:l}return e}function eg(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Wx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ny(t){if(!Vx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Vx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Vx(t){return Object.prototype.toString.call(t)==="[object Object]"}function Mj(t){return new Promise(e=>{setTimeout(e,t)})}function Cy(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?fk(t,e):e}function Bj(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function zj(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var q1=Symbol();function hk(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===q1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function pk(t,e){return typeof t=="function"?t(...e):!!t}var Uj=class extends Vf{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!hd&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},W1=new Uj,$j=class extends Vf{#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!hd&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},tg=new $j;function Ay(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function qj(t){return Math.min(1e3*2**t,3e4)}function mk(t){return(t??"online")==="online"?tg.isOnline():!0}var gk=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function h0(t){return t instanceof gk}function vk(t){let e=!1,r=0,n=!1,i;const a=Ay(),o=_=>{n||(y(new gk(_)),t.abort?.())},l=()=>{e=!0},u=()=>{e=!1},d=()=>W1.isFocused()&&(t.networkMode==="always"||tg.isOnline())&&t.canRun(),f=()=>mk(t.networkMode)&&t.canRun(),m=_=>{n||(n=!0,t.onSuccess?.(_),i?.(),a.resolve(_))},y=_=>{n||(n=!0,t.onError?.(_),i?.(),a.reject(_))},g=()=>new Promise(_=>{i=N=>{(n||d())&&_(N)},t.onPause?.()}).then(()=>{i=void 0,n||t.onContinue?.()}),k=()=>{if(n)return;let _;const N=r===0?t.initialPromise:void 0;try{_=N??t.fn()}catch(E){_=Promise.reject(E)}Promise.resolve(_).then(m).catch(E=>{if(n)return;const T=t.retry??(hd?0:3),P=t.retryDelay??qj,R=typeof P=="function"?P(r,E):P,M=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,E);if(e||!M){y(E);return}r++,t.onFail?.(r,E),Mj(R).then(()=>d()?void 0:g()).then(()=>{e?y(E):k()})})};return{promise:a,cancel:o,continue:()=>(i?.(),a),cancelRetry:l,continueRetry:u,canStart:f,start:()=>(f()?k():g().then(k),a)}}var Wj=t=>setTimeout(t,0);function Vj(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=Wj;const a=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(u=>{r(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{a(()=>{l(...u)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var ba=Vj(),yk=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ky(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(hd?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Hj=class extends yk{#t;#e;#r;#n;#i;#s;#o;constructor(t){super(),this.#o=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=Gj(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Cy(this.state.data,t,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Ls).catch(Ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Vo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===q1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>bu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!dk(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const u=hk(this.options,e),f=(()=>{const m={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(m),m})();return this.#o=!1,this.options.persister?this.options.persister(u,f,this):u(f)},o=(()=>{const u={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(u),u})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const l=u=>{h0(u)&&u.silent||this.#a({type:"error",error:u}),h0(u)||(this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#i=vk({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){l(d);return}this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,d)=>{this.#a({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bk(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#e=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return h0(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),ba.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function bk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Gj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Kj=class extends Vf{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){const n=e.queryKey,i=e.queryHash??$1(n,e);let a=this.get(i);return a||(a=new Hj({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ba.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>$x(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>$x(t,r)):e}notify(t){ba.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){ba.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ba.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yj=class extends yk{#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||xk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})};this.#r=vk({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#n({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);const a=await this.options.onMutate?.(t);a!==this.state.context&&this.#n({type:"pending",context:a,variables:t,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),ba.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function xk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jj=class extends Vf{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){const n=new Yj({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);const e=lm(t);if(typeof e=="string"){const r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=lm(t);if(typeof e=="string"){const r=this.#e.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=lm(t);if(typeof e=="string"){const n=this.#e.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=lm(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ba.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>qx(e,r))}findAll(t={}){return this.getAll().filter(e=>qx(t,e))}notify(t){ba.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return ba.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ls))))}};function lm(t){return t.options.scope?.id}function Hx(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let f=!1;const m=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},y=hk(e.options,e.fetchOptions),g=async(k,_,N)=>{if(f)return Promise.reject();if(_==null&&k.pages.length)return Promise.resolve(k);const T=(()=>{const Q={client:e.client,queryKey:e.queryKey,pageParam:_,direction:N?"backward":"forward",meta:e.options.meta};return m(Q),Q})(),P=await y(T),{maxPages:R}=e.options,M=N?zj:Bj;return{pages:M(k.pages,P,R),pageParams:M(k.pageParams,_,R)}};if(i&&a.length){const k=i==="backward",_=k?Qj:Gx,N={pages:a,pageParams:o},E=_(n,N);l=await g(N,E,k)}else{const k=t??a.length;do{const _=u===0?o[0]??n.initialPageParam:Gx(n,l);if(u>0&&_==null)break;l=await g(l,_),u++}while(u<k)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=d}}}function Gx(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Qj(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var Zj=class{#t;#e;#r;#n;#i;#s;#o;#a;constructor(t={}){this.#t=t.queryCache||new Kj,this.#e=t.mutationCache||new Jj,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=W1.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=tg.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(bu(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=this.#t.get(n.queryHash)?.state.data,o=Fj(e,a);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ba.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;ba.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#t;return ba.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ba.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Ls).catch(Ls)}invalidateQueries(t,e={}){return ba.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ba.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ls)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Ls)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#t.build(this,e);return r.isStaleByTime(bu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ls).catch(Ls)}fetchInfiniteQuery(t){return t.behavior=Hx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ls).catch(Ls)}ensureInfiniteQueryData(t){return t.behavior=Hx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tg.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(pd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{Hh(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(pd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(n=>{Hh(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===q1&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Xj=class extends Vf{constructor(t,e){super(),this.options=e,this.#t=t,this.#a=null,this.#o=Ay(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#s;#o;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Kx(this.#e,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ey(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ey(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vo(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),e._defaulted&&!eg(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&Yx(this.#e,r,this.options,e)&&this.#d(),this.updateResult(),n&&(this.#e!==r||Vo(this.options.enabled,this.#e)!==Vo(e.enabled,this.#e)||bu(this.options.staleTime,this.#e)!==bu(e.staleTime,this.#e))&&this.#g();const i=this.#v();n&&(this.#e!==r||Vo(this.options.enabled,this.#e)!==Vo(e.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return t6(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),Reflect.get(r,n))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#S();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ls)),e}#g(){this.#x();const t=bu(this.options.staleTime,this.#e);if(hd||this.#n.isStale||!ky(t))return;const r=dk(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(hd||Vo(this.options.enabled,this.#e)===!1||!ky(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||W1.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#y(this.#v())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#e,n=this.options,i=this.#n,a=this.#i,o=this.#s,u=t!==r?t.state:this.#r,{state:d}=t;let f={...d},m=!1,y;if(e._optimisticResults){const G=this.hasListeners(),H=!G&&Kx(t,e),oe=G&&Yx(t,r,e,n);(H||oe)&&(f={...f,...bk(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:k,status:_}=f;y=f.data;let N=!1;if(e.placeholderData!==void 0&&y===void 0&&_==="pending"){let G;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(G=i.data,N=!0):G=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,G!==void 0&&(_="success",y=Cy(i?.data,G,e),m=!0)}if(e.select&&y!==void 0&&!N)if(i&&y===a?.data&&e.select===this.#m)y=this.#f;else try{this.#m=e.select,y=e.select(y),y=Cy(i?.data,y,e),this.#f=y,this.#a=null}catch(G){this.#a=G}this.#a&&(g=this.#a,y=this.#f,k=Date.now(),_="error");const E=f.fetchStatus==="fetching",T=_==="pending",P=_==="error",R=T&&E,M=y!==void 0,K={status:_,fetchStatus:f.fetchStatus,isPending:T,isSuccess:_==="success",isError:P,isInitialLoading:R,isLoading:R,data:y,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:k,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!T,isLoadingError:P&&!M,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:P&&M,isStale:V1(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Vo(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const G=z=>{K.status==="error"?z.reject(K.error):K.data!==void 0&&z.resolve(K.data)},H=()=>{const z=this.#o=K.promise=Ay();G(z)},oe=this.#o;switch(oe.status){case"pending":t.queryHash===r.queryHash&&G(oe);break;case"fulfilled":(K.status==="error"||K.data!==oe.value)&&H();break;case"rejected":(K.status!=="error"||K.error!==oe.reason)&&H();break}}return K}updateResult(){const t=this.#n,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#s=this.options,this.#i.data!==void 0&&(this.#h=this.#e),eg(e,t))return;this.#n=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==t[l]&&a.has(l)})};this.#_({listeners:r()})}#S(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#_(t){ba.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function e6(t,e){return Vo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Kx(t,e){return e6(t,e)||t.state.data!==void 0&&Ey(t,e,e.refetchOnMount)}function Ey(t,e,r){if(Vo(e.enabled,t)!==!1&&bu(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&V1(t,e)}return!1}function Yx(t,e,r,n){return(t!==e||Vo(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&V1(t,r)}function V1(t,e){return Vo(e.enabled,t)!==!1&&t.isStaleByTime(bu(e.staleTime,t))}function t6(t,e){return!eg(t.getCurrentResult(),e)}var r6=class extends Vf{#t;#e=void 0;#r;#n;constructor(e,r){super(),this.#t=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#t.defaultMutationOptions(e),eg(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&pd(r.mutationKey)!==pd(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??xk();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){ba.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},wk=D.createContext(void 0),tc=t=>{const e=D.useContext(wk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},n6=({client:t,children:e})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(wk.Provider,{value:t,children:e})),Sk=D.createContext(!1),i6=()=>D.useContext(Sk);Sk.Provider;function a6(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var s6=D.createContext(a6()),o6=()=>D.useContext(s6),l6=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},c6=t=>{D.useEffect(()=>{t.clearReset()},[t])},u6=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||pk(r,[t.error,n])),d6=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},f6=(t,e)=>t.isLoading&&t.isFetching&&!e,h6=(t,e)=>t?.suspense&&e.isPending,Jx=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function p6(t,e,r){const n=i6(),i=o6(),a=tc(),o=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",d6(o),l6(o,i),c6(i);const l=!a.getQueryCache().get(o.queryHash),[u]=D.useState(()=>new e(a,o)),d=u.getOptimisticResult(o),f=!n&&t.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(m=>{const y=f?u.subscribe(ba.batchCalls(m)):Ls;return u.updateResult(),y},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),D.useEffect(()=>{u.setOptions(o)},[o,u]),h6(o,d))throw Jx(o,u,i);if(u6({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!hd&&f6(d,n)&&(l?Jx(o,u,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(Ls).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function Mg(t,e){return p6(t,Xj)}function Lu(t,e){const r=tc(),[n]=D.useState(()=>new r6(r,t));D.useEffect(()=>{n.setOptions(t)},[n,t]);const i=D.useSyncExternalStore(D.useCallback(o=>n.subscribe(ba.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=D.useCallback((o,l)=>{n.mutate(o,l).catch(Ls)},[n]);if(i.error&&pk(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function m6(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const g6=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return await m6(r),await r.json()},v6=new Zj({defaultOptions:{queries:{queryFn:g6({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),y6=1,b6=5e3;let p0=0;function x6(){return p0=(p0+1)%Number.MAX_SAFE_INTEGER,p0.toString()}const m0=new Map,Qx=t=>{if(m0.has(t))return;const e=setTimeout(()=>{m0.delete(t),Th({type:"REMOVE_TOAST",toastId:t})},b6);m0.set(t,e)},w6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,y6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Qx(r):t.toasts.forEach(n=>{Qx(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Rm=[];let Om={toasts:[]};function Th(t){Om=w6(Om,t),Rm.forEach(e=>{e(Om)})}function S6({...t}){const e=x6(),r=i=>Th({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Th({type:"DISMISS_TOAST",toastId:e});return Th({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function gs(){const[t,e]=D.useState(Om);return D.useEffect(()=>(Rm.push(e),()=>{const r=Rm.indexOf(e);r>-1&&Rm.splice(r,1)}),[t]),{...t,toast:S6,dismiss:r=>Th({type:"DISMISS_TOAST",toastId:r})}}var kd=ek();const _k=dp(kd);function fr(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function Zx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kk(...t){return e=>{let r=!1;const n=t.map(i=>{const a=Zx(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Zx(t[i],null)}}}}function gn(...t){return D.useCallback(kk(...t),t)}function _6(t,e){const r=D.createContext(e),n=a=>{const{children:o,...l}=a,u=D.useMemo(()=>l,Object.values(l));return h.jsx(r.Provider,{value:u,children:o})};n.displayName=t+"Provider";function i(a){const o=D.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Cl(t,e=[]){let r=[];function n(a,o){const l=D.createContext(o),u=r.length;r=[...r,o];const d=m=>{const{scope:y,children:g,...k}=m,_=y?.[t]?.[u]||l,N=D.useMemo(()=>k,Object.values(k));return h.jsx(_.Provider,{value:N,children:g})};d.displayName=a+"Provider";function f(m,y){const g=y?.[t]?.[u]||l,k=D.useContext(g);if(k)return k;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,f]}const i=()=>{const a=r.map(o=>D.createContext(o));return function(l){const u=l?.[t]||a;return D.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[n,k6(i,...e)]}function k6(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...l,...m}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Pf(t){const e=N6(t),r=D.forwardRef((n,i)=>{const{children:a,...o}=n,l=D.Children.toArray(a),u=l.find(C6);if(u){const d=u.props.children,f=l.map(m=>m===u?D.Children.count(d)>1?D.Children.only(null):D.isValidElement(d)?d.props.children:null:m);return h.jsx(e,{...o,ref:i,children:D.isValidElement(d)?D.cloneElement(d,void 0,f):null})}return h.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var Nk=Pf("Slot");function N6(t){const e=D.forwardRef((r,n)=>{const{children:i,...a}=r;if(D.isValidElement(i)){const o=E6(i),l=A6(a,i.props);return i.type!==D.Fragment&&(l.ref=n?kk(n,o):o),D.cloneElement(i,l)}return D.Children.count(i)>1?D.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ck=Symbol("radix.slottable");function Ak(t){const e=({children:r})=>h.jsx(h.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Ck,e}function C6(t){return D.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ck}function A6(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const u=a(...l);return i(...l),u}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function E6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function H1(t){const e=t+"CollectionProvider",[r,n]=Cl(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:N,children:E}=_,T=Wt.useRef(null),P=Wt.useRef(new Map).current;return h.jsx(i,{scope:N,itemMap:P,collectionRef:T,children:E})};o.displayName=e;const l=t+"CollectionSlot",u=Pf(l),d=Wt.forwardRef((_,N)=>{const{scope:E,children:T}=_,P=a(l,E),R=gn(N,P.collectionRef);return h.jsx(u,{ref:R,children:T})});d.displayName=l;const f=t+"CollectionItemSlot",m="data-radix-collection-item",y=Pf(f),g=Wt.forwardRef((_,N)=>{const{scope:E,children:T,...P}=_,R=Wt.useRef(null),M=gn(N,R),Q=a(f,E);return Wt.useEffect(()=>(Q.itemMap.set(R,{ref:R,...P}),()=>void Q.itemMap.delete(R))),h.jsx(y,{[m]:"",ref:M,children:T})});g.displayName=f;function k(_){const N=a(t+"CollectionConsumer",_);return Wt.useCallback(()=>{const T=N.collectionRef.current;if(!T)return[];const P=Array.from(T.querySelectorAll(`[${m}]`));return Array.from(N.itemMap.values()).sort((Q,K)=>P.indexOf(Q.ref.current)-P.indexOf(K.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},k,n]}var P6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dr=P6.reduce((t,e)=>{const r=Pf(`Primitive.${e}`),n=D.forwardRef((i,a)=>{const{asChild:o,...l}=i,u=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(u,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ek(t,e){t&&kd.flushSync(()=>t.dispatchEvent(e))}function Ko(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...r)=>e.current?.(...r),[])}function j6(t,e=globalThis?.document){const r=Ko(t);D.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var I6="DismissableLayer",Py="dismissableLayer.update",T6="dismissableLayer.pointerDownOutside",D6="dismissableLayer.focusOutside",Xx,Pk=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hp=D.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...u}=t,d=D.useContext(Pk),[f,m]=D.useState(null),y=f?.ownerDocument??globalThis?.document,[,g]=D.useState({}),k=gn(e,K=>m(K)),_=Array.from(d.layers),[N]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(N),T=f?_.indexOf(f):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,R=T>=E,M=R6(K=>{const G=K.target,H=[...d.branches].some(oe=>oe.contains(G));!R||H||(i?.(K),o?.(K),K.defaultPrevented||l?.())},y),Q=O6(K=>{const G=K.target;[...d.branches].some(oe=>oe.contains(G))||(a?.(K),o?.(K),K.defaultPrevented||l?.())},y);return j6(K=>{T===d.layers.size-1&&(n?.(K),!K.defaultPrevented&&l&&(K.preventDefault(),l()))},y),D.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Xx=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),ew(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Xx)}},[f,y,r,d]),D.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),ew())},[f,d]),D.useEffect(()=>{const K=()=>g({});return document.addEventListener(Py,K),()=>document.removeEventListener(Py,K)},[]),h.jsx(Dr.div,{...u,ref:k,style:{pointerEvents:P?R?"auto":"none":void 0,...t.style},onFocusCapture:fr(t.onFocusCapture,Q.onFocusCapture),onBlurCapture:fr(t.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:fr(t.onPointerDownCapture,M.onPointerDownCapture)})});hp.displayName=I6;var L6="DismissableLayerBranch",jk=D.forwardRef((t,e)=>{const r=D.useContext(Pk),n=D.useRef(null),i=gn(e,n);return D.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),h.jsx(Dr.div,{...t,ref:i})});jk.displayName=L6;function R6(t,e=globalThis?.document){const r=Ko(t),n=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let u=function(){Ik(T6,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function O6(t,e=globalThis?.document){const r=Ko(t),n=D.useRef(!1);return D.useEffect(()=>{const i=a=>{a.target&&!n.current&&Ik(D6,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ew(){const t=new CustomEvent(Py);document.dispatchEvent(t)}function Ik(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Ek(i,a):i.dispatchEvent(a)}var F6=hp,M6=jk,Ha=globalThis?.document?D.useLayoutEffect:()=>{},B6="Portal",Bg=D.forwardRef((t,e)=>{const{container:r,...n}=t,[i,a]=D.useState(!1);Ha(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?_k.createPortal(h.jsx(Dr.div,{...n,ref:e}),o):null});Bg.displayName=B6;function z6(t,e){return D.useReducer((r,n)=>e[r][n]??r,t)}var Ru=t=>{const{present:e,children:r}=t,n=U6(e),i=typeof r=="function"?r({present:n.isPresent}):D.Children.only(r),a=gn(n.ref,$6(i));return typeof r=="function"||n.isPresent?D.cloneElement(i,{ref:a}):null};Ru.displayName="Presence";function U6(t){const[e,r]=D.useState(),n=D.useRef(null),i=D.useRef(t),a=D.useRef("none"),o=t?"mounted":"unmounted",[l,u]=z6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const d=cm(n.current);a.current=l==="mounted"?d:"none"},[l]),Ha(()=>{const d=n.current,f=i.current;if(f!==t){const y=a.current,g=cm(d);t?u("MOUNT"):g==="none"||d?.display==="none"?u("UNMOUNT"):u(f&&y!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Ha(()=>{if(e){let d;const f=e.ownerDocument.defaultView??window,m=g=>{const _=cm(n.current).includes(g.animationName);if(g.target===e&&_&&(u("ANIMATION_END"),!i.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",d=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},y=g=>{g.target===e&&(a.current=cm(n.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{f.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:D.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function cm(t){return t?.animationName||"none"}function $6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var q6=B1[" useInsertionEffect ".trim().toString()]||Ha;function Au({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=W6({defaultProp:e,onChange:r}),l=t!==void 0,u=l?t:i;{const f=D.useRef(t!==void 0);D.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const d=D.useCallback(f=>{if(l){const m=V6(f)?f(t):f;m!==t&&o.current?.(m)}else a(f)},[l,t,a,o]);return[u,d]}function W6({defaultProp:t,onChange:e}){const[r,n]=D.useState(t),i=D.useRef(r),a=D.useRef(e);return q6(()=>{a.current=e},[e]),D.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function V6(t){return typeof t=="function"}var Tk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),H6="VisuallyHidden",zg=D.forwardRef((t,e)=>h.jsx(Dr.span,{...t,ref:e,style:{...Tk,...t.style}}));zg.displayName=H6;var G6=zg,G1="ToastProvider",[K1,K6,Y6]=H1("Toast"),[Dk,IG]=Cl("Toast",[Y6]),[J6,Ug]=Dk(G1),Lk=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,u]=D.useState(null),[d,f]=D.useState(0),m=D.useRef(!1),y=D.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${G1}\`. Expected non-empty \`string\`.`),h.jsx(K1.Provider,{scope:e,children:h.jsx(J6,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:u,onToastAdd:D.useCallback(()=>f(g=>g+1),[]),onToastRemove:D.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:y,children:o})})};Lk.displayName=G1;var Rk="ToastViewport",Q6=["F8"],jy="toast.viewportPause",Iy="toast.viewportResume",Ok=D.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Q6,label:i="Notifications ({hotkey})",...a}=t,o=Ug(Rk,r),l=K6(r),u=D.useRef(null),d=D.useRef(null),f=D.useRef(null),m=D.useRef(null),y=gn(e,m,o.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=o.toastCount>0;D.useEffect(()=>{const N=E=>{n.length!==0&&n.every(P=>E[P]||E.code===P)&&m.current?.focus()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),D.useEffect(()=>{const N=u.current,E=m.current;if(k&&N&&E){const T=()=>{if(!o.isClosePausedRef.current){const Q=new CustomEvent(jy);E.dispatchEvent(Q),o.isClosePausedRef.current=!0}},P=()=>{if(o.isClosePausedRef.current){const Q=new CustomEvent(Iy);E.dispatchEvent(Q),o.isClosePausedRef.current=!1}},R=Q=>{!N.contains(Q.relatedTarget)&&P()},M=()=>{N.contains(document.activeElement)||P()};return N.addEventListener("focusin",T),N.addEventListener("focusout",R),N.addEventListener("pointermove",T),N.addEventListener("pointerleave",M),window.addEventListener("blur",T),window.addEventListener("focus",P),()=>{N.removeEventListener("focusin",T),N.removeEventListener("focusout",R),N.removeEventListener("pointermove",T),N.removeEventListener("pointerleave",M),window.removeEventListener("blur",T),window.removeEventListener("focus",P)}}},[k,o.isClosePausedRef]);const _=D.useCallback(({tabbingDirection:N})=>{const T=l().map(P=>{const R=P.ref.current,M=[R,...uI(R)];return N==="forwards"?M:M.reverse()});return(N==="forwards"?T.reverse():T).flat()},[l]);return D.useEffect(()=>{const N=m.current;if(N){const E=T=>{const P=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!P){const M=document.activeElement,Q=T.shiftKey;if(T.target===N&&Q){d.current?.focus();return}const H=_({tabbingDirection:Q?"backwards":"forwards"}),oe=H.findIndex(z=>z===M);g0(H.slice(oe+1))?T.preventDefault():Q?d.current?.focus():f.current?.focus()}};return N.addEventListener("keydown",E),()=>N.removeEventListener("keydown",E)}},[l,_]),h.jsxs(M6,{ref:u,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&h.jsx(Ty,{ref:d,onFocusFromOutsideViewport:()=>{const N=_({tabbingDirection:"forwards"});g0(N)}}),h.jsx(K1.Slot,{scope:r,children:h.jsx(Dr.ol,{tabIndex:-1,...a,ref:y})}),k&&h.jsx(Ty,{ref:f,onFocusFromOutsideViewport:()=>{const N=_({tabbingDirection:"backwards"});g0(N)}})]})});Ok.displayName=Rk;var Fk="ToastFocusProxy",Ty=D.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=Ug(Fk,r);return h.jsx(zg,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!a.viewport?.contains(l)&&n()}})});Ty.displayName=Fk;var pp="Toast",Z6="toast.swipeStart",X6="toast.swipeMove",eI="toast.swipeCancel",tI="toast.swipeEnd",Mk=D.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[l,u]=Au({prop:n,defaultProp:i??!0,onChange:a,caller:pp});return h.jsx(Ru,{present:r||l,children:h.jsx(iI,{open:l,...o,ref:e,onClose:()=>u(!1),onPause:Ko(t.onPause),onResume:Ko(t.onResume),onSwipeStart:fr(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fr(t.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:fr(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fr(t.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});Mk.displayName=pp;var[rI,nI]=Dk(pp,{onClose(){}}),iI=D.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:u,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:y,onSwipeEnd:g,...k}=t,_=Ug(pp,r),[N,E]=D.useState(null),T=gn(e,Y=>E(Y)),P=D.useRef(null),R=D.useRef(null),M=i||_.duration,Q=D.useRef(0),K=D.useRef(M),G=D.useRef(0),{onToastAdd:H,onToastRemove:oe}=_,z=Ko(()=>{N?.contains(document.activeElement)&&_.viewport?.focus(),o()}),U=D.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(G.current),Q.current=new Date().getTime(),G.current=window.setTimeout(z,Y))},[z]);D.useEffect(()=>{const Y=_.viewport;if(Y){const be=()=>{U(K.current),d?.()},he=()=>{const ge=new Date().getTime()-Q.current;K.current=K.current-ge,window.clearTimeout(G.current),u?.()};return Y.addEventListener(jy,he),Y.addEventListener(Iy,be),()=>{Y.removeEventListener(jy,he),Y.removeEventListener(Iy,be)}}},[_.viewport,M,u,d,U]),D.useEffect(()=>{a&&!_.isClosePausedRef.current&&U(M)},[a,M,_.isClosePausedRef,U]),D.useEffect(()=>(H(),()=>oe()),[H,oe]);const W=D.useMemo(()=>N?Vk(N):null,[N]);return _.viewport?h.jsxs(h.Fragment,{children:[W&&h.jsx(aI,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),h.jsx(rI,{scope:r,onClose:z,children:kd.createPortal(h.jsx(K1.ItemSlot,{scope:r,children:h.jsx(F6,{asChild:!0,onEscapeKeyDown:fr(l,()=>{_.isFocusedToastEscapeKeyDownRef.current||z(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Dr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":_.swipeDirection,...k,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:fr(t.onKeyDown,Y=>{Y.key==="Escape"&&(l?.(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:fr(t.onPointerDown,Y=>{Y.button===0&&(P.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:fr(t.onPointerMove,Y=>{if(!P.current)return;const be=Y.clientX-P.current.x,he=Y.clientY-P.current.y,ge=!!R.current,ie=["left","right"].includes(_.swipeDirection),ve=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,_e=ie?ve(0,be):0,te=ie?0:ve(0,he),O=Y.pointerType==="touch"?10:2,ee={x:_e,y:te},ne={originalEvent:Y,delta:ee};ge?(R.current=ee,um(X6,m,ne,{discrete:!1})):tw(ee,_.swipeDirection,O)?(R.current=ee,um(Z6,f,ne,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(be)>O||Math.abs(he)>O)&&(P.current=null)}),onPointerUp:fr(t.onPointerUp,Y=>{const be=R.current,he=Y.target;if(he.hasPointerCapture(Y.pointerId)&&he.releasePointerCapture(Y.pointerId),R.current=null,P.current=null,be){const ge=Y.currentTarget,ie={originalEvent:Y,delta:be};tw(be,_.swipeDirection,_.swipeThreshold)?um(tI,g,ie,{discrete:!0}):um(eI,y,ie,{discrete:!0}),ge.addEventListener("click",ve=>ve.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),aI=t=>{const{__scopeToast:e,children:r,...n}=t,i=Ug(pp,e),[a,o]=D.useState(!1),[l,u]=D.useState(!1);return lI(()=>o(!0)),D.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:h.jsx(Bg,{asChild:!0,children:h.jsx(zg,{...n,children:a&&h.jsxs(h.Fragment,{children:[i.label," ",r]})})})},sI="ToastTitle",Bk=D.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return h.jsx(Dr.div,{...n,ref:e})});Bk.displayName=sI;var oI="ToastDescription",zk=D.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return h.jsx(Dr.div,{...n,ref:e})});zk.displayName=oI;var Uk="ToastAction",$k=D.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?h.jsx(Wk,{altText:r,asChild:!0,children:h.jsx(Y1,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Uk}\`. Expected non-empty \`string\`.`),null)});$k.displayName=Uk;var qk="ToastClose",Y1=D.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=nI(qk,r);return h.jsx(Wk,{asChild:!0,children:h.jsx(Dr.button,{type:"button",...n,ref:e,onClick:fr(t.onClick,i.onClose)})})});Y1.displayName=qk;var Wk=D.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return h.jsx(Dr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function Vk(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),cI(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Vk(n))}}),e}function um(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Ek(i,a):i.dispatchEvent(a)}var tw=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function lI(t=()=>{}){const e=Ko(t);Ha(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function cI(t){return t.nodeType===t.ELEMENT_NODE}function uI(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function g0(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var dI=Lk,Hk=Ok,Gk=Mk,Kk=Bk,Yk=zk,Jk=$k,Qk=Y1;function Zk(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Zk(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xk(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Zk(t))&&(n&&(n+=" "),n+=e);return n}const rw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nw=Xk,J1=(t,e)=>r=>{var n;if(e?.variants==null)return nw(t,r?.class,r?.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const f=r?.[d],m=a?.[d];if(f===null)return null;const y=rw(f)||rw(m);return i[d][y]}),l=r&&Object.entries(r).reduce((d,f)=>{let[m,y]=f;return y===void 0||(d[m]=y),d},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:m,className:y,...g}=f;return Object.entries(g).every(k=>{let[_,N]=k;return Array.isArray(N)?N.includes({...a,...l}[_]):{...a,...l}[_]===N})?[...d,m,y]:d},[]);return nw(t,o,u,r?.class,r?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eN=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},u)=>D.createElement("svg",{ref:u,...hI,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:eN("lucide",i),...l},[...o.map(([d,f])=>D.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=(t,e)=>{const r=D.forwardRef(({className:n,...i},a)=>D.createElement(pI,{ref:a,iconNode:e,className:eN(`lucide-${fI(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Pr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Pr("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Pr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Pr("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Pr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Pr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Pr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Pr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Pr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Pr("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=Pr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=Pr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Pr("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Pr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=Pr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Pr("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Pr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=Pr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=Pr("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Pr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Pr("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Pr("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=Pr("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Pr("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=Pr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Pr("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Pr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Pr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=Pr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Pr("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=Pr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Pr("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=Pr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Pr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Pr("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Pr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Pr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Pr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Pr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=Pr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=Pr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Pr("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Pr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Pr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Pr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Pr("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Pr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),X1="-",DI=t=>{const e=RI(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(X1);return l[0]===""&&l.length!==1&&l.shift(),aN(l,e)||LI(o)},getConflictingClassGroupIds:(o,l)=>{const u=r[o]||[];return l&&n[o]?[...u,...n[o]]:u}}},aN=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?aN(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(X1);return e.validators.find(({validator:o})=>o(a))?.classGroupId},uw=/^\[(.+)\]$/,LI=t=>{if(uw.test(t)){const e=uw.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},RI=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return FI(Object.entries(t.classGroups),r).forEach(([a,o])=>{Ly(o,n,a,e)}),n},Ly=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:dw(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(OI(i)){Ly(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{Ly(o,dw(e,a),r,n)})})},dw=(t,e)=>{let r=t;return e.split(X1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},OI=t=>t.isThemeGetter,FI=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,MI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},sN="!",BI=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const u=[];let d=0,f=0,m;for(let N=0;N<l.length;N++){let E=l[N];if(d===0){if(E===i&&(n||l.slice(N,N+a)===e)){u.push(l.slice(f,N)),f=N+a;continue}if(E==="/"){m=N;continue}}E==="["?d++:E==="]"&&d--}const y=u.length===0?l:l.substring(f),g=y.startsWith(sN),k=g?y.substring(1):y,_=m&&m>f?m-f:void 0;return{modifiers:u,hasImportantModifier:g,baseClassName:k,maybePostfixModifierPosition:_}};return r?l=>r({className:l,parseClassName:o}):o},zI=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},UI=t=>({cache:MI(t.cacheSize),parseClassName:BI(t),...DI(t)}),$I=/\s+/,qI=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split($I);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}=r(d);let k=!!g,_=n(k?y.substring(0,g):y);if(!_){if(!k){l=d+(l.length>0?" "+l:l);continue}if(_=n(y),!_){l=d+(l.length>0?" "+l:l);continue}k=!1}const N=zI(f).join(":"),E=m?N+sN:N,T=E+_;if(a.includes(T))continue;a.push(T);const P=i(_,k);for(let R=0;R<P.length;++R){const M=P[R];a.push(E+M)}l=d+(l.length>0?" "+l:l)}return l};function WI(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=oN(e))&&(n&&(n+=" "),n+=r);return n}const oN=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=oN(t[n]))&&(r&&(r+=" "),r+=e);return r};function VI(t,...e){let r,n,i,a=o;function o(u){const d=e.reduce((f,m)=>m(f),t());return r=UI(d),n=r.cache.get,i=r.cache.set,a=l,l(u)}function l(u){const d=n(u);if(d)return d;const f=qI(u,r);return i(u,f),f}return function(){return a(WI.apply(null,arguments))}}const Jn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},lN=/^\[(?:([a-z-]+):)?(.+)\]$/i,HI=/^\d+\/\d+$/,GI=new Set(["px","full","screen"]),KI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kc=t=>yf(t)||GI.has(t)||HI.test(t),ou=t=>Hf(t,"length",sT),yf=t=>!!t&&!Number.isNaN(Number(t)),y0=t=>Hf(t,"number",yf),yh=t=>!!t&&Number.isInteger(Number(t)),XI=t=>t.endsWith("%")&&yf(t.slice(0,-1)),qr=t=>lN.test(t),lu=t=>KI.test(t),eT=new Set(["length","size","percentage"]),tT=t=>Hf(t,eT,cN),rT=t=>Hf(t,"position",cN),nT=new Set(["image","url"]),iT=t=>Hf(t,nT,lT),aT=t=>Hf(t,"",oT),bh=()=>!0,Hf=(t,e,r)=>{const n=lN.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},sT=t=>YI.test(t)&&!JI.test(t),cN=()=>!1,oT=t=>QI.test(t),lT=t=>ZI.test(t),cT=()=>{const t=Jn("colors"),e=Jn("spacing"),r=Jn("blur"),n=Jn("brightness"),i=Jn("borderColor"),a=Jn("borderRadius"),o=Jn("borderSpacing"),l=Jn("borderWidth"),u=Jn("contrast"),d=Jn("grayscale"),f=Jn("hueRotate"),m=Jn("invert"),y=Jn("gap"),g=Jn("gradientColorStops"),k=Jn("gradientColorStopPositions"),_=Jn("inset"),N=Jn("margin"),E=Jn("opacity"),T=Jn("padding"),P=Jn("saturate"),R=Jn("scale"),M=Jn("sepia"),Q=Jn("skew"),K=Jn("space"),G=Jn("translate"),H=()=>["auto","contain","none"],oe=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",qr,e],U=()=>[qr,e],W=()=>["",kc,ou],Y=()=>["auto",yf,qr],be=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],he=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ve=()=>["","0",qr],_e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[yf,qr];return{cacheSize:500,separator:":",theme:{colors:[bh],spacing:[kc,ou],blur:["none","",lu,qr],brightness:te(),borderColor:[t],borderRadius:["none","","full",lu,qr],borderSpacing:U(),borderWidth:W(),contrast:te(),grayscale:ve(),hueRotate:te(),invert:ve(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[XI,ou],inset:z(),margin:z(),opacity:te(),padding:U(),saturate:te(),scale:te(),sepia:ve(),skew:te(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",qr]}],container:["container"],columns:[{columns:[lu]}],"break-after":[{"break-after":_e()}],"break-before":[{"break-before":_e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...be(),qr]}],overflow:[{overflow:oe()}],"overflow-x":[{"overflow-x":oe()}],"overflow-y":[{"overflow-y":oe()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yh,qr]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qr]}],grow:[{grow:ve()}],shrink:[{shrink:ve()}],order:[{order:["first","last","none",yh,qr]}],"grid-cols":[{"grid-cols":[bh]}],"col-start-end":[{col:["auto",{span:["full",yh,qr]},qr]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[bh]}],"row-start-end":[{row:["auto",{span:[yh,qr]},qr]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qr]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qr,e]}],"min-w":[{"min-w":[qr,e,"min","max","fit"]}],"max-w":[{"max-w":[qr,e,"none","full","min","max","fit","prose",{screen:[lu]},lu]}],h:[{h:[qr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",lu,ou]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",y0]}],"font-family":[{font:[bh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qr]}],"line-clamp":[{"line-clamp":["none",yf,y0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",kc,qr]}],"list-image":[{"list-image":["none",qr]}],"list-style-type":[{list:["none","disc","decimal",qr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",kc,ou]}],"underline-offset":[{"underline-offset":["auto",kc,qr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...be(),rT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tT]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iT]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...he(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:he()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...he()]}],"outline-offset":[{"outline-offset":[kc,qr]}],"outline-w":[{outline:[kc,ou]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[kc,ou]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",lu,aT]}],"shadow-color":[{shadow:[bh]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",lu,qr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[P]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qr]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",qr]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",qr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[yh,qr]}],"translate-x":[{"translate-x":[G]}],"translate-y":[{"translate-y":[G]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[kc,ou,y0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uT=VI(cT);function hr(...t){return uT(Xk(t))}const dT=dI,uN=D.forwardRef(({className:t,...e},r)=>h.jsx(Hk,{ref:r,className:hr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));uN.displayName=Hk.displayName;const fT=J1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dN=D.forwardRef(({className:t,variant:e,...r},n)=>h.jsx(Gk,{ref:n,className:hr(fT({variant:e}),t),...r}));dN.displayName=Gk.displayName;const hT=D.forwardRef(({className:t,...e},r)=>h.jsx(Jk,{ref:r,className:hr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));hT.displayName=Jk.displayName;const fN=D.forwardRef(({className:t,...e},r)=>h.jsx(Qk,{ref:r,className:hr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(gp,{className:"h-4 w-4"})}));fN.displayName=Qk.displayName;const hN=D.forwardRef(({className:t,...e},r)=>h.jsx(Kk,{ref:r,className:hr("text-sm font-semibold",t),...e}));hN.displayName=Kk.displayName;const pN=D.forwardRef(({className:t,...e},r)=>h.jsx(Yk,{ref:r,className:hr("text-sm opacity-90",t),...e}));pN.displayName=Yk.displayName;function pT(){const{toasts:t}=gs();return h.jsxs(dT,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return h.jsxs(dN,{...a,children:[h.jsxs("div",{className:"grid gap-1",children:[r&&h.jsx(hN,{children:r}),n&&h.jsx(pN,{children:n})]}),i,h.jsx(fN,{})]},e)}),h.jsx(uN,{})]})}var mT=B1[" useId ".trim().toString()]||(()=>{}),gT=0;function xu(t){const[e,r]=D.useState(mT());return Ha(()=>{r(n=>n??String(gT++))},[t]),e?`radix-${e}`:""}const vT=["top","right","bottom","left"],Eu=Math.min,wo=Math.max,ng=Math.round,dm=Math.floor,Zl=t=>({x:t,y:t}),yT={left:"right",right:"left",bottom:"top",top:"bottom"},bT={start:"end",end:"start"};function Ry(t,e,r){return wo(t,Eu(e,r))}function Rc(t,e){return typeof t=="function"?t(e):t}function Oc(t){return t.split("-")[0]}function Gf(t){return t.split("-")[1]}function eb(t){return t==="x"?"y":"x"}function tb(t){return t==="y"?"height":"width"}const xT=new Set(["top","bottom"]);function Yl(t){return xT.has(Oc(t))?"y":"x"}function rb(t){return eb(Yl(t))}function wT(t,e,r){r===void 0&&(r=!1);const n=Gf(t),i=rb(t),a=tb(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=ig(o)),[o,ig(o)]}function ST(t){const e=ig(t);return[Oy(t),e,Oy(e)]}function Oy(t){return t.replace(/start|end/g,e=>bT[e])}const fw=["left","right"],hw=["right","left"],_T=["top","bottom"],kT=["bottom","top"];function NT(t,e,r){switch(t){case"top":case"bottom":return r?e?hw:fw:e?fw:hw;case"left":case"right":return e?_T:kT;default:return[]}}function CT(t,e,r,n){const i=Gf(t);let a=NT(Oc(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Oy)))),a}function ig(t){return t.replace(/left|right|bottom|top/g,e=>yT[e])}function AT(t){return{top:0,right:0,bottom:0,left:0,...t}}function mN(t){return typeof t!="number"?AT(t):{top:t,right:t,bottom:t,left:t}}function ag(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function pw(t,e,r){let{reference:n,floating:i}=t;const a=Yl(e),o=rb(e),l=tb(o),u=Oc(e),d=a==="y",f=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,y=n[l]/2-i[l]/2;let g;switch(u){case"top":g={x:f,y:n.y-i.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-i.width,y:m};break;default:g={x:n.x,y:n.y}}switch(Gf(e)){case"start":g[o]-=y*(r&&d?-1:1);break;case"end":g[o]+=y*(r&&d?-1:1);break}return g}const ET=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:m}=pw(d,n,u),y=n,g={},k=0;for(let _=0;_<l.length;_++){const{name:N,fn:E}=l[_],{x:T,y:P,data:R,reset:M}=await E({x:f,y:m,initialPlacement:n,placement:y,strategy:i,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});f=T??f,m=P??m,g={...g,[N]:{...g[N],...R}},M&&k<=50&&(k++,typeof M=="object"&&(M.placement&&(y=M.placement),M.rects&&(d=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):M.rects),{x:f,y:m}=pw(d,y,u)),_=-1)}return{x:f,y:m,placement:y,strategy:i,middlewareData:g}};async function Qh(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:y=!1,padding:g=0}=Rc(e,t),k=mN(g),N=l[y?m==="floating"?"reference":"floating":m],E=ag(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(N)))==null||r?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),T=m==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),R=await(a.isElement==null?void 0:a.isElement(P))?await(a.getScale==null?void 0:a.getScale(P))||{x:1,y:1}:{x:1,y:1},M=ag(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:P,strategy:u}):T);return{top:(E.top-M.top+k.top)/R.y,bottom:(M.bottom-E.bottom+k.bottom)/R.y,left:(E.left-M.left+k.left)/R.x,right:(M.right-E.right+k.right)/R.x}}const PT=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:u}=e,{element:d,padding:f=0}=Rc(t,e)||{};if(d==null)return{};const m=mN(f),y={x:r,y:n},g=rb(i),k=tb(g),_=await o.getDimensions(d),N=g==="y",E=N?"top":"left",T=N?"bottom":"right",P=N?"clientHeight":"clientWidth",R=a.reference[k]+a.reference[g]-y[g]-a.floating[k],M=y[g]-a.reference[g],Q=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let K=Q?Q[P]:0;(!K||!await(o.isElement==null?void 0:o.isElement(Q)))&&(K=l.floating[P]||a.floating[k]);const G=R/2-M/2,H=K/2-_[k]/2-1,oe=Eu(m[E],H),z=Eu(m[T],H),U=oe,W=K-_[k]-z,Y=K/2-_[k]/2+G,be=Ry(U,Y,W),he=!u.arrow&&Gf(i)!=null&&Y!==be&&a.reference[k]/2-(Y<U?oe:z)-_[k]/2<0,ge=he?Y<U?Y-U:Y-W:0;return{[g]:y[g]+ge,data:{[g]:be,centerOffset:Y-be-ge,...he&&{alignmentOffset:ge}},reset:he}}}),jT=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:_=!0,...N}=Rc(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const E=Oc(i),T=Yl(l),P=Oc(l)===l,R=await(u.isRTL==null?void 0:u.isRTL(d.floating)),M=y||(P||!_?[ig(l)]:ST(l)),Q=k!=="none";!y&&Q&&M.push(...CT(l,_,k,R));const K=[l,...M],G=await Qh(e,N),H=[];let oe=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&H.push(G[E]),m){const Y=wT(i,o,R);H.push(G[Y[0]],G[Y[1]])}if(oe=[...oe,{placement:i,overflows:H}],!H.every(Y=>Y<=0)){var z,U;const Y=(((z=a.flip)==null?void 0:z.index)||0)+1,be=K[Y];if(be&&(!(m==="alignment"?T!==Yl(be):!1)||oe.every(ie=>Yl(ie.placement)===T?ie.overflows[0]>0:!0)))return{data:{index:Y,overflows:oe},reset:{placement:be}};let he=(U=oe.filter(ge=>ge.overflows[0]<=0).sort((ge,ie)=>ge.overflows[1]-ie.overflows[1])[0])==null?void 0:U.placement;if(!he)switch(g){case"bestFit":{var W;const ge=(W=oe.filter(ie=>{if(Q){const ve=Yl(ie.placement);return ve===T||ve==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(ve=>ve>0).reduce((ve,_e)=>ve+_e,0)]).sort((ie,ve)=>ie[1]-ve[1])[0])==null?void 0:W[0];ge&&(he=ge);break}case"initialPlacement":he=l;break}if(i!==he)return{reset:{placement:he}}}return{}}}};function mw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function gw(t){return vT.some(e=>t[e]>=0)}const IT=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Rc(t,e);switch(n){case"referenceHidden":{const a=await Qh(e,{...i,elementContext:"reference"}),o=mw(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:gw(o)}}}case"escaped":{const a=await Qh(e,{...i,altBoundary:!0}),o=mw(a,r.floating);return{data:{escapedOffsets:o,escaped:gw(o)}}}default:return{}}}}},gN=new Set(["left","top"]);async function TT(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Oc(r),l=Gf(r),u=Yl(r)==="y",d=gN.has(o)?-1:1,f=a&&u?-1:1,m=Rc(e,t);let{mainAxis:y,crossAxis:g,alignmentAxis:k}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof k=="number"&&(g=l==="end"?k*-1:k),u?{x:g*f,y:y*d}:{x:y*d,y:g*f}}const DT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=e,u=await TT(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:o}}}}},LT=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:N=>{let{x:E,y:T}=N;return{x:E,y:T}}},...u}=Rc(t,e),d={x:r,y:n},f=await Qh(e,u),m=Yl(Oc(i)),y=eb(m);let g=d[y],k=d[m];if(a){const N=y==="y"?"top":"left",E=y==="y"?"bottom":"right",T=g+f[N],P=g-f[E];g=Ry(T,g,P)}if(o){const N=m==="y"?"top":"left",E=m==="y"?"bottom":"right",T=k+f[N],P=k-f[E];k=Ry(T,k,P)}const _=l.fn({...e,[y]:g,[m]:k});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[y]:a,[m]:o}}}}}},RT=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Rc(t,e),f={x:r,y:n},m=Yl(i),y=eb(m);let g=f[y],k=f[m];const _=Rc(l,e),N=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const P=y==="y"?"height":"width",R=a.reference[y]-a.floating[P]+N.mainAxis,M=a.reference[y]+a.reference[P]-N.mainAxis;g<R?g=R:g>M&&(g=M)}if(d){var E,T;const P=y==="y"?"width":"height",R=gN.has(Oc(i)),M=a.reference[m]-a.floating[P]+(R&&((E=o.offset)==null?void 0:E[m])||0)+(R?0:N.crossAxis),Q=a.reference[m]+a.reference[P]+(R?0:((T=o.offset)==null?void 0:T[m])||0)-(R?N.crossAxis:0);k<M?k=M:k>Q&&(k=Q)}return{[y]:g,[m]:k}}}},OT=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:u=()=>{},...d}=Rc(t,e),f=await Qh(e,d),m=Oc(i),y=Gf(i),g=Yl(i)==="y",{width:k,height:_}=a.floating;let N,E;m==="top"||m==="bottom"?(N=m,E=y===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(E=m,N=y==="end"?"top":"bottom");const T=_-f.top-f.bottom,P=k-f.left-f.right,R=Eu(_-f[N],T),M=Eu(k-f[E],P),Q=!e.middlewareData.shift;let K=R,G=M;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(G=P),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(K=T),Q&&!y){const oe=wo(f.left,0),z=wo(f.right,0),U=wo(f.top,0),W=wo(f.bottom,0);g?G=k-2*(oe!==0||z!==0?oe+z:wo(f.left,f.right)):K=_-2*(U!==0||W!==0?U+W:wo(f.top,f.bottom))}await u({...e,availableWidth:G,availableHeight:K});const H=await o.getDimensions(l.floating);return k!==H.width||_!==H.height?{reset:{rects:!0}}:{}}}};function qg(){return typeof window<"u"}function Kf(t){return vN(t)?(t.nodeName||"").toLowerCase():"#document"}function No(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rc(t){var e;return(e=(vN(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vN(t){return qg()?t instanceof Node||t instanceof No(t).Node:!1}function _l(t){return qg()?t instanceof Element||t instanceof No(t).Element:!1}function ec(t){return qg()?t instanceof HTMLElement||t instanceof No(t).HTMLElement:!1}function vw(t){return!qg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof No(t).ShadowRoot}const FT=new Set(["inline","contents"]);function vp(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=kl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!FT.has(i)}const MT=new Set(["table","td","th"]);function BT(t){return MT.has(Kf(t))}const zT=[":popover-open",":modal"];function Wg(t){return zT.some(e=>{try{return t.matches(e)}catch{return!1}})}const UT=["transform","translate","scale","rotate","perspective"],$T=["transform","translate","scale","rotate","perspective","filter"],qT=["paint","layout","strict","content"];function nb(t){const e=ib(),r=_l(t)?kl(t):t;return UT.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||$T.some(n=>(r.willChange||"").includes(n))||qT.some(n=>(r.contain||"").includes(n))}function WT(t){let e=Pu(t);for(;ec(e)&&!Df(e);){if(nb(e))return e;if(Wg(e))return null;e=Pu(e)}return null}function ib(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const VT=new Set(["html","body","#document"]);function Df(t){return VT.has(Kf(t))}function kl(t){return No(t).getComputedStyle(t)}function Vg(t){return _l(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pu(t){if(Kf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vw(t)&&t.host||rc(t);return vw(e)?e.host:e}function yN(t){const e=Pu(t);return Df(e)?t.ownerDocument?t.ownerDocument.body:t.body:ec(e)&&vp(e)?e:yN(e)}function Zh(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=yN(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=No(i);if(a){const l=Fy(o);return e.concat(o,o.visualViewport||[],vp(i)?i:[],l&&r?Zh(l):[])}return e.concat(i,Zh(i,[],r))}function Fy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bN(t){const e=kl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ec(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=ng(r)!==a||ng(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function ab(t){return _l(t)?t:t.contextElement}function bf(t){const e=ab(t);if(!ec(e))return Zl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=bN(e);let o=(a?ng(r.width):r.width)/n,l=(a?ng(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const HT=Zl(0);function xN(t){const e=No(t);return!ib()||!e.visualViewport?HT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GT(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==No(t)?!1:e}function md(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=ab(t);let o=Zl(1);e&&(n?_l(n)&&(o=bf(n)):o=bf(t));const l=GT(a,r,n)?xN(a):Zl(0);let u=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(a){const y=No(a),g=n&&_l(n)?No(n):n;let k=y,_=Fy(k);for(;_&&n&&g!==k;){const N=bf(_),E=_.getBoundingClientRect(),T=kl(_),P=E.left+(_.clientLeft+parseFloat(T.paddingLeft))*N.x,R=E.top+(_.clientTop+parseFloat(T.paddingTop))*N.y;u*=N.x,d*=N.y,f*=N.x,m*=N.y,u+=P,d+=R,k=No(_),_=Fy(k)}}return ag({width:f,height:m,x:u,y:d})}function sb(t,e){const r=Vg(t).scrollLeft;return e?e.left+r:md(rc(t)).left+r}function wN(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:sb(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function KT(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=rc(n),l=e?Wg(e.floating):!1;if(n===o||l&&a)return r;let u={scrollLeft:0,scrollTop:0},d=Zl(1);const f=Zl(0),m=ec(n);if((m||!m&&!a)&&((Kf(n)!=="body"||vp(o))&&(u=Vg(n)),ec(n))){const g=md(n);d=bf(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const y=o&&!m&&!a?wN(o,u,!0):Zl(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-u.scrollLeft*d.x+f.x+y.x,y:r.y*d.y-u.scrollTop*d.y+f.y+y.y}}function YT(t){return Array.from(t.getClientRects())}function JT(t){const e=rc(t),r=Vg(t),n=t.ownerDocument.body,i=wo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=wo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+sb(t);const l=-r.scrollTop;return kl(n).direction==="rtl"&&(o+=wo(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}function QT(t,e){const r=No(t),n=rc(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,u=0;if(i){a=i.width,o=i.height;const d=ib();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:l,y:u}}const ZT=new Set(["absolute","fixed"]);function XT(t,e){const r=md(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=ec(t)?bf(t):Zl(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,u=i*a.x,d=n*a.y;return{width:o,height:l,x:u,y:d}}function yw(t,e,r){let n;if(e==="viewport")n=QT(t,r);else if(e==="document")n=JT(rc(t));else if(_l(e))n=XT(e,r);else{const i=xN(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ag(n)}function SN(t,e){const r=Pu(t);return r===e||!_l(r)||Df(r)?!1:kl(r).position==="fixed"||SN(r,e)}function eD(t,e){const r=e.get(t);if(r)return r;let n=Zh(t,[],!1).filter(l=>_l(l)&&Kf(l)!=="body"),i=null;const a=kl(t).position==="fixed";let o=a?Pu(t):t;for(;_l(o)&&!Df(o);){const l=kl(o),u=nb(o);!u&&l.position==="fixed"&&(i=null),(a?!u&&!i:!u&&l.position==="static"&&!!i&&ZT.has(i.position)||vp(o)&&!u&&SN(t,o))?n=n.filter(f=>f!==o):i=l,o=Pu(o)}return e.set(t,n),n}function tD(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?Wg(e)?[]:eD(e,this._c):[].concat(r),n],l=o[0],u=o.reduce((d,f)=>{const m=yw(e,f,i);return d.top=wo(m.top,d.top),d.right=Eu(m.right,d.right),d.bottom=Eu(m.bottom,d.bottom),d.left=wo(m.left,d.left),d},yw(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function rD(t){const{width:e,height:r}=bN(t);return{width:e,height:r}}function nD(t,e,r){const n=ec(e),i=rc(e),a=r==="fixed",o=md(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const u=Zl(0);function d(){u.x=sb(i)}if(n||!n&&!a)if((Kf(e)!=="body"||vp(i))&&(l=Vg(e)),n){const g=md(e,!0,a,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else i&&d();a&&!n&&i&&d();const f=i&&!n&&!a?wN(i,l):Zl(0),m=o.left+l.scrollLeft-u.x-f.x,y=o.top+l.scrollTop-u.y-f.y;return{x:m,y,width:o.width,height:o.height}}function b0(t){return kl(t).position==="static"}function bw(t,e){if(!ec(t)||kl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return rc(t)===r&&(r=r.ownerDocument.body),r}function _N(t,e){const r=No(t);if(Wg(t))return r;if(!ec(t)){let i=Pu(t);for(;i&&!Df(i);){if(_l(i)&&!b0(i))return i;i=Pu(i)}return r}let n=bw(t,e);for(;n&&BT(n)&&b0(n);)n=bw(n,e);return n&&Df(n)&&b0(n)&&!nb(n)?r:n||WT(t)||r}const iD=async function(t){const e=this.getOffsetParent||_N,r=this.getDimensions,n=await r(t.floating);return{reference:nD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function aD(t){return kl(t).direction==="rtl"}const sD={convertOffsetParentRelativeRectToViewportRelativeRect:KT,getDocumentElement:rc,getClippingRect:tD,getOffsetParent:_N,getElementRects:iD,getClientRects:YT,getDimensions:rD,getScale:bf,isElement:_l,isRTL:aD};function kN(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function oD(t,e){let r=null,n;const i=rc(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const d=t.getBoundingClientRect(),{left:f,top:m,width:y,height:g}=d;if(l||e(),!y||!g)return;const k=dm(m),_=dm(i.clientWidth-(f+y)),N=dm(i.clientHeight-(m+g)),E=dm(f),P={rootMargin:-k+"px "+-_+"px "+-N+"px "+-E+"px",threshold:wo(0,Eu(1,u))||1};let R=!0;function M(Q){const K=Q[0].intersectionRatio;if(K!==u){if(!R)return o();K?o(!1,K):n=setTimeout(()=>{o(!1,1e-7)},1e3)}K===1&&!kN(d,t.getBoundingClientRect())&&o(),R=!1}try{r=new IntersectionObserver(M,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(M,P)}r.observe(t)}return o(!0),a}function lD(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,d=ab(t),f=i||a?[...d?Zh(d):[],...Zh(e)]:[];f.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),a&&E.addEventListener("resize",r)});const m=d&&l?oD(d,r):null;let y=-1,g=null;o&&(g=new ResizeObserver(E=>{let[T]=E;T&&T.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=g)==null||P.observe(e)})),r()}),d&&!u&&g.observe(d),g.observe(e));let k,_=u?md(t):null;u&&N();function N(){const E=md(t);_&&!kN(_,E)&&r(),_=E,k=requestAnimationFrame(N)}return r(),()=>{var E;f.forEach(T=>{i&&T.removeEventListener("scroll",r),a&&T.removeEventListener("resize",r)}),m?.(),(E=g)==null||E.disconnect(),g=null,u&&cancelAnimationFrame(k)}}const cD=DT,uD=LT,dD=jT,fD=OT,hD=IT,xw=PT,pD=RT,mD=(t,e,r)=>{const n=new Map,i={platform:sD,...r},a={...i.platform,_c:n};return ET(t,e,{...i,platform:a})};var gD=typeof document<"u",vD=function(){},Mm=gD?D.useLayoutEffect:vD;function sg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!sg(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!sg(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function NN(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ww(t,e){const r=NN(t);return Math.round(e*r)/r}function x0(t){const e=D.useRef(t);return Mm(()=>{e.current=t}),e}function yD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[f,m]=D.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[y,g]=D.useState(n);sg(y,n)||g(n);const[k,_]=D.useState(null),[N,E]=D.useState(null),T=D.useCallback(ie=>{ie!==Q.current&&(Q.current=ie,_(ie))},[]),P=D.useCallback(ie=>{ie!==K.current&&(K.current=ie,E(ie))},[]),R=a||k,M=o||N,Q=D.useRef(null),K=D.useRef(null),G=D.useRef(f),H=u!=null,oe=x0(u),z=x0(i),U=x0(d),W=D.useCallback(()=>{if(!Q.current||!K.current)return;const ie={placement:e,strategy:r,middleware:y};z.current&&(ie.platform=z.current),mD(Q.current,K.current,ie).then(ve=>{const _e={...ve,isPositioned:U.current!==!1};Y.current&&!sg(G.current,_e)&&(G.current=_e,kd.flushSync(()=>{m(_e)}))})},[y,e,r,z,U]);Mm(()=>{d===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,m(ie=>({...ie,isPositioned:!1})))},[d]);const Y=D.useRef(!1);Mm(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Mm(()=>{if(R&&(Q.current=R),M&&(K.current=M),R&&M){if(oe.current)return oe.current(R,M,W);W()}},[R,M,W,oe,H]);const be=D.useMemo(()=>({reference:Q,floating:K,setReference:T,setFloating:P}),[T,P]),he=D.useMemo(()=>({reference:R,floating:M}),[R,M]),ge=D.useMemo(()=>{const ie={position:r,left:0,top:0};if(!he.floating)return ie;const ve=ww(he.floating,f.x),_e=ww(he.floating,f.y);return l?{...ie,transform:"translate("+ve+"px, "+_e+"px)",...NN(he.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ve,top:_e}},[r,l,he.floating,f.x,f.y]);return D.useMemo(()=>({...f,update:W,refs:be,elements:he,floatingStyles:ge}),[f,W,be,he,ge])}const bD=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?xw({element:n.current,padding:i}).fn(r):{}:n?xw({element:n,padding:i}).fn(r):{}}}},xD=(t,e)=>({...cD(t),options:[t,e]}),wD=(t,e)=>({...uD(t),options:[t,e]}),SD=(t,e)=>({...pD(t),options:[t,e]}),_D=(t,e)=>({...dD(t),options:[t,e]}),kD=(t,e)=>({...fD(t),options:[t,e]}),ND=(t,e)=>({...hD(t),options:[t,e]}),CD=(t,e)=>({...bD(t),options:[t,e]});var AD="Arrow",CN=D.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return h.jsx(Dr.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});CN.displayName=AD;var ED=CN;function ob(t){const[e,r]=D.useState(void 0);return Ha(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var lb="Popper",[AN,Hg]=Cl(lb),[PD,EN]=AN(lb),PN=t=>{const{__scopePopper:e,children:r}=t,[n,i]=D.useState(null);return h.jsx(PD,{scope:e,anchor:n,onAnchorChange:i,children:r})};PN.displayName=lb;var jN="PopperAnchor",IN=D.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=EN(jN,r),o=D.useRef(null),l=gn(e,o);return D.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:h.jsx(Dr.div,{...i,ref:l})});IN.displayName=jN;var cb="PopperContent",[jD,ID]=AN(cb),TN=D.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:g="optimized",onPlaced:k,..._}=t,N=EN(cb,r),[E,T]=D.useState(null),P=gn(e,me=>T(me)),[R,M]=D.useState(null),Q=ob(R),K=Q?.width??0,G=Q?.height??0,H=n+(a!=="center"?"-"+a:""),oe=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(d)?d:[d],U=z.length>0,W={padding:oe,boundary:z.filter(DD),altBoundary:U},{refs:Y,floatingStyles:be,placement:he,isPositioned:ge,middlewareData:ie}=yD({strategy:"fixed",placement:H,whileElementsMounted:(...me)=>lD(...me,{animationFrame:g==="always"}),elements:{reference:N.anchor},middleware:[xD({mainAxis:i+G,alignmentAxis:o}),u&&wD({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?SD():void 0,...W}),u&&_D({...W}),kD({...W,apply:({elements:me,rects:Ie,availableWidth:Se,availableHeight:ze})=>{const{width:rt,height:it}=Ie.reference,pt=me.floating.style;pt.setProperty("--radix-popper-available-width",`${Se}px`),pt.setProperty("--radix-popper-available-height",`${ze}px`),pt.setProperty("--radix-popper-anchor-width",`${rt}px`),pt.setProperty("--radix-popper-anchor-height",`${it}px`)}}),R&&CD({element:R,padding:l}),LD({arrowWidth:K,arrowHeight:G}),y&&ND({strategy:"referenceHidden",...W})]}),[ve,_e]=RN(he),te=Ko(k);Ha(()=>{ge&&te?.()},[ge,te]);const O=ie.arrow?.x,ee=ie.arrow?.y,ne=ie.arrow?.centerOffset!==0,[le,we]=D.useState();return Ha(()=>{E&&we(window.getComputedStyle(E).zIndex)},[E]),h.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...be,transform:ge?be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[ie.transformOrigin?.x,ie.transformOrigin?.y].join(" "),...ie.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(jD,{scope:r,placedSide:ve,onArrowChange:M,arrowX:O,arrowY:ee,shouldHideArrow:ne,children:h.jsx(Dr.div,{"data-side":ve,"data-align":_e,..._,ref:P,style:{..._.style,animation:ge?void 0:"none"}})})})});TN.displayName=cb;var DN="PopperArrow",TD={top:"bottom",right:"left",bottom:"top",left:"right"},LN=D.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=ID(DN,n),o=TD[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(ED,{...i,ref:r,style:{...i.style,display:"block"}})})});LN.displayName=DN;function DD(t){return t!==null}var LD=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[d,f]=RN(r),m={start:"0%",center:"50%",end:"100%"}[f],y=(i.arrow?.x??0)+l/2,g=(i.arrow?.y??0)+u/2;let k="",_="";return d==="bottom"?(k=o?m:`${y}px`,_=`${-u}px`):d==="top"?(k=o?m:`${y}px`,_=`${n.floating.height+u}px`):d==="right"?(k=`${-u}px`,_=o?m:`${g}px`):d==="left"&&(k=`${n.floating.width+u}px`,_=o?m:`${g}px`),{data:{x:k,y:_}}}});function RN(t){const[e,r="center"]=t.split("-");return[e,r]}var RD=PN,ON=IN,FN=TN,MN=LN,[Gg,TG]=Cl("Tooltip",[Hg]),ub=Hg(),BN="TooltipProvider",OD=700,Sw="tooltip.open",[FD,zN]=Gg(BN),UN=t=>{const{__scopeTooltip:e,delayDuration:r=OD,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=D.useRef(!0),l=D.useRef(!1),u=D.useRef(0);return D.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),h.jsx(FD,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:D.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:D.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};UN.displayName=BN;var $N="Tooltip",[DG,Kg]=Gg($N),My="TooltipTrigger",MD=D.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Kg(My,r),a=zN(My,r),o=ub(r),l=D.useRef(null),u=gn(e,l,i.onTriggerChange),d=D.useRef(!1),f=D.useRef(!1),m=D.useCallback(()=>d.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),h.jsx(ON,{asChild:!0,...o,children:h.jsx(Dr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:u,onPointerMove:fr(t.onPointerMove,y=>{y.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:fr(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:fr(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:fr(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:fr(t.onBlur,i.onClose),onClick:fr(t.onClick,i.onClose)})})});MD.displayName=My;var BD="TooltipPortal",[LG,zD]=Gg(BD,{forceMount:void 0}),Lf="TooltipContent",qN=D.forwardRef((t,e)=>{const r=zD(Lf,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=Kg(Lf,t.__scopeTooltip);return h.jsx(Ru,{present:n||o.open,children:o.disableHoverableContent?h.jsx(WN,{side:i,...a,ref:e}):h.jsx(UD,{side:i,...a,ref:e})})}),UD=D.forwardRef((t,e)=>{const r=Kg(Lf,t.__scopeTooltip),n=zN(Lf,t.__scopeTooltip),i=D.useRef(null),a=gn(e,i),[o,l]=D.useState(null),{trigger:u,onClose:d}=r,f=i.current,{onPointerInTransitChange:m}=n,y=D.useCallback(()=>{l(null),m(!1)},[m]),g=D.useCallback((k,_)=>{const N=k.currentTarget,E={x:k.clientX,y:k.clientY},T=HD(E,N.getBoundingClientRect()),P=GD(E,T),R=KD(_.getBoundingClientRect()),M=JD([...P,...R]);l(M),m(!0)},[m]);return D.useEffect(()=>()=>y(),[y]),D.useEffect(()=>{if(u&&f){const k=N=>g(N,f),_=N=>g(N,u);return u.addEventListener("pointerleave",k),f.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",k),f.removeEventListener("pointerleave",_)}}},[u,f,g,y]),D.useEffect(()=>{if(o){const k=_=>{const N=_.target,E={x:_.clientX,y:_.clientY},T=u?.contains(N)||f?.contains(N),P=!YD(E,o);T?y():P&&(y(),d())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[u,f,o,d,y]),h.jsx(WN,{...t,ref:a})}),[$D,qD]=Gg($N,{isInside:!1}),WD=Ak("TooltipContent"),WN=D.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,u=Kg(Lf,r),d=ub(r),{onClose:f}=u;return D.useEffect(()=>(document.addEventListener(Sw,f),()=>document.removeEventListener(Sw,f)),[f]),D.useEffect(()=>{if(u.trigger){const m=y=>{y.target?.contains(u.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,f]),h.jsx(hp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:h.jsxs(FN,{"data-state":u.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(WD,{children:n}),h.jsx($D,{scope:r,isInside:!0,children:h.jsx(G6,{id:u.contentId,role:"tooltip",children:i||n})})]})})});qN.displayName=Lf;var VN="TooltipArrow",VD=D.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=ub(r);return qD(VN,r).isInside?null:h.jsx(MN,{...i,...n,ref:e})});VD.displayName=VN;function HD(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function GD(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function KD(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function YD(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],u=e[o],d=l.x,f=l.y,m=u.x,y=u.y;f>n!=y>n&&r<(m-d)*(n-f)/(y-f)+d&&(i=!i)}return i}function JD(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),QD(e)}function QD(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var ZD=UN,HN=qN;const GN=ZD,XD=D.forwardRef(({className:t,sideOffset:e=4,...r},n)=>h.jsx(HN,{ref:n,sideOffset:e,className:hr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));XD.displayName=HN.displayName;const KN=D.createContext(void 0);function eL(){const t=D.useContext(KN);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}function tL(){const[t,e]=D.useState(()=>{if(typeof window<"u"){const n=localStorage.getItem("theme");return n==="light"||n==="dark"?n:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return"light"});return D.useEffect(()=>{const n=document.documentElement;t==="dark"?n.classList.add("dark"):n.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),{theme:t,toggleTheme:()=>{e(n=>n==="light"?"dark":"light")}}}function rL({children:t}){const e=tL();return h.jsx(KN.Provider,{value:e,children:t})}const db=J1("inline-flex items-center justify-center gap-1.5 whitespace-nowrap rounded-md text-xs sm:text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-3.5 sm:[&_svg]:size-4 [&_svg]:shrink-0 touch-action-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 sm:h-10 px-3 sm:px-4 py-1.5 sm:py-2",sm:"h-8 sm:h-9 rounded-md px-2 sm:px-3",lg:"h-10 sm:h-11 rounded-md px-6 sm:px-8",icon:"h-9 w-9 sm:h-10 sm:w-10"}},defaultVariants:{variant:"default",size:"default"}}),ht=D.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?Nk:"button";return h.jsx(o,{className:hr(db({variant:e,size:r,className:t})),ref:a,...i})});ht.displayName="Button";var Bm={exports:{}},nL=Bm.exports,_w;function iL(){return _w||(_w=1,function(t,e){(function(r,n){t.exports=n()})(nL,function(){var r=function(b,S){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,B){I.__proto__=B}||function(I,B){for(var $ in B)Object.prototype.hasOwnProperty.call(B,$)&&(I[$]=B[$])})(b,S)},n=function(){return(n=Object.assign||function(b){for(var S,I=1,B=arguments.length;I<B;I++)for(var $ in S=arguments[I])Object.prototype.hasOwnProperty.call(S,$)&&(b[$]=S[$]);return b}).apply(this,arguments)};function i(b,S,I){for(var B,$=0,Z=S.length;$<Z;$++)!B&&$ in S||((B=B||Array.prototype.slice.call(S,0,$))[$]=S[$]);return b.concat(B||Array.prototype.slice.call(S))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:aj,o=Object.keys,l=Array.isArray;function u(b,S){return typeof S!="object"||o(S).forEach(function(I){b[I]=S[I]}),b}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var d=Object.getPrototypeOf,f={}.hasOwnProperty;function m(b,S){return f.call(b,S)}function y(b,S){typeof S=="function"&&(S=S(d(b))),(typeof Reflect>"u"?o:Reflect.ownKeys)(S).forEach(function(I){k(b,I,S[I])})}var g=Object.defineProperty;function k(b,S,I,B){g(b,S,u(I&&m(I,"get")&&typeof I.get=="function"?{get:I.get,set:I.set,configurable:!0}:{value:I,configurable:!0,writable:!0},B))}function _(b){return{from:function(S){return b.prototype=Object.create(S.prototype),k(b.prototype,"constructor",b),{extend:y.bind(null,b.prototype)}}}}var N=Object.getOwnPropertyDescriptor,E=[].slice;function T(b,S,I){return E.call(b,S,I)}function P(b,S){return S(b)}function R(b){if(!b)throw new Error("Assertion Failed")}function M(b){a.setImmediate?setImmediate(b):setTimeout(b,0)}function Q(b,S){if(typeof S=="string"&&m(b,S))return b[S];if(!S)return b;if(typeof S!="string"){for(var I=[],B=0,$=S.length;B<$;++B){var Z=Q(b,S[B]);I.push(Z)}return I}var ce=S.indexOf(".");if(ce!==-1){var xe=b[S.substr(0,ce)];return xe==null?void 0:Q(xe,S.substr(ce+1))}}function K(b,S,I){if(b&&S!==void 0&&!("isFrozen"in Object&&Object.isFrozen(b)))if(typeof S!="string"&&"length"in S){R(typeof I!="string"&&"length"in I);for(var B=0,$=S.length;B<$;++B)K(b,S[B],I[B])}else{var Z,ce,xe=S.indexOf(".");xe!==-1?(Z=S.substr(0,xe),(ce=S.substr(xe+1))===""?I===void 0?l(b)&&!isNaN(parseInt(Z))?b.splice(Z,1):delete b[Z]:b[Z]=I:K(xe=!(xe=b[Z])||!m(b,Z)?b[Z]={}:xe,ce,I)):I===void 0?l(b)&&!isNaN(parseInt(S))?b.splice(S,1):delete b[S]:b[S]=I}}function G(b){var S,I={};for(S in b)m(b,S)&&(I[S]=b[S]);return I}var H=[].concat;function oe(b){return H.apply([],b)}var mt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(oe([8,16,32,64].map(function(b){return["Int","Uint","Float"].map(function(S){return S+b+"Array"})}))).filter(function(b){return a[b]}),z=new Set(mt.map(function(b){return a[b]})),U=null;function W(b){return U=new WeakMap,b=function S(I){if(!I||typeof I!="object")return I;var B=U.get(I);if(B)return B;if(l(I)){B=[],U.set(I,B);for(var $=0,Z=I.length;$<Z;++$)B.push(S(I[$]))}else if(z.has(I.constructor))B=I;else{var ce,xe=d(I);for(ce in B=xe===Object.prototype?{}:Object.create(xe),U.set(I,B),I)m(I,ce)&&(B[ce]=S(I[ce]))}return B}(b),U=null,b}var Y={}.toString;function be(b){return Y.call(b).slice(8,-1)}var he=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ge=typeof he=="symbol"?function(b){var S;return b!=null&&(S=b[he])&&S.apply(b)}:function(){return null};function ie(b,S){return S=b.indexOf(S),0<=S&&b.splice(S,1),0<=S}var ve={};function _e(b){var S,I,B,$;if(arguments.length===1){if(l(b))return b.slice();if(this===ve&&typeof b=="string")return[b];if($=ge(b)){for(I=[];!(B=$.next()).done;)I.push(B.value);return I}if(b==null)return[b];if(typeof(S=b.length)!="number")return[b];for(I=new Array(S);S--;)I[S]=b[S];return I}for(S=arguments.length,I=new Array(S);S--;)I[S]=arguments[S];return I}var te=typeof Symbol<"u"?function(b){return b[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},tt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Yi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(tt),O={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ee(b,S){this.name=b,this.message=S}function ne(b,S){return b+". Errors: "+Object.keys(S).map(function(I){return S[I].toString()}).filter(function(I,B,$){return $.indexOf(I)===B}).join(`
`)}function le(b,S,I,B){this.failures=S,this.failedKeys=B,this.successCount=I,this.message=ne(b,S)}function we(b,S){this.name="BulkError",this.failures=Object.keys(S).map(function(I){return S[I]}),this.failuresByPos=S,this.message=ne(b,this.failures)}_(ee).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(le).from(ee),_(we).from(ee);var me=Yi.reduce(function(b,S){return b[S]=S+"Error",b},{}),Ie=ee,Se=Yi.reduce(function(b,S){var I=S+"Error";function B($,Z){this.name=I,$?typeof $=="string"?(this.message="".concat($).concat(Z?`
 `+Z:""),this.inner=Z||null):typeof $=="object"&&(this.message="".concat($.name," ").concat($.message),this.inner=$):(this.message=O[S]||I,this.inner=null)}return _(B).from(Ie),b[S]=B,b},{});Se.Syntax=SyntaxError,Se.Type=TypeError,Se.Range=RangeError;var ze=tt.reduce(function(b,S){return b[S+"Error"]=Se[S],b},{}),rt=Yi.reduce(function(b,S){return["Syntax","Type","Range"].indexOf(S)===-1&&(b[S+"Error"]=Se[S]),b},{});function it(){}function pt(b){return b}function Je(b,S){return b==null||b===pt?S:function(I){return S(b(I))}}function ye(b,S){return function(){b.apply(this,arguments),S.apply(this,arguments)}}function br(b,S){return b===it?S:function(){var I=b.apply(this,arguments);I!==void 0&&(arguments[0]=I);var B=this.onsuccess,$=this.onerror;this.onsuccess=null,this.onerror=null;var Z=S.apply(this,arguments);return B&&(this.onsuccess=this.onsuccess?ye(B,this.onsuccess):B),$&&(this.onerror=this.onerror?ye($,this.onerror):$),Z!==void 0?Z:I}}function lr(b,S){return b===it?S:function(){b.apply(this,arguments);var I=this.onsuccess,B=this.onerror;this.onsuccess=this.onerror=null,S.apply(this,arguments),I&&(this.onsuccess=this.onsuccess?ye(I,this.onsuccess):I),B&&(this.onerror=this.onerror?ye(B,this.onerror):B)}}function nr(b,S){return b===it?S:function(I){var B=b.apply(this,arguments);u(I,B);var $=this.onsuccess,Z=this.onerror;return this.onsuccess=null,this.onerror=null,I=S.apply(this,arguments),$&&(this.onsuccess=this.onsuccess?ye($,this.onsuccess):$),Z&&(this.onerror=this.onerror?ye(Z,this.onerror):Z),B===void 0?I===void 0?void 0:I:u(B,I)}}function gt(b,S){return b===it?S:function(){return S.apply(this,arguments)!==!1&&b.apply(this,arguments)}}function pe(b,S){return b===it?S:function(){var I=b.apply(this,arguments);if(I&&typeof I.then=="function"){for(var B=this,$=arguments.length,Z=new Array($);$--;)Z[$]=arguments[$];return I.then(function(){return S.apply(B,Z)})}return S.apply(this,arguments)}}rt.ModifyError=le,rt.DexieError=ee,rt.BulkError=we;var Ce=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function We(b){Ce=b}var at={},dt=100,mt=typeof Promise>"u"?[]:function(){var b=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[b,d(b),b];var S=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[S,d(S),b]}(),tt=mt[0],Yi=mt[1],mt=mt[2],Yi=Yi&&Yi.then,Mt=tt&&tt.constructor,Tt=!!mt,Dt=function(b,S){Zt.push([b,S]),Ot&&(queueMicrotask(Bs),Ot=!1)},Qt=!0,Ot=!0,Gr=[],zr=[],Ut=pt,cr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:it,pgp:!1,env:{},finalize:it},_t=cr,Zt=[],Sr=0,pr=[];function bt(b){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var S=this._PSD=_t;if(typeof b!="function"){if(b!==at)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&mr(this,this._value))}this._state=null,this._value=null,++S.ref,function I(B,$){try{$(function(Z){if(B._state===null){if(Z===B)throw new TypeError("A promise cannot be resolved with itself.");var ce=B._lib&&ji();Z&&typeof Z.then=="function"?I(B,function(xe,Ae){Z instanceof bt?Z._then(xe,Ae):Z.then(xe,Ae)}):(B._state=!0,B._value=Z,tn(B)),ce&&ir()}},mr.bind(null,B))}catch(Z){mr(B,Z)}}(this,b)}var bn={get:function(){var b=_t,S=Ga;function I(B,$){var Z=this,ce=!b.global&&(b!==_t||S!==Ga),xe=ce&&!In(),Ae=new bt(function(Pe,Le){Ms(Z,new Qr(Io(B,b,ce,xe),Io($,b,ce,xe),Pe,Le,b))});return this._consoleTask&&(Ae._consoleTask=this._consoleTask),Ae}return I.prototype=at,I},set:function(b){k(this,"then",b&&b.prototype===at?bn:{get:function(){return b},set:bn.set})}};function Qr(b,S,I,B,$){this.onFulfilled=typeof b=="function"?b:null,this.onRejected=typeof S=="function"?S:null,this.resolve=I,this.reject=B,this.psd=$}function mr(b,S){var I,B;zr.push(S),b._state===null&&(I=b._lib&&ji(),S=Ut(S),b._state=!1,b._value=S,B=b,Gr.some(function($){return $._value===B._value})||Gr.push(B),tn(b),I&&ir())}function tn(b){var S=b._listeners;b._listeners=[];for(var I=0,B=S.length;I<B;++I)Ms(b,S[I]);var $=b._PSD;--$.ref||$.finalize(),Sr===0&&(++Sr,Dt(function(){--Sr==0&&na()},[]))}function Ms(b,S){if(b._state!==null){var I=b._state?S.onFulfilled:S.onRejected;if(I===null)return(b._state?S.resolve:S.reject)(b._value);++S.psd.ref,++Sr,Dt(Pi,[I,b,S])}else b._listeners.push(S)}function Pi(b,S,I){try{var B,$=S._value;!S._state&&zr.length&&(zr=[]),B=Ce&&S._consoleTask?S._consoleTask.run(function(){return b($)}):b($),S._state||zr.indexOf($)!==-1||function(Z){for(var ce=Gr.length;ce;)if(Gr[--ce]._value===Z._value)return Gr.splice(ce,1)}(S),I.resolve(B)}catch(Z){I.reject(Z)}finally{--Sr==0&&na(),--I.psd.ref||I.psd.finalize()}}function Bs(){ka(cr,function(){ji()&&ir()})}function ji(){var b=Qt;return Ot=Qt=!1,b}function ir(){var b,S,I;do for(;0<Zt.length;)for(b=Zt,Zt=[],I=b.length,S=0;S<I;++S){var B=b[S];B[0].apply(null,B[1])}while(0<Zt.length);Ot=Qt=!0}function na(){var b=Gr;Gr=[],b.forEach(function(B){B._PSD.onunhandled.call(null,B._value,B)});for(var S=pr.slice(0),I=S.length;I;)S[--I]()}function Sa(b){return new bt(at,!1,b)}function Ur(b,S){var I=_t;return function(){var B=ji(),$=_t;try{return _a(I,!0),b.apply(this,arguments)}catch(Z){S&&S(Z)}finally{_a($,!1),B&&ir()}}}y(bt.prototype,{then:bn,_then:function(b,S){Ms(this,new Qr(null,null,b,S,_t))},catch:function(b){if(arguments.length===1)return this.then(null,b);var S=b,I=arguments[1];return typeof S=="function"?this.then(null,function(B){return(B instanceof S?I:Sa)(B)}):this.then(null,function(B){return(B&&B.name===S?I:Sa)(B)})},finally:function(b){return this.then(function(S){return bt.resolve(b()).then(function(){return S})},function(S){return bt.resolve(b()).then(function(){return Sa(S)})})},timeout:function(b,S){var I=this;return b<1/0?new bt(function(B,$){var Z=setTimeout(function(){return $(new Se.Timeout(S))},b);I.then(B,$).finally(clearTimeout.bind(null,Z))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(bt.prototype,Symbol.toStringTag,"Dexie.Promise"),cr.env=Ka(),y(bt,{all:function(){var b=_e.apply(null,arguments).map(aa);return new bt(function(S,I){b.length===0&&S([]);var B=b.length;b.forEach(function($,Z){return bt.resolve($).then(function(ce){b[Z]=ce,--B||S(b)},I)})})},resolve:function(b){return b instanceof bt?b:b&&typeof b.then=="function"?new bt(function(S,I){b.then(S,I)}):new bt(at,!0,b)},reject:Sa,race:function(){var b=_e.apply(null,arguments).map(aa);return new bt(function(S,I){b.map(function(B){return bt.resolve(B).then(S,I)})})},PSD:{get:function(){return _t},set:function(b){return _t=b}},totalEchoes:{get:function(){return Ga}},newPSD:gi,usePSD:ka,scheduler:{get:function(){return Dt},set:function(b){Dt=b}},rejectionMapper:{get:function(){return Ut},set:function(b){Ut=b}},follow:function(b,S){return new bt(function(I,B){return gi(function($,Z){var ce=_t;ce.unhandleds=[],ce.onunhandled=Z,ce.finalize=ye(function(){var xe,Ae=this;xe=function(){Ae.unhandleds.length===0?$():Z(Ae.unhandleds[0])},pr.push(function Pe(){xe(),pr.splice(pr.indexOf(Pe),1)}),++Sr,Dt(function(){--Sr==0&&na()},[])},ce.finalize),b()},S,I,B)})}}),Mt&&(Mt.allSettled&&k(bt,"allSettled",function(){var b=_e.apply(null,arguments).map(aa);return new bt(function(S){b.length===0&&S([]);var I=b.length,B=new Array(I);b.forEach(function($,Z){return bt.resolve($).then(function(ce){return B[Z]={status:"fulfilled",value:ce}},function(ce){return B[Z]={status:"rejected",reason:ce}}).then(function(){return--I||S(B)})})})}),Mt.any&&typeof AggregateError<"u"&&k(bt,"any",function(){var b=_e.apply(null,arguments).map(aa);return new bt(function(S,I){b.length===0&&I(new AggregateError([]));var B=b.length,$=new Array(B);b.forEach(function(Z,ce){return bt.resolve(Z).then(function(xe){return S(xe)},function(xe){$[ce]=xe,--B||I(new AggregateError($))})})})}),Mt.withResolvers&&(bt.withResolvers=Mt.withResolvers));var sn={awaits:0,echoes:0,id:0},xn=0,jn=[],Fn=0,Ga=0,jo=0;function gi(b,S,I,B){var $=_t,Z=Object.create($);return Z.parent=$,Z.ref=0,Z.global=!1,Z.id=++jo,cr.env,Z.env=Tt?{Promise:bt,PromiseProp:{value:bt,configurable:!0,writable:!0},all:bt.all,race:bt.race,allSettled:bt.allSettled,any:bt.any,resolve:bt.resolve,reject:bt.reject}:{},S&&u(Z,S),++$.ref,Z.finalize=function(){--this.parent.ref||this.parent.finalize()},B=ka(Z,b,I,B),Z.ref===0&&Z.finalize(),B}function ia(){return sn.id||(sn.id=++xn),++sn.awaits,sn.echoes+=dt,sn.id}function In(){return!!sn.awaits&&(--sn.awaits==0&&(sn.id=0),sn.echoes=sn.awaits*dt,!0)}function aa(b){return sn.echoes&&b&&b.constructor===Mt?(ia(),b.then(function(S){return In(),S},function(S){return In(),wn(S)})):b}function Ma(){var b=jn[jn.length-1];jn.pop(),_a(b,!1)}function _a(b,S){var I,B=_t;(S?!sn.echoes||Fn++&&b===_t:!Fn||--Fn&&b===_t)||queueMicrotask(S?(function($){++Ga,sn.echoes&&--sn.echoes!=0||(sn.echoes=sn.awaits=sn.id=0),jn.push(_t),_a($,!0)}).bind(null,b):Ma),b!==_t&&(_t=b,B===cr&&(cr.env=Ka()),Tt&&(I=cr.env.Promise,S=b.env,(B.global||b.global)&&(Object.defineProperty(a,"Promise",S.PromiseProp),I.all=S.all,I.race=S.race,I.resolve=S.resolve,I.reject=S.reject,S.allSettled&&(I.allSettled=S.allSettled),S.any&&(I.any=S.any))))}function Ka(){var b=a.Promise;return Tt?{Promise:b,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:b.all,race:b.race,allSettled:b.allSettled,any:b.any,resolve:b.resolve,reject:b.reject}:{}}function ka(b,S,I,B,$){var Z=_t;try{return _a(b,!0),S(I,B,$)}finally{_a(Z,!1)}}function Io(b,S,I,B){return typeof b!="function"?b:function(){var $=_t;I&&ia(),_a(S,!0);try{return b.apply(this,arguments)}finally{_a($,!1),B&&queueMicrotask(In)}}}function no(b){Promise===Mt&&sn.echoes===0?Fn===0?b():enqueueNativeMicroTask(b):setTimeout(b,0)}(""+Yi).indexOf("[native code]")===-1&&(ia=In=it);var wn=bt.reject,io="￿",Zr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ic="String expected.",vs=[],$i="__dbnames",zs="readonly",jl="readwrite";function Ya(b,S){return b?S?function(){return b.apply(this,arguments)&&S.apply(this,arguments)}:b:S}var To={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function qi(b){return typeof b!="string"||/\./.test(b)?function(S){return S}:function(S){return S[b]===void 0&&b in S&&delete(S=W(S))[b],S}}function ac(){throw Se.Type()}function dr(b,S){try{var I=Uc(b),B=Uc(S);if(I!==B)return I==="Array"?1:B==="Array"?-1:I==="binary"?1:B==="binary"?-1:I==="string"?1:B==="string"?-1:I==="Date"?1:B!=="Date"?NaN:-1;switch(I){case"number":case"Date":case"string":return S<b?1:b<S?-1:0;case"binary":return function($,Z){for(var ce=$.length,xe=Z.length,Ae=ce<xe?ce:xe,Pe=0;Pe<Ae;++Pe)if($[Pe]!==Z[Pe])return $[Pe]<Z[Pe]?-1:1;return ce===xe?0:ce<xe?-1:1}(Kn(b),Kn(S));case"Array":return function($,Z){for(var ce=$.length,xe=Z.length,Ae=ce<xe?ce:xe,Pe=0;Pe<Ae;++Pe){var Le=dr($[Pe],Z[Pe]);if(Le!==0)return Le}return ce===xe?0:ce<xe?-1:1}(b,S)}}catch{}return NaN}function Uc(b){var S=typeof b;return S!="object"?S:ArrayBuffer.isView(b)?"binary":(b=be(b),b==="ArrayBuffer"?"binary":b)}function Kn(b){return b instanceof Uint8Array?b:ArrayBuffer.isView(b)?new Uint8Array(b.buffer,b.byteOffset,b.byteLength):new Uint8Array(b)}var sc=(nn.prototype._trans=function(b,S,I){var B=this._tx||_t.trans,$=this.name,Z=Ce&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function ce(Pe,Le,Ne){if(!Ne.schema[$])throw new Se.NotFound("Table "+$+" not part of transaction");return S(Ne.idbtrans,Ne)}var xe=ji();try{var Ae=B&&B.db._novip===this.db._novip?B===_t.trans?B._promise(b,ce,I):gi(function(){return B._promise(b,ce,I)},{trans:B,transless:_t.transless||_t}):function Pe(Le,Ne,Ue,je){if(Le.idbdb&&(Le._state.openComplete||_t.letThrough||Le._vip)){var Me=Le._createTransaction(Ne,Ue,Le._dbSchema);try{Me.create(),Le._state.PR1398_maxLoop=3}catch($e){return $e.name===me.InvalidState&&Le.isOpen()&&0<--Le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Le.close({disableAutoOpen:!1}),Le.open().then(function(){return Pe(Le,Ne,Ue,je)})):wn($e)}return Me._promise(Ne,function($e,Oe){return gi(function(){return _t.trans=Me,je($e,Oe,Me)})}).then(function($e){if(Ne==="readwrite")try{Me.idbtrans.commit()}catch{}return Ne==="readonly"?$e:Me._completion.then(function(){return $e})})}if(Le._state.openComplete)return wn(new Se.DatabaseClosed(Le._state.dbOpenError));if(!Le._state.isBeingOpened){if(!Le._state.autoOpen)return wn(new Se.DatabaseClosed);Le.open().catch(it)}return Le._state.dbReadyPromise.then(function(){return Pe(Le,Ne,Ue,je)})}(this.db,b,[this.name],ce);return Z&&(Ae._consoleTask=Z,Ae=Ae.catch(function(Pe){return console.trace(Pe),wn(Pe)})),Ae}finally{xe&&ir()}},nn.prototype.get=function(b,S){var I=this;return b&&b.constructor===Object?this.where(b).first(S):b==null?wn(new Se.Type("Invalid argument to Table.get()")):this._trans("readonly",function(B){return I.core.get({trans:B,key:b}).then(function($){return I.hook.reading.fire($)})}).then(S)},nn.prototype.where=function(b){if(typeof b=="string")return new this.db.WhereClause(this,b);if(l(b))return new this.db.WhereClause(this,"[".concat(b.join("+"),"]"));var S=o(b);if(S.length===1)return this.where(S[0]).equals(b[S[0]]);var I=this.schema.indexes.concat(this.schema.primKey).filter(function(xe){if(xe.compound&&S.every(function(Pe){return 0<=xe.keyPath.indexOf(Pe)})){for(var Ae=0;Ae<S.length;++Ae)if(S.indexOf(xe.keyPath[Ae])===-1)return!1;return!0}return!1}).sort(function(xe,Ae){return xe.keyPath.length-Ae.keyPath.length})[0];if(I&&this.db._maxKey!==io){var Z=I.keyPath.slice(0,S.length);return this.where(Z).equals(Z.map(function(Ae){return b[Ae]}))}!I&&Ce&&console.warn("The query ".concat(JSON.stringify(b)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(S.join("+"),"]"));var B=this.schema.idxByName;function $(xe,Ae){return dr(xe,Ae)===0}var ce=S.reduce(function(Ne,Ae){var Pe=Ne[0],Le=Ne[1],Ne=B[Ae],Ue=b[Ae];return[Pe||Ne,Pe||!Ne?Ya(Le,Ne&&Ne.multi?function(je){return je=Q(je,Ae),l(je)&&je.some(function(Me){return $(Ue,Me)})}:function(je){return $(Ue,Q(je,Ae))}):Le]},[null,null]),Z=ce[0],ce=ce[1];return Z?this.where(Z.name).equals(b[Z.keyPath]).filter(ce):I?this.filter(ce):this.where(S).equals("")},nn.prototype.filter=function(b){return this.toCollection().and(b)},nn.prototype.count=function(b){return this.toCollection().count(b)},nn.prototype.offset=function(b){return this.toCollection().offset(b)},nn.prototype.limit=function(b){return this.toCollection().limit(b)},nn.prototype.each=function(b){return this.toCollection().each(b)},nn.prototype.toArray=function(b){return this.toCollection().toArray(b)},nn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},nn.prototype.orderBy=function(b){return new this.db.Collection(new this.db.WhereClause(this,l(b)?"[".concat(b.join("+"),"]"):b))},nn.prototype.reverse=function(){return this.toCollection().reverse()},nn.prototype.mapToClass=function(b){var S,I=this.db,B=this.name;function $(){return S!==null&&S.apply(this,arguments)||this}(this.schema.mappedClass=b).prototype instanceof ac&&(function(Ae,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Class extends value "+String(Pe)+" is not a constructor or null");function Le(){this.constructor=Ae}r(Ae,Pe),Ae.prototype=Pe===null?Object.create(Pe):(Le.prototype=Pe.prototype,new Le)}($,S=b),Object.defineProperty($.prototype,"db",{get:function(){return I},enumerable:!1,configurable:!0}),$.prototype.table=function(){return B},b=$);for(var Z=new Set,ce=b.prototype;ce;ce=d(ce))Object.getOwnPropertyNames(ce).forEach(function(Ae){return Z.add(Ae)});function xe(Ae){if(!Ae)return Ae;var Pe,Le=Object.create(b.prototype);for(Pe in Ae)if(!Z.has(Pe))try{Le[Pe]=Ae[Pe]}catch{}return Le}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=xe,this.hook("reading",xe),b},nn.prototype.defineClass=function(){return this.mapToClass(function(b){u(this,b)})},nn.prototype.add=function(b,S){var I=this,B=this.schema.primKey,$=B.auto,Z=B.keyPath,ce=b;return Z&&$&&(ce=qi(Z)(b)),this._trans("readwrite",function(xe){return I.core.mutate({trans:xe,type:"add",keys:S!=null?[S]:null,values:[ce]})}).then(function(xe){return xe.numFailures?bt.reject(xe.failures[0]):xe.lastResult}).then(function(xe){if(Z)try{K(b,Z,xe)}catch{}return xe})},nn.prototype.update=function(b,S){return typeof b!="object"||l(b)?this.where(":id").equals(b).modify(S):(b=Q(b,this.schema.primKey.keyPath),b===void 0?wn(new Se.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(b).modify(S))},nn.prototype.put=function(b,S){var I=this,B=this.schema.primKey,$=B.auto,Z=B.keyPath,ce=b;return Z&&$&&(ce=qi(Z)(b)),this._trans("readwrite",function(xe){return I.core.mutate({trans:xe,type:"put",values:[ce],keys:S!=null?[S]:null})}).then(function(xe){return xe.numFailures?bt.reject(xe.failures[0]):xe.lastResult}).then(function(xe){if(Z)try{K(b,Z,xe)}catch{}return xe})},nn.prototype.delete=function(b){var S=this;return this._trans("readwrite",function(I){return S.core.mutate({trans:I,type:"delete",keys:[b]})}).then(function(I){return I.numFailures?bt.reject(I.failures[0]):void 0})},nn.prototype.clear=function(){var b=this;return this._trans("readwrite",function(S){return b.core.mutate({trans:S,type:"deleteRange",range:To})}).then(function(S){return S.numFailures?bt.reject(S.failures[0]):void 0})},nn.prototype.bulkGet=function(b){var S=this;return this._trans("readonly",function(I){return S.core.getMany({keys:b,trans:I}).then(function(B){return B.map(function($){return S.hook.reading.fire($)})})})},nn.prototype.bulkAdd=function(b,S,I){var B=this,$=Array.isArray(S)?S:void 0,Z=(I=I||($?void 0:S))?I.allKeys:void 0;return this._trans("readwrite",function(ce){var Pe=B.schema.primKey,xe=Pe.auto,Pe=Pe.keyPath;if(Pe&&$)throw new Se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if($&&$.length!==b.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var Ae=b.length,Pe=Pe&&xe?b.map(qi(Pe)):b;return B.core.mutate({trans:ce,type:"add",keys:$,values:Pe,wantResults:Z}).then(function(Me){var Ne=Me.numFailures,Ue=Me.results,je=Me.lastResult,Me=Me.failures;if(Ne===0)return Z?Ue:je;throw new we("".concat(B.name,".bulkAdd(): ").concat(Ne," of ").concat(Ae," operations failed"),Me)})})},nn.prototype.bulkPut=function(b,S,I){var B=this,$=Array.isArray(S)?S:void 0,Z=(I=I||($?void 0:S))?I.allKeys:void 0;return this._trans("readwrite",function(ce){var Pe=B.schema.primKey,xe=Pe.auto,Pe=Pe.keyPath;if(Pe&&$)throw new Se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if($&&$.length!==b.length)throw new Se.InvalidArgument("Arguments objects and keys must have the same length");var Ae=b.length,Pe=Pe&&xe?b.map(qi(Pe)):b;return B.core.mutate({trans:ce,type:"put",keys:$,values:Pe,wantResults:Z}).then(function(Me){var Ne=Me.numFailures,Ue=Me.results,je=Me.lastResult,Me=Me.failures;if(Ne===0)return Z?Ue:je;throw new we("".concat(B.name,".bulkPut(): ").concat(Ne," of ").concat(Ae," operations failed"),Me)})})},nn.prototype.bulkUpdate=function(b){var S=this,I=this.core,B=b.map(function(ce){return ce.key}),$=b.map(function(ce){return ce.changes}),Z=[];return this._trans("readwrite",function(ce){return I.getMany({trans:ce,keys:B,cache:"clone"}).then(function(xe){var Ae=[],Pe=[];b.forEach(function(Ne,Ue){var je=Ne.key,Me=Ne.changes,$e=xe[Ue];if($e){for(var Oe=0,Ke=Object.keys(Me);Oe<Ke.length;Oe++){var Qe=Ke[Oe],Ze=Me[Qe];if(Qe===S.schema.primKey.keyPath){if(dr(Ze,je)!==0)throw new Se.Constraint("Cannot update primary key in bulkUpdate()")}else K($e,Qe,Ze)}Z.push(Ue),Ae.push(je),Pe.push($e)}});var Le=Ae.length;return I.mutate({trans:ce,type:"put",keys:Ae,values:Pe,updates:{keys:B,changeSpecs:$}}).then(function(Ne){var Ue=Ne.numFailures,je=Ne.failures;if(Ue===0)return Le;for(var Me=0,$e=Object.keys(je);Me<$e.length;Me++){var Oe,Ke=$e[Me],Qe=Z[Number(Ke)];Qe!=null&&(Oe=je[Ke],delete je[Ke],je[Qe]=Oe)}throw new we("".concat(S.name,".bulkUpdate(): ").concat(Ue," of ").concat(Le," operations failed"),je)})})})},nn.prototype.bulkDelete=function(b){var S=this,I=b.length;return this._trans("readwrite",function(B){return S.core.mutate({trans:B,type:"delete",keys:b})}).then(function(ce){var $=ce.numFailures,Z=ce.lastResult,ce=ce.failures;if($===0)return Z;throw new we("".concat(S.name,".bulkDelete(): ").concat($," of ").concat(I," operations failed"),ce)})},nn);function nn(){}function Wi(b){function S(ce,xe){if(xe){for(var Ae=arguments.length,Pe=new Array(Ae-1);--Ae;)Pe[Ae-1]=arguments[Ae];return I[ce].subscribe.apply(null,Pe),b}if(typeof ce=="string")return I[ce]}var I={};S.addEventType=Z;for(var B=1,$=arguments.length;B<$;++B)Z(arguments[B]);return S;function Z(ce,xe,Ae){if(typeof ce!="object"){var Pe;xe=xe||gt;var Le={subscribers:[],fire:Ae=Ae||it,subscribe:function(Ne){Le.subscribers.indexOf(Ne)===-1&&(Le.subscribers.push(Ne),Le.fire=xe(Le.fire,Ne))},unsubscribe:function(Ne){Le.subscribers=Le.subscribers.filter(function(Ue){return Ue!==Ne}),Le.fire=Le.subscribers.reduce(xe,Ae)}};return I[ce]=S[ce]=Le}o(Pe=ce).forEach(function(Ne){var Ue=Pe[Ne];if(l(Ue))Z(Ne,Pe[Ne][0],Pe[Ne][1]);else{if(Ue!=="asap")throw new Se.InvalidArgument("Invalid event config");var je=Z(Ne,pt,function(){for(var Me=arguments.length,$e=new Array(Me);Me--;)$e[Me]=arguments[Me];je.subscribers.forEach(function(Oe){M(function(){Oe.apply(null,$e)})})})}})}}function sa(b,S){return _(S).from({prototype:b}),S}function li(b,S){return!(b.filter||b.algorithm||b.or)&&(S?b.justLimit:!b.replayFilter)}function ao(b,S){b.filter=Ya(b.filter,S)}function Mn(b,S,I){var B=b.replayFilter;b.replayFilter=B?function(){return Ya(B(),S())}:S,b.justLimit=I&&!B}function Us(b,S){if(b.isPrimKey)return S.primaryKey;var I=S.getIndexByKeyPath(b.index);if(!I)throw new Se.Schema("KeyPath "+b.index+" on object store "+S.name+" is not indexed");return I}function oc(b,S,I){var B=Us(b,S.schema);return S.openCursor({trans:I,values:!b.keysOnly,reverse:b.dir==="prev",unique:!!b.unique,query:{index:B,range:b.range}})}function Do(b,S,I,B){var $=b.replayFilter?Ya(b.filter,b.replayFilter()):b.filter;if(b.or){var Z={},ce=function(xe,Ae,Pe){var Le,Ne;$&&!$(Ae,Pe,function(Ue){return Ae.stop(Ue)},function(Ue){return Ae.fail(Ue)})||((Ne=""+(Le=Ae.primaryKey))=="[object ArrayBuffer]"&&(Ne=""+new Uint8Array(Le)),m(Z,Ne)||(Z[Ne]=!0,S(xe,Ae,Pe)))};return Promise.all([b.or._iterate(ce,I),Lo(oc(b,B,I),b.algorithm,ce,!b.keysOnly&&b.valueMapper)])}return Lo(oc(b,B,I),Ya(b.algorithm,$),S,!b.keysOnly&&b.valueMapper)}function Lo(b,S,I,B){var $=Ur(B?function(Z,ce,xe){return I(B(Z),ce,xe)}:I);return b.then(function(Z){if(Z)return Z.start(function(){var ce=function(){return Z.continue()};S&&!S(Z,function(xe){return ce=xe},function(xe){Z.stop(xe),ce=it},function(xe){Z.fail(xe),ce=it})||$(Z.value,Z,function(xe){return ce=xe}),ce()})})}var Na=(Qo.prototype.execute=function(b){var S=this["@@propmod"];if(S.add!==void 0){var I=S.add;if(l(I))return i(i([],l(b)?b:[],!0),I).sort();if(typeof I=="number")return(Number(b)||0)+I;if(typeof I=="bigint")try{return BigInt(b)+I}catch{return BigInt(0)+I}throw new TypeError("Invalid term ".concat(I))}if(S.remove!==void 0){var B=S.remove;if(l(B))return l(b)?b.filter(function($){return!B.includes($)}).sort():[];if(typeof B=="number")return Number(b)-B;if(typeof B=="bigint")try{return BigInt(b)-B}catch{return BigInt(0)-B}throw new TypeError("Invalid subtrahend ".concat(B))}return I=(I=S.replacePrefix)===null||I===void 0?void 0:I[0],I&&typeof b=="string"&&b.startsWith(I)?S.replacePrefix[1]+b.substring(I.length):b},Qo);function Qo(b){this["@@propmod"]=b}var rn=(Lr.prototype._read=function(b,S){var I=this._ctx;return I.error?I.table._trans(null,wn.bind(null,I.error)):I.table._trans("readonly",b).then(S)},Lr.prototype._write=function(b){var S=this._ctx;return S.error?S.table._trans(null,wn.bind(null,S.error)):S.table._trans("readwrite",b,"locked")},Lr.prototype._addAlgorithm=function(b){var S=this._ctx;S.algorithm=Ya(S.algorithm,b)},Lr.prototype._iterate=function(b,S){return Do(this._ctx,b,S,this._ctx.table.core)},Lr.prototype.clone=function(b){var S=Object.create(this.constructor.prototype),I=Object.create(this._ctx);return b&&u(I,b),S._ctx=I,S},Lr.prototype.raw=function(){return this._ctx.valueMapper=null,this},Lr.prototype.each=function(b){var S=this._ctx;return this._read(function(I){return Do(S,b,I,S.table.core)})},Lr.prototype.count=function(b){var S=this;return this._read(function(I){var B=S._ctx,$=B.table.core;if(li(B,!0))return $.count({trans:I,query:{index:Us(B,$.schema),range:B.range}}).then(function(ce){return Math.min(ce,B.limit)});var Z=0;return Do(B,function(){return++Z,!1},I,$).then(function(){return Z})}).then(b)},Lr.prototype.sortBy=function(b,S){var I=b.split(".").reverse(),B=I[0],$=I.length-1;function Z(Ae,Pe){return Pe?Z(Ae[I[Pe]],Pe-1):Ae[B]}var ce=this._ctx.dir==="next"?1:-1;function xe(Ae,Pe){return dr(Z(Ae,$),Z(Pe,$))*ce}return this.toArray(function(Ae){return Ae.sort(xe)}).then(S)},Lr.prototype.toArray=function(b){var S=this;return this._read(function(I){var B=S._ctx;if(B.dir==="next"&&li(B,!0)&&0<B.limit){var $=B.valueMapper,Z=Us(B,B.table.core.schema);return B.table.core.query({trans:I,limit:B.limit,values:!0,query:{index:Z,range:B.range}}).then(function(xe){return xe=xe.result,$?xe.map($):xe})}var ce=[];return Do(B,function(xe){return ce.push(xe)},I,B.table.core).then(function(){return ce})},b)},Lr.prototype.offset=function(b){var S=this._ctx;return b<=0||(S.offset+=b,li(S)?Mn(S,function(){var I=b;return function(B,$){return I===0||(I===1?--I:$(function(){B.advance(I),I=0}),!1)}}):Mn(S,function(){var I=b;return function(){return--I<0}})),this},Lr.prototype.limit=function(b){return this._ctx.limit=Math.min(this._ctx.limit,b),Mn(this._ctx,function(){var S=b;return function(I,B,$){return--S<=0&&B($),0<=S}},!0),this},Lr.prototype.until=function(b,S){return ao(this._ctx,function(I,B,$){return!b(I.value)||(B($),S)}),this},Lr.prototype.first=function(b){return this.limit(1).toArray(function(S){return S[0]}).then(b)},Lr.prototype.last=function(b){return this.reverse().first(b)},Lr.prototype.filter=function(b){var S;return ao(this._ctx,function(I){return b(I.value)}),(S=this._ctx).isMatch=Ya(S.isMatch,b),this},Lr.prototype.and=function(b){return this.filter(b)},Lr.prototype.or=function(b){return new this.db.WhereClause(this._ctx.table,b,this)},Lr.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Lr.prototype.desc=function(){return this.reverse()},Lr.prototype.eachKey=function(b){var S=this._ctx;return S.keysOnly=!S.isMatch,this.each(function(I,B){b(B.key,B)})},Lr.prototype.eachUniqueKey=function(b){return this._ctx.unique="unique",this.eachKey(b)},Lr.prototype.eachPrimaryKey=function(b){var S=this._ctx;return S.keysOnly=!S.isMatch,this.each(function(I,B){b(B.primaryKey,B)})},Lr.prototype.keys=function(b){var S=this._ctx;S.keysOnly=!S.isMatch;var I=[];return this.each(function(B,$){I.push($.key)}).then(function(){return I}).then(b)},Lr.prototype.primaryKeys=function(b){var S=this._ctx;if(S.dir==="next"&&li(S,!0)&&0<S.limit)return this._read(function(B){var $=Us(S,S.table.core.schema);return S.table.core.query({trans:B,values:!1,limit:S.limit,query:{index:$,range:S.range}})}).then(function(B){return B.result}).then(b);S.keysOnly=!S.isMatch;var I=[];return this.each(function(B,$){I.push($.primaryKey)}).then(function(){return I}).then(b)},Lr.prototype.uniqueKeys=function(b){return this._ctx.unique="unique",this.keys(b)},Lr.prototype.firstKey=function(b){return this.limit(1).keys(function(S){return S[0]}).then(b)},Lr.prototype.lastKey=function(b){return this.reverse().firstKey(b)},Lr.prototype.distinct=function(){var b=this._ctx,b=b.index&&b.table.schema.idxByName[b.index];if(!b||!b.multi)return this;var S={};return ao(this._ctx,function($){var B=$.primaryKey.toString(),$=m(S,B);return S[B]=!0,!$}),this},Lr.prototype.modify=function(b){var S=this,I=this._ctx;return this._write(function(B){var $,Z,ce;ce=typeof b=="function"?b:($=o(b),Z=$.length,function(Oe){for(var Ke=!1,Qe=0;Qe<Z;++Qe){var Ze=$[Qe],ot=b[Ze],xt=Q(Oe,Ze);ot instanceof Na?(K(Oe,Ze,ot.execute(xt)),Ke=!0):xt!==ot&&(K(Oe,Ze,ot),Ke=!0)}return Ke});var xe=I.table.core,Ne=xe.schema.primaryKey,Ae=Ne.outbound,Pe=Ne.extractKey,Le=200,Ne=S.db._options.modifyChunkSize;Ne&&(Le=typeof Ne=="object"?Ne[xe.name]||Ne["*"]||200:Ne);function Ue(Oe,Ze){var Qe=Ze.failures,Ze=Ze.numFailures;Me+=Oe-Ze;for(var ot=0,xt=o(Qe);ot<xt.length;ot++){var Ct=xt[ot];je.push(Qe[Ct])}}var je=[],Me=0,$e=[];return S.clone().primaryKeys().then(function(Oe){function Ke(Ze){var ot=Math.min(Le,Oe.length-Ze);return xe.getMany({trans:B,keys:Oe.slice(Ze,Ze+ot),cache:"immutable"}).then(function(xt){for(var Ct=[],wt=[],kt=Ae?[]:null,Pt=[],Nt=0;Nt<ot;++Nt){var Lt=xt[Nt],Cr={value:W(Lt),primKey:Oe[Ze+Nt]};ce.call(Cr,Cr.value,Cr)!==!1&&(Cr.value==null?Pt.push(Oe[Ze+Nt]):Ae||dr(Pe(Lt),Pe(Cr.value))===0?(wt.push(Cr.value),Ae&&kt.push(Oe[Ze+Nt])):(Pt.push(Oe[Ze+Nt]),Ct.push(Cr.value)))}return Promise.resolve(0<Ct.length&&xe.mutate({trans:B,type:"add",values:Ct}).then(function(jr){for(var Rr in jr.failures)Pt.splice(parseInt(Rr),1);Ue(Ct.length,jr)})).then(function(){return(0<wt.length||Qe&&typeof b=="object")&&xe.mutate({trans:B,type:"put",keys:kt,values:wt,criteria:Qe,changeSpec:typeof b!="function"&&b,isAdditionalChunk:0<Ze}).then(function(jr){return Ue(wt.length,jr)})}).then(function(){return(0<Pt.length||Qe&&b===Ro)&&xe.mutate({trans:B,type:"delete",keys:Pt,criteria:Qe,isAdditionalChunk:0<Ze}).then(function(jr){return Ue(Pt.length,jr)})}).then(function(){return Oe.length>Ze+ot&&Ke(Ze+Le)})})}var Qe=li(I)&&I.limit===1/0&&(typeof b!="function"||b===Ro)&&{index:I.index,range:I.range};return Ke(0).then(function(){if(0<je.length)throw new le("Error modifying one or more objects",je,Me,$e);return Oe.length})})})},Lr.prototype.delete=function(){var b=this._ctx,S=b.range;return li(b)&&(b.isPrimKey||S.type===3)?this._write(function(I){var B=b.table.core.schema.primaryKey,$=S;return b.table.core.count({trans:I,query:{index:B,range:$}}).then(function(Z){return b.table.core.mutate({trans:I,type:"deleteRange",range:$}).then(function(ce){var xe=ce.failures;if(ce.lastResult,ce.results,ce=ce.numFailures,ce)throw new le("Could not delete some values",Object.keys(xe).map(function(Ae){return xe[Ae]}),Z-ce);return Z-ce})})}):this.modify(Ro)},Lr);function Lr(){}var Ro=function(b,S){return S.value=null};function lc(b,S){return b<S?-1:b===S?0:1}function $c(b,S){return S<b?-1:b===S?0:1}function Vi(b,S,I){return b=b instanceof oa?new b.Collection(b):b,b._ctx.error=new(I||TypeError)(S),b}function ys(b){return new b.Collection(b,function(){return bs("")}).limit(0)}function Ja(b,S,I,B){var $,Z,ce,xe,Ae,Pe,Le,Ne=I.length;if(!I.every(function(Me){return typeof Me=="string"}))return Vi(b,ic);function Ue(Me){$=Me==="next"?function(Oe){return Oe.toUpperCase()}:function(Oe){return Oe.toLowerCase()},Z=Me==="next"?function(Oe){return Oe.toLowerCase()}:function(Oe){return Oe.toUpperCase()},ce=Me==="next"?lc:$c;var $e=I.map(function(Oe){return{lower:Z(Oe),upper:$(Oe)}}).sort(function(Oe,Ke){return ce(Oe.lower,Ke.lower)});xe=$e.map(function(Oe){return Oe.upper}),Ae=$e.map(function(Oe){return Oe.lower}),Le=(Pe=Me)==="next"?"":B}Ue("next"),b=new b.Collection(b,function(){return vi(xe[0],Ae[Ne-1]+B)}),b._ondirectionchange=function(Me){Ue(Me)};var je=0;return b._addAlgorithm(function(Me,$e,Oe){var Ke=Me.key;if(typeof Ke!="string")return!1;var Qe=Z(Ke);if(S(Qe,Ae,je))return!0;for(var Ze=null,ot=je;ot<Ne;++ot){var xt=function(Ct,wt,kt,Pt,Nt,Lt){for(var Cr=Math.min(Ct.length,Pt.length),jr=-1,Rr=0;Rr<Cr;++Rr){var fa=wt[Rr];if(fa!==Pt[Rr])return Nt(Ct[Rr],kt[Rr])<0?Ct.substr(0,Rr)+kt[Rr]+kt.substr(Rr+1):Nt(Ct[Rr],Pt[Rr])<0?Ct.substr(0,Rr)+Pt[Rr]+kt.substr(Rr+1):0<=jr?Ct.substr(0,jr)+wt[jr]+kt.substr(jr+1):null;Nt(Ct[Rr],fa)<0&&(jr=Rr)}return Cr<Pt.length&&Lt==="next"?Ct+kt.substr(Ct.length):Cr<Ct.length&&Lt==="prev"?Ct.substr(0,kt.length):jr<0?null:Ct.substr(0,jr)+Pt[jr]+kt.substr(jr+1)}(Ke,Qe,xe[ot],Ae[ot],ce,Pe);xt===null&&Ze===null?je=ot+1:(Ze===null||0<ce(Ze,xt))&&(Ze=xt)}return $e(Ze!==null?function(){Me.continue(Ze+Le)}:Oe),!1}),b}function vi(b,S,I,B){return{type:2,lower:b,upper:S,lowerOpen:I,upperOpen:B}}function bs(b){return{type:1,lower:b,upper:b}}var oa=(Object.defineProperty(on.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),on.prototype.between=function(b,S,I,B){I=I!==!1,B=B===!0;try{return 0<this._cmp(b,S)||this._cmp(b,S)===0&&(I||B)&&(!I||!B)?ys(this):new this.Collection(this,function(){return vi(b,S,!I,!B)})}catch{return Vi(this,Zr)}},on.prototype.equals=function(b){return b==null?Vi(this,Zr):new this.Collection(this,function(){return bs(b)})},on.prototype.above=function(b){return b==null?Vi(this,Zr):new this.Collection(this,function(){return vi(b,void 0,!0)})},on.prototype.aboveOrEqual=function(b){return b==null?Vi(this,Zr):new this.Collection(this,function(){return vi(b,void 0,!1)})},on.prototype.below=function(b){return b==null?Vi(this,Zr):new this.Collection(this,function(){return vi(void 0,b,!1,!0)})},on.prototype.belowOrEqual=function(b){return b==null?Vi(this,Zr):new this.Collection(this,function(){return vi(void 0,b)})},on.prototype.startsWith=function(b){return typeof b!="string"?Vi(this,ic):this.between(b,b+io,!0,!0)},on.prototype.startsWithIgnoreCase=function(b){return b===""?this.startsWith(b):Ja(this,function(S,I){return S.indexOf(I[0])===0},[b],io)},on.prototype.equalsIgnoreCase=function(b){return Ja(this,function(S,I){return S===I[0]},[b],"")},on.prototype.anyOfIgnoreCase=function(){var b=_e.apply(ve,arguments);return b.length===0?ys(this):Ja(this,function(S,I){return I.indexOf(S)!==-1},b,"")},on.prototype.startsWithAnyOfIgnoreCase=function(){var b=_e.apply(ve,arguments);return b.length===0?ys(this):Ja(this,function(S,I){return I.some(function(B){return S.indexOf(B)===0})},b,io)},on.prototype.anyOf=function(){var b=this,S=_e.apply(ve,arguments),I=this._cmp;try{S.sort(I)}catch{return Vi(this,Zr)}if(S.length===0)return ys(this);var B=new this.Collection(this,function(){return vi(S[0],S[S.length-1])});B._ondirectionchange=function(Z){I=Z==="next"?b._ascending:b._descending,S.sort(I)};var $=0;return B._addAlgorithm(function(Z,ce,xe){for(var Ae=Z.key;0<I(Ae,S[$]);)if(++$===S.length)return ce(xe),!1;return I(Ae,S[$])===0||(ce(function(){Z.continue(S[$])}),!1)}),B},on.prototype.notEqual=function(b){return this.inAnyRange([[-1/0,b],[b,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},on.prototype.noneOf=function(){var b=_e.apply(ve,arguments);if(b.length===0)return new this.Collection(this);try{b.sort(this._ascending)}catch{return Vi(this,Zr)}var S=b.reduce(function(I,B){return I?I.concat([[I[I.length-1][1],B]]):[[-1/0,B]]},null);return S.push([b[b.length-1],this.db._maxKey]),this.inAnyRange(S,{includeLowers:!1,includeUppers:!1})},on.prototype.inAnyRange=function(Ke,S){var I=this,B=this._cmp,$=this._ascending,Z=this._descending,ce=this._min,xe=this._max;if(Ke.length===0)return ys(this);if(!Ke.every(function(Qe){return Qe[0]!==void 0&&Qe[1]!==void 0&&$(Qe[0],Qe[1])<=0}))return Vi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Se.InvalidArgument);var Ae=!S||S.includeLowers!==!1,Pe=S&&S.includeUppers===!0,Le,Ne=$;function Ue(Qe,Ze){return Ne(Qe[0],Ze[0])}try{(Le=Ke.reduce(function(Qe,Ze){for(var ot=0,xt=Qe.length;ot<xt;++ot){var Ct=Qe[ot];if(B(Ze[0],Ct[1])<0&&0<B(Ze[1],Ct[0])){Ct[0]=ce(Ct[0],Ze[0]),Ct[1]=xe(Ct[1],Ze[1]);break}}return ot===xt&&Qe.push(Ze),Qe},[])).sort(Ue)}catch{return Vi(this,Zr)}var je=0,Me=Pe?function(Qe){return 0<$(Qe,Le[je][1])}:function(Qe){return 0<=$(Qe,Le[je][1])},$e=Ae?function(Qe){return 0<Z(Qe,Le[je][0])}:function(Qe){return 0<=Z(Qe,Le[je][0])},Oe=Me,Ke=new this.Collection(this,function(){return vi(Le[0][0],Le[Le.length-1][1],!Ae,!Pe)});return Ke._ondirectionchange=function(Qe){Ne=Qe==="next"?(Oe=Me,$):(Oe=$e,Z),Le.sort(Ue)},Ke._addAlgorithm(function(Qe,Ze,ot){for(var xt,Ct=Qe.key;Oe(Ct);)if(++je===Le.length)return Ze(ot),!1;return!Me(xt=Ct)&&!$e(xt)||(I._cmp(Ct,Le[je][1])===0||I._cmp(Ct,Le[je][0])===0||Ze(function(){Ne===$?Qe.continue(Le[je][0]):Qe.continue(Le[je][1])}),!1)}),Ke},on.prototype.startsWithAnyOf=function(){var b=_e.apply(ve,arguments);return b.every(function(S){return typeof S=="string"})?b.length===0?ys(this):this.inAnyRange(b.map(function(S){return[S,S+io]})):Vi(this,"startsWithAnyOf() only works with strings")},on);function on(){}function Xt(b){return Ur(function(S){return xs(S),b(S.target.error),!1})}function xs(b){b.stopPropagation&&b.stopPropagation(),b.preventDefault&&b.preventDefault()}var Ca="storagemutated",cc="x-storagemutated-1",ws=Wi(null,Ca),Ba=(yi.prototype._lock=function(){return R(!_t.global),++this._reculock,this._reculock!==1||_t.global||(_t.lockOwnerFor=this),this},yi.prototype._unlock=function(){if(R(!_t.global),--this._reculock==0)for(_t.global||(_t.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var b=this._blockedFuncs.shift();try{ka(b[1],b[0])}catch{}}return this},yi.prototype._locked=function(){return this._reculock&&_t.lockOwnerFor!==this},yi.prototype.create=function(b){var S=this;if(!this.mode)return this;var I=this.db.idbdb,B=this.db._state.dbOpenError;if(R(!this.idbtrans),!b&&!I)switch(B&&B.name){case"DatabaseClosedError":throw new Se.DatabaseClosed(B);case"MissingAPIError":throw new Se.MissingAPI(B.message,B);default:throw new Se.OpenFailed(B)}if(!this.active)throw new Se.TransactionInactive;return R(this._completion._state===null),(b=this.idbtrans=b||(this.db.core||I).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ur(function($){xs($),S._reject(b.error)}),b.onabort=Ur(function($){xs($),S.active&&S._reject(new Se.Abort(b.error)),S.active=!1,S.on("abort").fire($)}),b.oncomplete=Ur(function(){S.active=!1,S._resolve(),"mutatedParts"in b&&ws.storagemutated.fire(b.mutatedParts)}),this},yi.prototype._promise=function(b,S,I){var B=this;if(b==="readwrite"&&this.mode!=="readwrite")return wn(new Se.ReadOnly("Transaction is readonly"));if(!this.active)return wn(new Se.TransactionInactive);if(this._locked())return new bt(function(Z,ce){B._blockedFuncs.push([function(){B._promise(b,S,I).then(Z,ce)},_t])});if(I)return gi(function(){var Z=new bt(function(ce,xe){B._lock();var Ae=S(ce,xe,B);Ae&&Ae.then&&Ae.then(ce,xe)});return Z.finally(function(){return B._unlock()}),Z._lib=!0,Z});var $=new bt(function(Z,ce){var xe=S(Z,ce,B);xe&&xe.then&&xe.then(Z,ce)});return $._lib=!0,$},yi.prototype._root=function(){return this.parent?this.parent._root():this},yi.prototype.waitFor=function(b){var S,I=this._root(),B=bt.resolve(b);I._waitingFor?I._waitingFor=I._waitingFor.then(function(){return B}):(I._waitingFor=B,I._waitingQueue=[],S=I.idbtrans.objectStore(I.storeNames[0]),function Z(){for(++I._spinCount;I._waitingQueue.length;)I._waitingQueue.shift()();I._waitingFor&&(S.get(-1/0).onsuccess=Z)}());var $=I._waitingFor;return new bt(function(Z,ce){B.then(function(xe){return I._waitingQueue.push(Ur(Z.bind(null,xe)))},function(xe){return I._waitingQueue.push(Ur(ce.bind(null,xe)))}).finally(function(){I._waitingFor===$&&(I._waitingFor=null)})})},yi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Se.Abort))},yi.prototype.table=function(b){var S=this._memoizedTables||(this._memoizedTables={});if(m(S,b))return S[b];var I=this.schema[b];if(!I)throw new Se.NotFound("Table "+b+" not part of transaction");return I=new this.db.Table(b,I,this),I.core=this.db.core.table(b),S[b]=I},yi);function yi(){}function Il(b,S,I,B,$,Z,ce){return{name:b,keyPath:S,unique:I,multi:B,auto:$,compound:Z,src:(I&&!ce?"&":"")+(B?"*":"")+($?"++":"")+Zo(S)}}function Zo(b){return typeof b=="string"?b:b?"["+[].join.call(b,"+")+"]":""}function so(b,S,I){return{name:b,primKey:S,indexes:I,mappedClass:null,idxByName:(B=function($){return[$.name,$]},I.reduce(function($,Z,ce){return ce=B(Z,ce),ce&&($[ce[0]]=ce[1]),$},{}))};var B}var oo=function(b){try{return b.only([[]]),oo=function(){return[[]]},[[]]}catch{return oo=function(){return io},io}};function za(b){return b==null?function(){}:typeof b=="string"?(S=b).split(".").length===1?function(I){return I[S]}:function(I){return Q(I,S)}:function(I){return Q(I,b)};var S}function Ss(b){return[].slice.call(b)}var _s=0;function $s(b){return b==null?":id":typeof b=="string"?b:"[".concat(b.join("+"),"]")}function uc(b,S,Ae){function B(Oe){if(Oe.type===3)return null;if(Oe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var je=Oe.lower,Me=Oe.upper,$e=Oe.lowerOpen,Oe=Oe.upperOpen;return je===void 0?Me===void 0?null:S.upperBound(Me,!!Oe):Me===void 0?S.lowerBound(je,!!$e):S.bound(je,Me,!!$e,!!Oe)}function $(Ue){var je,Me=Ue.name;return{name:Me,schema:Ue,mutate:function($e){var Oe=$e.trans,Ke=$e.type,Qe=$e.keys,Ze=$e.values,ot=$e.range;return new Promise(function(xt,Ct){xt=Ur(xt);var wt=Oe.objectStore(Me),kt=wt.keyPath==null,Pt=Ke==="put"||Ke==="add";if(!Pt&&Ke!=="delete"&&Ke!=="deleteRange")throw new Error("Invalid operation type: "+Ke);var Nt,Lt=(Qe||Ze||{length:1}).length;if(Qe&&Ze&&Qe.length!==Ze.length)throw new Error("Given keys array must have same length as given values array.");if(Lt===0)return xt({numFailures:0,failures:{},results:[],lastResult:void 0});function Cr(Ln){++fa,xs(Ln)}var jr=[],Rr=[],fa=0;if(Ke==="deleteRange"){if(ot.type===4)return xt({numFailures:fa,failures:Rr,results:[],lastResult:void 0});ot.type===3?jr.push(Nt=wt.clear()):jr.push(Nt=wt.delete(B(ot)))}else{var kt=Pt?kt?[Ze,Qe]:[Ze,null]:[Qe,null],_r=kt[0],wi=kt[1];if(Pt)for(var Si=0;Si<Lt;++Si)jr.push(Nt=wi&&wi[Si]!==void 0?wt[Ke](_r[Si],wi[Si]):wt[Ke](_r[Si])),Nt.onerror=Cr;else for(Si=0;Si<Lt;++Si)jr.push(Nt=wt[Ke](_r[Si])),Nt.onerror=Cr}function Ol(Ln){Ln=Ln.target.result,jr.forEach(function(ts,Ti){return ts.error!=null&&(Rr[Ti]=ts.error)}),xt({numFailures:fa,failures:Rr,results:Ke==="delete"?Qe:jr.map(function(ts){return ts.result}),lastResult:Ln})}Nt.onerror=function(Ln){Cr(Ln),Ol(Ln)},Nt.onsuccess=Ol})},getMany:function($e){var Oe=$e.trans,Ke=$e.keys;return new Promise(function(Qe,Ze){Qe=Ur(Qe);for(var ot,xt=Oe.objectStore(Me),Ct=Ke.length,wt=new Array(Ct),kt=0,Pt=0,Nt=function(jr){jr=jr.target,wt[jr._pos]=jr.result,++Pt===kt&&Qe(wt)},Lt=Xt(Ze),Cr=0;Cr<Ct;++Cr)Ke[Cr]!=null&&((ot=xt.get(Ke[Cr]))._pos=Cr,ot.onsuccess=Nt,ot.onerror=Lt,++kt);kt===0&&Qe(wt)})},get:function($e){var Oe=$e.trans,Ke=$e.key;return new Promise(function(Qe,Ze){Qe=Ur(Qe);var ot=Oe.objectStore(Me).get(Ke);ot.onsuccess=function(xt){return Qe(xt.target.result)},ot.onerror=Xt(Ze)})},query:(je=Pe,function($e){return new Promise(function(Oe,Ke){Oe=Ur(Oe);var Qe,Ze,ot,kt=$e.trans,xt=$e.values,Ct=$e.limit,Nt=$e.query,wt=Ct===1/0?void 0:Ct,Pt=Nt.index,Nt=Nt.range,kt=kt.objectStore(Me),Pt=Pt.isPrimaryKey?kt:kt.index(Pt.name),Nt=B(Nt);if(Ct===0)return Oe({result:[]});je?((wt=xt?Pt.getAll(Nt,wt):Pt.getAllKeys(Nt,wt)).onsuccess=function(Lt){return Oe({result:Lt.target.result})},wt.onerror=Xt(Ke)):(Qe=0,Ze=!xt&&"openKeyCursor"in Pt?Pt.openKeyCursor(Nt):Pt.openCursor(Nt),ot=[],Ze.onsuccess=function(Lt){var Cr=Ze.result;return Cr?(ot.push(xt?Cr.value:Cr.primaryKey),++Qe===Ct?Oe({result:ot}):void Cr.continue()):Oe({result:ot})},Ze.onerror=Xt(Ke))})}),openCursor:function($e){var Oe=$e.trans,Ke=$e.values,Qe=$e.query,Ze=$e.reverse,ot=$e.unique;return new Promise(function(xt,Ct){xt=Ur(xt);var Pt=Qe.index,wt=Qe.range,kt=Oe.objectStore(Me),kt=Pt.isPrimaryKey?kt:kt.index(Pt.name),Pt=Ze?ot?"prevunique":"prev":ot?"nextunique":"next",Nt=!Ke&&"openKeyCursor"in kt?kt.openKeyCursor(B(wt),Pt):kt.openCursor(B(wt),Pt);Nt.onerror=Xt(Ct),Nt.onsuccess=Ur(function(Lt){var Cr,jr,Rr,fa,_r=Nt.result;_r?(_r.___id=++_s,_r.done=!1,Cr=_r.continue.bind(_r),jr=(jr=_r.continuePrimaryKey)&&jr.bind(_r),Rr=_r.advance.bind(_r),fa=function(){throw new Error("Cursor not stopped")},_r.trans=Oe,_r.stop=_r.continue=_r.continuePrimaryKey=_r.advance=function(){throw new Error("Cursor not started")},_r.fail=Ur(Ct),_r.next=function(){var wi=this,Si=1;return this.start(function(){return Si--?wi.continue():wi.stop()}).then(function(){return wi})},_r.start=function(wi){function Si(){if(Nt.result)try{wi()}catch(Ln){_r.fail(Ln)}else _r.done=!0,_r.start=function(){throw new Error("Cursor behind last entry")},_r.stop()}var Ol=new Promise(function(Ln,ts){Ln=Ur(Ln),Nt.onerror=Xt(ts),_r.fail=ts,_r.stop=function(Ti){_r.stop=_r.continue=_r.continuePrimaryKey=_r.advance=fa,Ln(Ti)}});return Nt.onsuccess=Ur(function(Ln){Nt.onsuccess=Si,Si()}),_r.continue=Cr,_r.continuePrimaryKey=jr,_r.advance=Rr,Si(),Ol},xt(_r)):xt(null)},Ct)})},count:function($e){var Oe=$e.query,Ke=$e.trans,Qe=Oe.index,Ze=Oe.range;return new Promise(function(ot,xt){var Ct=Ke.objectStore(Me),wt=Qe.isPrimaryKey?Ct:Ct.index(Qe.name),Ct=B(Ze),wt=Ct?wt.count(Ct):wt.count();wt.onsuccess=Ur(function(kt){return ot(kt.target.result)}),wt.onerror=Xt(xt)})}}}var Z,ce,xe,Le=(ce=Ae,xe=Ss((Z=b).objectStoreNames),{schema:{name:Z.name,tables:xe.map(function(Ue){return ce.objectStore(Ue)}).map(function(Ue){var je=Ue.keyPath,Oe=Ue.autoIncrement,Me=l(je),$e={},Oe={name:Ue.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:je==null,compound:Me,keyPath:je,autoIncrement:Oe,unique:!0,extractKey:za(je)},indexes:Ss(Ue.indexNames).map(function(Ke){return Ue.index(Ke)}).map(function(ot){var Qe=ot.name,Ze=ot.unique,xt=ot.multiEntry,ot=ot.keyPath,xt={name:Qe,compound:l(ot),keyPath:ot,unique:Ze,multiEntry:xt,extractKey:za(ot)};return $e[$s(ot)]=xt}),getIndexByKeyPath:function(Ke){return $e[$s(Ke)]}};return $e[":id"]=Oe.primaryKey,je!=null&&($e[$s(je)]=Oe.primaryKey),Oe})},hasGetAll:0<xe.length&&"getAll"in ce.objectStore(xe[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Ae=Le.schema,Pe=Le.hasGetAll,Le=Ae.tables.map($),Ne={};return Le.forEach(function(Ue){return Ne[Ue.name]=Ue}),{stack:"dbcore",transaction:b.transaction.bind(b),table:function(Ue){if(!Ne[Ue])throw new Error("Table '".concat(Ue,"' not found"));return Ne[Ue]},MIN_KEY:-1/0,MAX_KEY:oo(S),schema:Ae}}function dc(b,S,I,B){var $=I.IDBKeyRange;return I.indexedDB,{dbcore:(B=uc(S,$,B),b.dbcore.reduce(function(Z,ce){return ce=ce.create,n(n({},Z),ce(Z))},B))}}function Qa(b,B){var I=B.db,B=dc(b._middlewares,I,b._deps,B);b.core=B.dbcore,b.tables.forEach(function($){var Z=$.name;b.core.schema.tables.some(function(ce){return ce.name===Z})&&($.core=b.core.table(Z),b[Z]instanceof b.Table&&(b[Z].core=$.core))})}function Ua(b,S,I,B){I.forEach(function($){var Z=B[$];S.forEach(function(ce){var xe=function Ae(Pe,Le){return N(Pe,Le)||(Pe=d(Pe))&&Ae(Pe,Le)}(ce,$);(!xe||"value"in xe&&xe.value===void 0)&&(ce===b.Transaction.prototype||ce instanceof b.Transaction?k(ce,$,{get:function(){return this.table($)},set:function(Ae){g(this,$,{value:Ae,writable:!0,configurable:!0,enumerable:!0})}}):ce[$]=new b.Table($,Z))})})}function lo(b,S){S.forEach(function(I){for(var B in I)I[B]instanceof b.Table&&delete I[B]})}function Xo(b,S){return b._cfg.version-S._cfg.version}function Za(b,S,I,B){var $=b._dbSchema;I.objectStoreNames.contains("$meta")&&!$.$meta&&($.$meta=so("$meta",fe("")[0],[]),b._storeNames.push("$meta"));var Z=b._createTransaction("readwrite",b._storeNames,$);Z.create(I),Z._completion.catch(B);var ce=Z._reject.bind(Z),xe=_t.transless||_t;gi(function(){return _t.trans=Z,_t.transless=xe,S!==0?(Qa(b,I),Pe=S,((Ae=Z).storeNames.includes("$meta")?Ae.table("$meta").get("version").then(function(Le){return Le??Pe}):bt.resolve(Pe)).then(function(Le){return Ue=Le,je=Z,Me=I,$e=[],Le=(Ne=b)._versions,Oe=Ne._dbSchema=A(0,Ne.idbdb,Me),(Le=Le.filter(function(Ke){return Ke._cfg.version>=Ue})).length!==0?(Le.forEach(function(Ke){$e.push(function(){var Qe=Oe,Ze=Ke._cfg.dbschema;q(Ne,Qe,Me),q(Ne,Ze,Me),Oe=Ne._dbSchema=Ze;var ot=qs(Qe,Ze);ot.add.forEach(function(Pt){Oo(Me,Pt[0],Pt[1].primKey,Pt[1].indexes)}),ot.change.forEach(function(Pt){if(Pt.recreate)throw new Se.Upgrade("Not yet support for changing primary key");var Nt=Me.objectStore(Pt.name);Pt.add.forEach(function(Lt){return Hi(Nt,Lt)}),Pt.change.forEach(function(Lt){Nt.deleteIndex(Lt.name),Hi(Nt,Lt)}),Pt.del.forEach(function(Lt){return Nt.deleteIndex(Lt)})});var xt=Ke._cfg.contentUpgrade;if(xt&&Ke._cfg.version>Ue){Qa(Ne,Me),je._memoizedTables={};var Ct=G(Ze);ot.del.forEach(function(Pt){Ct[Pt]=Qe[Pt]}),lo(Ne,[Ne.Transaction.prototype]),Ua(Ne,[Ne.Transaction.prototype],o(Ct),Ct),je.schema=Ct;var wt,kt=te(xt);return kt&&ia(),ot=bt.follow(function(){var Pt;(wt=xt(je))&&kt&&(Pt=In.bind(null,null),wt.then(Pt,Pt))}),wt&&typeof wt.then=="function"?bt.resolve(wt):ot.then(function(){return wt})}}),$e.push(function(Qe){var Ze,ot,xt=Ke._cfg.dbschema;Ze=xt,ot=Qe,[].slice.call(ot.db.objectStoreNames).forEach(function(Ct){return Ze[Ct]==null&&ot.db.deleteObjectStore(Ct)}),lo(Ne,[Ne.Transaction.prototype]),Ua(Ne,[Ne.Transaction.prototype],Ne._storeNames,Ne._dbSchema),je.schema=Ne._dbSchema}),$e.push(function(Qe){Ne.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Ne.idbdb.version/10)===Ke._cfg.version?(Ne.idbdb.deleteObjectStore("$meta"),delete Ne._dbSchema.$meta,Ne._storeNames=Ne._storeNames.filter(function(Ze){return Ze!=="$meta"})):Qe.objectStore("$meta").put(Ke._cfg.version,"version"))})}),function Ke(){return $e.length?bt.resolve($e.shift()(je.idbtrans)).then(Ke):bt.resolve()}().then(function(){Ii(Oe,Me)})):bt.resolve();var Ne,Ue,je,Me,$e,Oe}).catch(ce)):(o($).forEach(function(Le){Oo(I,Le,$[Le].primKey,$[Le].indexes)}),Qa(b,I),void bt.follow(function(){return b.on.populate.fire(Z)}).catch(ce));var Ae,Pe})}function co(b,S){Ii(b._dbSchema,S),S.db.version%10!=0||S.objectStoreNames.contains("$meta")||S.db.createObjectStore("$meta").add(Math.ceil(S.db.version/10-1),"version");var I=A(0,b.idbdb,S);q(b,b._dbSchema,S);for(var B=0,$=qs(I,b._dbSchema).change;B<$.length;B++){var Z=function(ce){if(ce.change.length||ce.recreate)return console.warn("Unable to patch indexes of table ".concat(ce.name," because it has changes on the type of index or primary key.")),{value:void 0};var xe=S.objectStore(ce.name);ce.add.forEach(function(Ae){Ce&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ce.name,".").concat(Ae.src)),Hi(xe,Ae)})}($[B]);if(typeof Z=="object")return Z.value}}function qs(b,S){var I,B={del:[],add:[],change:[]};for(I in b)S[I]||B.del.push(I);for(I in S){var $=b[I],Z=S[I];if($){var ce={name:I,def:Z,recreate:!1,del:[],add:[],change:[]};if(""+($.primKey.keyPath||"")!=""+(Z.primKey.keyPath||"")||$.primKey.auto!==Z.primKey.auto)ce.recreate=!0,B.change.push(ce);else{var xe=$.idxByName,Ae=Z.idxByName,Pe=void 0;for(Pe in xe)Ae[Pe]||ce.del.push(Pe);for(Pe in Ae){var Le=xe[Pe],Ne=Ae[Pe];Le?Le.src!==Ne.src&&ce.change.push(Ne):ce.add.push(Ne)}(0<ce.del.length||0<ce.add.length||0<ce.change.length)&&B.change.push(ce)}}else B.add.push([I,Z])}return B}function Oo(b,S,I,B){var $=b.db.createObjectStore(S,I.keyPath?{keyPath:I.keyPath,autoIncrement:I.auto}:{autoIncrement:I.auto});return B.forEach(function(Z){return Hi($,Z)}),$}function Ii(b,S){o(b).forEach(function(I){S.db.objectStoreNames.contains(I)||(Ce&&console.debug("Dexie: Creating missing table",I),Oo(S,I,b[I].primKey,b[I].indexes))})}function Hi(b,S){b.createIndex(S.name,S.keyPath,{unique:S.unique,multiEntry:S.multi})}function A(b,S,I){var B={};return T(S.objectStoreNames,0).forEach(function($){for(var Z=I.objectStore($),ce=Il(Zo(Pe=Z.keyPath),Pe||"",!0,!1,!!Z.autoIncrement,Pe&&typeof Pe!="string",!0),xe=[],Ae=0;Ae<Z.indexNames.length;++Ae){var Le=Z.index(Z.indexNames[Ae]),Pe=Le.keyPath,Le=Il(Le.name,Pe,!!Le.unique,!!Le.multiEntry,!1,Pe&&typeof Pe!="string",!1);xe.push(Le)}B[$]=so($,ce,xe)}),B}function q(b,S,I){for(var B=I.db.objectStoreNames,$=0;$<B.length;++$){var Z=B[$],ce=I.objectStore(Z);b._hasGetAll="getAll"in ce;for(var xe=0;xe<ce.indexNames.length;++xe){var Ae=ce.indexNames[xe],Pe=ce.index(Ae).keyPath,Le=typeof Pe=="string"?Pe:"["+T(Pe).join("+")+"]";!S[Z]||(Pe=S[Z].idxByName[Le])&&(Pe.name=Ae,delete S[Z].idxByName[Le],S[Z].idxByName[Ae]=Pe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(b._hasGetAll=!1)}function fe(b){return b.split(",").map(function(S,I){var B=(S=S.trim()).replace(/([&*]|\+\+)/g,""),$=/^\[/.test(B)?B.match(/^\[(.*)\]$/)[1].split("+"):B;return Il(B,$||null,/\&/.test(S),/\*/.test(S),/\+\+/.test(S),l($),I===0)})}var Ee=(Be.prototype._parseStoresSpec=function(b,S){o(b).forEach(function(I){if(b[I]!==null){var B=fe(b[I]),$=B.shift();if($.unique=!0,$.multi)throw new Se.Schema("Primary key cannot be multi-valued");B.forEach(function(Z){if(Z.auto)throw new Se.Schema("Only primary key can be marked as autoIncrement (++)");if(!Z.keyPath)throw new Se.Schema("Index must have a name and cannot be an empty string")}),S[I]=so(I,$,B)}})},Be.prototype.stores=function(I){var S=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,I):I;var I=S._versions,B={},$={};return I.forEach(function(Z){u(B,Z._cfg.storesSource),$=Z._cfg.dbschema={},Z._parseStoresSpec(B,$)}),S._dbSchema=$,lo(S,[S._allTables,S,S.Transaction.prototype]),Ua(S,[S._allTables,S,S.Transaction.prototype,this._cfg.tables],o($),$),S._storeNames=o($),this},Be.prototype.upgrade=function(b){return this._cfg.contentUpgrade=pe(this._cfg.contentUpgrade||it,b),this},Be);function Be(){}function lt(b,S){var I=b._dbNamesDB;return I||(I=b._dbNamesDB=new Ki($i,{addons:[],indexedDB:b,IDBKeyRange:S})).version(1).stores({dbnames:"name"}),I.table("dbnames")}function ft(b){return b&&typeof b.databases=="function"}function Ft(b){return gi(function(){return _t.letThrough=!0,b()})}function $t(b){return!("from"in b)}var qt=function(b,S){if(!this){var I=new qt;return b&&"d"in b&&u(I,b),I}u(this,arguments.length?{d:1,from:b,to:1<arguments.length?S:b}:{d:0})};function xr(b,S,I){var B=dr(S,I);if(!isNaN(B)){if(0<B)throw RangeError();if($t(b))return u(b,{from:S,to:I,d:1});var $=b.l,B=b.r;if(dr(I,b.from)<0)return $?xr($,S,I):b.l={from:S,to:I,d:1,l:null,r:null},an(b);if(0<dr(S,b.to))return B?xr(B,S,I):b.r={from:S,to:I,d:1,l:null,r:null},an(b);dr(S,b.from)<0&&(b.from=S,b.l=null,b.d=B?B.d+1:1),0<dr(I,b.to)&&(b.to=I,b.r=null,b.d=b.l?b.l.d+1:1),I=!b.r,$&&!b.l&&Wr(b,$),B&&I&&Wr(b,B)}}function Wr(b,S){$t(S)||function I(B,Ae){var Z=Ae.from,ce=Ae.to,xe=Ae.l,Ae=Ae.r;xr(B,Z,ce),xe&&I(B,xe),Ae&&I(B,Ae)}(b,S)}function Tn(b,S){var I=Bn(S),B=I.next();if(B.done)return!1;for(var $=B.value,Z=Bn(b),ce=Z.next($.from),xe=ce.value;!B.done&&!ce.done;){if(dr(xe.from,$.to)<=0&&0<=dr(xe.to,$.from))return!0;dr($.from,xe.from)<0?$=(B=I.next(xe.from)).value:xe=(ce=Z.next($.from)).value}return!1}function Bn(b){var S=$t(b)?null:{s:0,n:b};return{next:function(I){for(var B=0<arguments.length;S;)switch(S.s){case 0:if(S.s=1,B)for(;S.n.l&&dr(I,S.n.from)<0;)S={up:S,n:S.n.l,s:1};else for(;S.n.l;)S={up:S,n:S.n.l,s:1};case 1:if(S.s=2,!B||dr(I,S.n.to)<=0)return{value:S.n,done:!1};case 2:if(S.n.r){S.s=3,S={up:S,n:S.n.r,s:0};continue}case 3:S=S.up}return{done:!0}}}}function an(b){var S,I,B=(((S=b.r)===null||S===void 0?void 0:S.d)||0)-(((I=b.l)===null||I===void 0?void 0:I.d)||0),$=1<B?"r":B<-1?"l":"";$&&(S=$=="r"?"l":"r",I=n({},b),B=b[$],b.from=B.from,b.to=B.to,b[$]=B[$],I[$]=B[S],(b[S]=I).d=Zn(I)),b.d=Zn(b)}function Zn(I){var S=I.r,I=I.l;return(S?I?Math.max(S.d,I.d):S.d:I?I.d:0)+1}function zn(b,S){return o(S).forEach(function(I){b[I]?Wr(b[I],S[I]):b[I]=function B($){var Z,ce,xe={};for(Z in $)m($,Z)&&(ce=$[Z],xe[Z]=!ce||typeof ce!="object"||z.has(ce.constructor)?ce:B(ce));return xe}(S[I])}),b}function ci(b,S){return b.all||S.all||Object.keys(b).some(function(I){return S[I]&&Tn(S[I],b[I])})}y(qt.prototype,((Yi={add:function(b){return Wr(this,b),this},addKey:function(b){return xr(this,b,b),this},addKeys:function(b){var S=this;return b.forEach(function(I){return xr(S,I,I)}),this},hasKey:function(b){var S=Bn(this).next(b).value;return S&&dr(S.from,b)<=0&&0<=dr(S.to,b)}})[he]=function(){return Bn(this)},Yi));var la={},Ws={},Tl=!1;function el(b){zn(Ws,b),Tl||(Tl=!0,setTimeout(function(){Tl=!1,uo(Ws,!(Ws={}))},0))}function uo(b,S){S===void 0&&(S=!1);var I=new Set;if(b.all)for(var B=0,$=Object.values(la);B<$.length;B++)Xa(ce=$[B],b,I,S);else for(var Z in b){var ce,xe=/^idb\:\/\/(.*)\/(.*)\//.exec(Z);xe&&(Z=xe[1],xe=xe[2],(ce=la["idb://".concat(Z,"/").concat(xe)])&&Xa(ce,b,I,S))}I.forEach(function(Ae){return Ae()})}function Xa(b,S,I,B){for(var $=[],Z=0,ce=Object.entries(b.queries.query);Z<ce.length;Z++){for(var xe=ce[Z],Ae=xe[0],Pe=[],Le=0,Ne=xe[1];Le<Ne.length;Le++){var Ue=Ne[Le];ci(S,Ue.obsSet)?Ue.subscribers.forEach(function(Oe){return I.add(Oe)}):B&&Pe.push(Ue)}B&&$.push([Ae,Pe])}if(B)for(var je=0,Me=$;je<Me.length;je++){var $e=Me[je],Ae=$e[0],Pe=$e[1];b.queries.query[Ae]=Pe}}function fc(b){var S=b._state,I=b._deps.indexedDB;if(S.isBeingOpened||b.idbdb)return S.dbReadyPromise.then(function(){return S.dbOpenError?wn(S.dbOpenError):b});S.isBeingOpened=!0,S.dbOpenError=null,S.openComplete=!1;var B=S.openCanceller,$=Math.round(10*b.verno),Z=!1;function ce(){if(S.openCanceller!==B)throw new Se.DatabaseClosed("db.open() was cancelled")}function xe(){return new bt(function(Ue,je){if(ce(),!I)throw new Se.MissingAPI;var Me=b.name,$e=S.autoSchema||!$?I.open(Me):I.open(Me,$);if(!$e)throw new Se.MissingAPI;$e.onerror=Xt(je),$e.onblocked=Ur(b._fireOnBlocked),$e.onupgradeneeded=Ur(function(Oe){var Ke;Le=$e.transaction,S.autoSchema&&!b._options.allowEmptyDB?($e.onerror=xs,Le.abort(),$e.result.close(),(Ke=I.deleteDatabase(Me)).onsuccess=Ke.onerror=Ur(function(){je(new Se.NoSuchDatabase("Database ".concat(Me," doesnt exist")))})):(Le.onerror=Xt(je),Oe=Oe.oldVersion>Math.pow(2,62)?0:Oe.oldVersion,Ne=Oe<1,b.idbdb=$e.result,Z&&co(b,Le),Za(b,Oe/10,Le,je))},je),$e.onsuccess=Ur(function(){Le=null;var Oe,Ke,Qe,Ze,ot,xt=b.idbdb=$e.result,Ct=T(xt.objectStoreNames);if(0<Ct.length)try{var wt=xt.transaction((Ze=Ct).length===1?Ze[0]:Ze,"readonly");if(S.autoSchema)Ke=xt,Qe=wt,(Oe=b).verno=Ke.version/10,Qe=Oe._dbSchema=A(0,Ke,Qe),Oe._storeNames=T(Ke.objectStoreNames,0),Ua(Oe,[Oe._allTables],o(Qe),Qe);else if(q(b,b._dbSchema,wt),((ot=qs(A(0,(ot=b).idbdb,wt),ot._dbSchema)).add.length||ot.change.some(function(kt){return kt.add.length||kt.change.length}))&&!Z)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),xt.close(),$=xt.version+1,Z=!0,Ue(xe());Qa(b,wt)}catch{}vs.push(b),xt.onversionchange=Ur(function(kt){S.vcFired=!0,b.on("versionchange").fire(kt)}),xt.onclose=Ur(function(kt){b.on("close").fire(kt)}),Ne&&(ot=b._deps,wt=Me,xt=ot.indexedDB,ot=ot.IDBKeyRange,ft(xt)||wt===$i||lt(xt,ot).put({name:wt}).catch(it)),Ue()},je)}).catch(function(Ue){switch(Ue?.name){case"UnknownError":if(0<S.PR1398_maxLoop)return S.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),xe();break;case"VersionError":if(0<$)return $=0,xe()}return bt.reject(Ue)})}var Ae,Pe=S.dbReadyResolve,Le=null,Ne=!1;return bt.race([B,(typeof navigator>"u"?bt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Ue){function je(){return indexedDB.databases().finally(Ue)}Ae=setInterval(je,100),je()}).finally(function(){return clearInterval(Ae)}):Promise.resolve()).then(xe)]).then(function(){return ce(),S.onReadyBeingFired=[],bt.resolve(Ft(function(){return b.on.ready.fire(b.vip)})).then(function Ue(){if(0<S.onReadyBeingFired.length){var je=S.onReadyBeingFired.reduce(pe,it);return S.onReadyBeingFired=[],bt.resolve(Ft(function(){return je(b.vip)})).then(Ue)}})}).finally(function(){S.openCanceller===B&&(S.onReadyBeingFired=null,S.isBeingOpened=!1)}).catch(function(Ue){S.dbOpenError=Ue;try{Le&&Le.abort()}catch{}return B===S.openCanceller&&b._close(),wn(Ue)}).finally(function(){S.openComplete=!0,Pe()}).then(function(){var Ue;return Ne&&(Ue={},b.tables.forEach(function(je){je.schema.indexes.forEach(function(Me){Me.name&&(Ue["idb://".concat(b.name,"/").concat(je.name,"/").concat(Me.name)]=new qt(-1/0,[[[]]]))}),Ue["idb://".concat(b.name,"/").concat(je.name,"/")]=Ue["idb://".concat(b.name,"/").concat(je.name,"/:dels")]=new qt(-1/0,[[[]]])}),ws(Ca).fire(Ue),uo(Ue,!0)),b})}function Vs(b){function S(Z){return b.next(Z)}var I=$(S),B=$(function(Z){return b.throw(Z)});function $(Z){return function(Ae){var xe=Z(Ae),Ae=xe.value;return xe.done?Ae:Ae&&typeof Ae.then=="function"?Ae.then(I,B):l(Ae)?Promise.all(Ae).then(I,B):I(Ae)}}return $(S)()}function ks(b,S,I){for(var B=l(b)?b.slice():[b],$=0;$<I;++$)B.push(S);return B}var bi={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(b){return n(n({},b),{table:function(S){var I=b.table(S),B=I.schema,$={},Z=[];function ce(Ne,Ue,je){var Me=$s(Ne),$e=$[Me]=$[Me]||[],Oe=Ne==null?0:typeof Ne=="string"?1:Ne.length,Ke=0<Ue,Ke=n(n({},je),{name:Ke?"".concat(Me,"(virtual-from:").concat(je.name,")"):je.name,lowLevelIndex:je,isVirtual:Ke,keyTail:Ue,keyLength:Oe,extractKey:za(Ne),unique:!Ke&&je.unique});return $e.push(Ke),Ke.isPrimaryKey||Z.push(Ke),1<Oe&&ce(Oe===2?Ne[0]:Ne.slice(0,Oe-1),Ue+1,je),$e.sort(function(Qe,Ze){return Qe.keyTail-Ze.keyTail}),Ke}S=ce(B.primaryKey.keyPath,0,B.primaryKey),$[":id"]=[S];for(var xe=0,Ae=B.indexes;xe<Ae.length;xe++){var Pe=Ae[xe];ce(Pe.keyPath,0,Pe)}function Le(Ne){var Ue,je=Ne.query.index;return je.isVirtual?n(n({},Ne),{query:{index:je.lowLevelIndex,range:(Ue=Ne.query.range,je=je.keyTail,{type:Ue.type===1?2:Ue.type,lower:ks(Ue.lower,Ue.lowerOpen?b.MAX_KEY:b.MIN_KEY,je),lowerOpen:!0,upper:ks(Ue.upper,Ue.upperOpen?b.MIN_KEY:b.MAX_KEY,je),upperOpen:!0})}}):Ne}return n(n({},I),{schema:n(n({},B),{primaryKey:S,indexes:Z,getIndexByKeyPath:function(Ne){return(Ne=$[$s(Ne)])&&Ne[0]}}),count:function(Ne){return I.count(Le(Ne))},query:function(Ne){return I.query(Le(Ne))},openCursor:function(Ne){var Ue=Ne.query.index,je=Ue.keyTail,Me=Ue.isVirtual,$e=Ue.keyLength;return Me?I.openCursor(Le(Ne)).then(function(Ke){return Ke&&Oe(Ke)}):I.openCursor(Ne);function Oe(Ke){return Object.create(Ke,{continue:{value:function(Qe){Qe!=null?Ke.continue(ks(Qe,Ne.reverse?b.MAX_KEY:b.MIN_KEY,je)):Ne.unique?Ke.continue(Ke.key.slice(0,$e).concat(Ne.reverse?b.MIN_KEY:b.MAX_KEY,je)):Ke.continue()}},continuePrimaryKey:{value:function(Qe,Ze){Ke.continuePrimaryKey(ks(Qe,b.MAX_KEY,je),Ze)}},primaryKey:{get:function(){return Ke.primaryKey}},key:{get:function(){var Qe=Ke.key;return $e===1?Qe[0]:Qe.slice(0,$e)}},value:{get:function(){return Ke.value}}})}}})}})}};function Ns(b,S,I,B){return I=I||{},B=B||"",o(b).forEach(function($){var Z,ce,xe;m(S,$)?(Z=b[$],ce=S[$],typeof Z=="object"&&typeof ce=="object"&&Z&&ce?(xe=be(Z))!==be(ce)?I[B+$]=S[$]:xe==="Object"?Ns(Z,ce,I,B+$+"."):Z!==ce&&(I[B+$]=S[$]):Z!==ce&&(I[B+$]=S[$])):I[B+$]=void 0}),o(S).forEach(function($){m(b,$)||(I[B+$]=S[$])}),I}function es(b,S){return S.type==="delete"?S.keys:S.keys||S.values.map(b.extractKey)}var Dl={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(b){return n(n({},b),{table:function(S){var I=b.table(S),B=I.schema.primaryKey;return n(n({},I),{mutate:function($){var Z=_t.trans,ce=Z.table(S).hook,xe=ce.deleting,Ae=ce.creating,Pe=ce.updating;switch($.type){case"add":if(Ae.fire===it)break;return Z._promise("readwrite",function(){return Le($)},!0);case"put":if(Ae.fire===it&&Pe.fire===it)break;return Z._promise("readwrite",function(){return Le($)},!0);case"delete":if(xe.fire===it)break;return Z._promise("readwrite",function(){return Le($)},!0);case"deleteRange":if(xe.fire===it)break;return Z._promise("readwrite",function(){return function Ne(Ue,je,Me){return I.query({trans:Ue,values:!1,query:{index:B,range:je},limit:Me}).then(function($e){var Oe=$e.result;return Le({type:"delete",keys:Oe,trans:Ue}).then(function(Ke){return 0<Ke.numFailures?Promise.reject(Ke.failures[0]):Oe.length<Me?{failures:[],numFailures:0,lastResult:void 0}:Ne(Ue,n(n({},je),{lower:Oe[Oe.length-1],lowerOpen:!0}),Me)})})}($.trans,$.range,1e4)},!0)}return I.mutate($);function Le(Ne){var Ue,je,Me,$e=_t.trans,Oe=Ne.keys||es(B,Ne);if(!Oe)throw new Error("Keys missing");return(Ne=Ne.type==="add"||Ne.type==="put"?n(n({},Ne),{keys:Oe}):n({},Ne)).type!=="delete"&&(Ne.values=i([],Ne.values)),Ne.keys&&(Ne.keys=i([],Ne.keys)),Ue=I,Me=Oe,((je=Ne).type==="add"?Promise.resolve([]):Ue.getMany({trans:je.trans,keys:Me,cache:"immutable"})).then(function(Ke){var Qe=Oe.map(function(Ze,ot){var xt,Ct,wt,kt=Ke[ot],Pt={onerror:null,onsuccess:null};return Ne.type==="delete"?xe.fire.call(Pt,Ze,kt,$e):Ne.type==="add"||kt===void 0?(xt=Ae.fire.call(Pt,Ze,Ne.values[ot],$e),Ze==null&&xt!=null&&(Ne.keys[ot]=Ze=xt,B.outbound||K(Ne.values[ot],B.keyPath,Ze))):(xt=Ns(kt,Ne.values[ot]),(Ct=Pe.fire.call(Pt,xt,Ze,kt,$e))&&(wt=Ne.values[ot],Object.keys(Ct).forEach(function(Nt){m(wt,Nt)?wt[Nt]=Ct[Nt]:K(wt,Nt,Ct[Nt])}))),Pt});return I.mutate(Ne).then(function(Ze){for(var ot=Ze.failures,xt=Ze.results,Ct=Ze.numFailures,Ze=Ze.lastResult,wt=0;wt<Oe.length;++wt){var kt=(xt||Oe)[wt],Pt=Qe[wt];kt==null?Pt.onerror&&Pt.onerror(ot[wt]):Pt.onsuccess&&Pt.onsuccess(Ne.type==="put"&&Ke[wt]?Ne.values[wt]:kt)}return{failures:ot,results:xt,numFailures:Ct,lastResult:Ze}}).catch(function(Ze){return Qe.forEach(function(ot){return ot.onerror&&ot.onerror(Ze)}),Promise.reject(Ze)})})}}})}})}};function Ll(b,S,I){try{if(!S||S.keys.length<b.length)return null;for(var B=[],$=0,Z=0;$<S.keys.length&&Z<b.length;++$)dr(S.keys[$],b[Z])===0&&(B.push(I?W(S.values[$]):S.values[$]),++Z);return B.length===b.length?B:null}catch{return null}}var ca={stack:"dbcore",level:-1,create:function(b){return{table:function(S){var I=b.table(S);return n(n({},I),{getMany:function(B){if(!B.cache)return I.getMany(B);var $=Ll(B.keys,B.trans._cache,B.cache==="clone");return $?bt.resolve($):I.getMany(B).then(function(Z){return B.trans._cache={keys:B.keys,values:B.cache==="clone"?W(Z):Z},Z})},mutate:function(B){return B.type!=="add"&&(B.trans._cache=null),I.mutate(B)}})}}}};function hc(b,S){return b.trans.mode==="readonly"&&!!b.subscr&&!b.trans.explicit&&b.trans.db._options.cache!=="disabled"&&!S.schema.primaryKey.outbound}function tl(b,S){switch(b){case"query":return S.values&&!S.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var qc={stack:"dbcore",level:0,name:"Observability",create:function(b){var S=b.schema.name,I=new qt(b.MIN_KEY,b.MAX_KEY);return n(n({},b),{transaction:function(B,$,Z){if(_t.subscr&&$!=="readonly")throw new Se.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(_t.querier));return b.transaction(B,$,Z)},table:function(B){var $=b.table(B),Z=$.schema,ce=Z.primaryKey,Ne=Z.indexes,xe=ce.extractKey,Ae=ce.outbound,Pe=ce.autoIncrement&&Ne.filter(function(je){return je.compound&&je.keyPath.includes(ce.keyPath)}),Le=n(n({},$),{mutate:function(je){function Me(Nt){return Nt="idb://".concat(S,"/").concat(B,"/").concat(Nt),Ze[Nt]||(Ze[Nt]=new qt)}var $e,Oe,Ke,Qe=je.trans,Ze=je.mutatedParts||(je.mutatedParts={}),ot=Me(""),xt=Me(":dels"),Ct=je.type,Pt=je.type==="deleteRange"?[je.range]:je.type==="delete"?[je.keys]:je.values.length<50?[es(ce,je).filter(function(Nt){return Nt}),je.values]:[],wt=Pt[0],kt=Pt[1],Pt=je.trans._cache;return l(wt)?(ot.addKeys(wt),(Pt=Ct==="delete"||wt.length===kt.length?Ll(wt,Pt):null)||xt.addKeys(wt),(Pt||kt)&&($e=Me,Oe=Pt,Ke=kt,Z.indexes.forEach(function(Nt){var Lt=$e(Nt.name||"");function Cr(Rr){return Rr!=null?Nt.extractKey(Rr):null}function jr(Rr){return Nt.multiEntry&&l(Rr)?Rr.forEach(function(fa){return Lt.addKey(fa)}):Lt.addKey(Rr)}(Oe||Ke).forEach(function(Rr,wi){var _r=Oe&&Cr(Oe[wi]),wi=Ke&&Cr(Ke[wi]);dr(_r,wi)!==0&&(_r!=null&&jr(_r),wi!=null&&jr(wi))})}))):wt?(kt={from:(kt=wt.lower)!==null&&kt!==void 0?kt:b.MIN_KEY,to:(kt=wt.upper)!==null&&kt!==void 0?kt:b.MAX_KEY},xt.add(kt),ot.add(kt)):(ot.add(I),xt.add(I),Z.indexes.forEach(function(Nt){return Me(Nt.name).add(I)})),$.mutate(je).then(function(Nt){return!wt||je.type!=="add"&&je.type!=="put"||(ot.addKeys(Nt.results),Pe&&Pe.forEach(function(Lt){for(var Cr=je.values.map(function(_r){return Lt.extractKey(_r)}),jr=Lt.keyPath.findIndex(function(_r){return _r===ce.keyPath}),Rr=0,fa=Nt.results.length;Rr<fa;++Rr)Cr[Rr][jr]=Nt.results[Rr];Me(Lt.name).addKeys(Cr)})),Qe.mutatedParts=zn(Qe.mutatedParts||{},Ze),Nt})}}),Ne=function(Me){var $e=Me.query,Me=$e.index,$e=$e.range;return[Me,new qt((Me=$e.lower)!==null&&Me!==void 0?Me:b.MIN_KEY,($e=$e.upper)!==null&&$e!==void 0?$e:b.MAX_KEY)]},Ue={get:function(je){return[ce,new qt(je.key)]},getMany:function(je){return[ce,new qt().addKeys(je.keys)]},count:Ne,query:Ne,openCursor:Ne};return o(Ue).forEach(function(je){Le[je]=function(Me){var $e=_t.subscr,Oe=!!$e,Ke=hc(_t,$)&&tl(je,Me)?Me.obsSet={}:$e;if(Oe){var Qe=function(kt){return kt="idb://".concat(S,"/").concat(B,"/").concat(kt),Ke[kt]||(Ke[kt]=new qt)},Ze=Qe(""),ot=Qe(":dels"),$e=Ue[je](Me),Oe=$e[0],$e=$e[1];if((je==="query"&&Oe.isPrimaryKey&&!Me.values?ot:Qe(Oe.name||"")).add($e),!Oe.isPrimaryKey){if(je!=="count"){var xt=je==="query"&&Ae&&Me.values&&$.query(n(n({},Me),{values:!1}));return $[je].apply(this,arguments).then(function(kt){if(je==="query"){if(Ae&&Me.values)return xt.then(function(Cr){return Cr=Cr.result,Ze.addKeys(Cr),kt});var Pt=Me.values?kt.result.map(xe):kt.result;(Me.values?Ze:ot).addKeys(Pt)}else if(je==="openCursor"){var Nt=kt,Lt=Me.values;return Nt&&Object.create(Nt,{key:{get:function(){return ot.addKey(Nt.primaryKey),Nt.key}},primaryKey:{get:function(){var Cr=Nt.primaryKey;return ot.addKey(Cr),Cr}},value:{get:function(){return Lt&&Ze.addKey(Nt.primaryKey),Nt.value}}})}return kt})}ot.add(I)}}return $[je].apply(this,arguments)}}),Le}})}};function Xn(b,S,I){if(I.numFailures===0)return S;if(S.type==="deleteRange")return null;var B=S.keys?S.keys.length:"values"in S&&S.values?S.values.length:1;return I.numFailures===B?null:(S=n({},S),l(S.keys)&&(S.keys=S.keys.filter(function($,Z){return!(Z in I.failures)})),"values"in S&&l(S.values)&&(S.values=S.values.filter(function($,Z){return!(Z in I.failures)})),S)}function Gi(b,S){return I=b,((B=S).lower===void 0||(B.lowerOpen?0<dr(I,B.lower):0<=dr(I,B.lower)))&&(b=b,(S=S).upper===void 0||(S.upperOpen?dr(b,S.upper)<0:dr(b,S.upper)<=0));var I,B}function Hs(b,S,Ue,B,$,Z){if(!Ue||Ue.length===0)return b;var ce=S.query.index,xe=ce.multiEntry,Ae=S.query.range,Pe=B.schema.primaryKey.extractKey,Le=ce.extractKey,Ne=(ce.lowLevelIndex||ce).extractKey,Ue=Ue.reduce(function(je,Me){var $e=je,Oe=[];if(Me.type==="add"||Me.type==="put")for(var Ke=new qt,Qe=Me.values.length-1;0<=Qe;--Qe){var Ze,ot=Me.values[Qe],xt=Pe(ot);Ke.hasKey(xt)||(Ze=Le(ot),(xe&&l(Ze)?Ze.some(function(Nt){return Gi(Nt,Ae)}):Gi(Ze,Ae))&&(Ke.addKey(xt),Oe.push(ot)))}switch(Me.type){case"add":var Ct=new qt().addKeys(S.values?je.map(function(Lt){return Pe(Lt)}):je),$e=je.concat(S.values?Oe.filter(function(Lt){return Lt=Pe(Lt),!Ct.hasKey(Lt)&&(Ct.addKey(Lt),!0)}):Oe.map(function(Lt){return Pe(Lt)}).filter(function(Lt){return!Ct.hasKey(Lt)&&(Ct.addKey(Lt),!0)}));break;case"put":var wt=new qt().addKeys(Me.values.map(function(Lt){return Pe(Lt)}));$e=je.filter(function(Lt){return!wt.hasKey(S.values?Pe(Lt):Lt)}).concat(S.values?Oe:Oe.map(function(Lt){return Pe(Lt)}));break;case"delete":var kt=new qt().addKeys(Me.keys);$e=je.filter(function(Lt){return!kt.hasKey(S.values?Pe(Lt):Lt)});break;case"deleteRange":var Pt=Me.range;$e=je.filter(function(Lt){return!Gi(Pe(Lt),Pt)})}return $e},b);return Ue===b?b:(Ue.sort(function(je,Me){return dr(Ne(je),Ne(Me))||dr(Pe(je),Pe(Me))}),S.limit&&S.limit<1/0&&(Ue.length>S.limit?Ue.length=S.limit:b.length===S.limit&&Ue.length<S.limit&&($.dirty=!0)),Z?Object.freeze(Ue):Ue)}function Rl(b,S){return dr(b.lower,S.lower)===0&&dr(b.upper,S.upper)===0&&!!b.lowerOpen==!!S.lowerOpen&&!!b.upperOpen==!!S.upperOpen}function fo(b,S){return function(I,B,$,Z){if(I===void 0)return B!==void 0?-1:0;if(B===void 0)return 1;if((B=dr(I,B))===0){if($&&Z)return 0;if($)return 1;if(Z)return-1}return B}(b.lower,S.lower,b.lowerOpen,S.lowerOpen)<=0&&0<=function(I,B,$,Z){if(I===void 0)return B!==void 0?1:0;if(B===void 0)return-1;if((B=dr(I,B))===0){if($&&Z)return 0;if($)return-1;if(Z)return 1}return B}(b.upper,S.upper,b.upperOpen,S.upperOpen)}function rl(b,S,I,B){b.subscribers.add(I),B.addEventListener("abort",function(){var $,Z;b.subscribers.delete(I),b.subscribers.size===0&&($=b,Z=S,setTimeout(function(){$.subscribers.size===0&&ie(Z,$)},3e3))})}var ua={stack:"dbcore",level:0,name:"Cache",create:function(b){var S=b.schema.name;return n(n({},b),{transaction:function(I,B,$){var Z,ce,xe=b.transaction(I,B,$);return B==="readwrite"&&(ce=(Z=new AbortController).signal,$=function(Ae){return function(){if(Z.abort(),B==="readwrite"){for(var Pe=new Set,Le=0,Ne=I;Le<Ne.length;Le++){var Ue=Ne[Le],je=la["idb://".concat(S,"/").concat(Ue)];if(je){var Me=b.table(Ue),$e=je.optimisticOps.filter(function(Lt){return Lt.trans===xe});if(xe._explicit&&Ae&&xe.mutatedParts)for(var Oe=0,Ke=Object.values(je.queries.query);Oe<Ke.length;Oe++)for(var Qe=0,Ze=(Ct=Ke[Oe]).slice();Qe<Ze.length;Qe++)ci((wt=Ze[Qe]).obsSet,xe.mutatedParts)&&(ie(Ct,wt),wt.subscribers.forEach(function(Lt){return Pe.add(Lt)}));else if(0<$e.length){je.optimisticOps=je.optimisticOps.filter(function(Lt){return Lt.trans!==xe});for(var ot=0,xt=Object.values(je.queries.query);ot<xt.length;ot++)for(var Ct,wt,kt,Pt=0,Nt=(Ct=xt[ot]).slice();Pt<Nt.length;Pt++)(wt=Nt[Pt]).res!=null&&xe.mutatedParts&&(Ae&&!wt.dirty?(kt=Object.isFrozen(wt.res),kt=Hs(wt.res,wt.req,$e,Me,wt,kt),wt.dirty?(ie(Ct,wt),wt.subscribers.forEach(function(Lt){return Pe.add(Lt)})):kt!==wt.res&&(wt.res=kt,wt.promise=bt.resolve({result:kt}))):(wt.dirty&&ie(Ct,wt),wt.subscribers.forEach(function(Lt){return Pe.add(Lt)})))}}}Pe.forEach(function(Lt){return Lt()})}}},xe.addEventListener("abort",$(!1),{signal:ce}),xe.addEventListener("error",$(!1),{signal:ce}),xe.addEventListener("complete",$(!0),{signal:ce})),xe},table:function(I){var B=b.table(I),$=B.schema.primaryKey;return n(n({},B),{mutate:function(Z){var ce=_t.trans;if($.outbound||ce.db._options.cache==="disabled"||ce.explicit||ce.idbtrans.mode!=="readwrite")return B.mutate(Z);var xe=la["idb://".concat(S,"/").concat(I)];return xe?(ce=B.mutate(Z),Z.type!=="add"&&Z.type!=="put"||!(50<=Z.values.length||es($,Z).some(function(Ae){return Ae==null}))?(xe.optimisticOps.push(Z),Z.mutatedParts&&el(Z.mutatedParts),ce.then(function(Ae){0<Ae.numFailures&&(ie(xe.optimisticOps,Z),(Ae=Xn(0,Z,Ae))&&xe.optimisticOps.push(Ae),Z.mutatedParts&&el(Z.mutatedParts))}),ce.catch(function(){ie(xe.optimisticOps,Z),Z.mutatedParts&&el(Z.mutatedParts)})):ce.then(function(Ae){var Pe=Xn(0,n(n({},Z),{values:Z.values.map(function(Le,Ne){var Ue;return Ae.failures[Ne]?Le:(Le=(Ue=$.keyPath)!==null&&Ue!==void 0&&Ue.includes(".")?W(Le):n({},Le),K(Le,$.keyPath,Ae.results[Ne]),Le)})}),Ae);xe.optimisticOps.push(Pe),queueMicrotask(function(){return Z.mutatedParts&&el(Z.mutatedParts)})}),ce):B.mutate(Z)},query:function(Z){if(!hc(_t,B)||!tl("query",Z))return B.query(Z);var ce=((Pe=_t.trans)===null||Pe===void 0?void 0:Pe.db._options.cache)==="immutable",Ne=_t,xe=Ne.requery,Ae=Ne.signal,Pe=function(Me,$e,Oe,Ke){var Qe=la["idb://".concat(Me,"/").concat($e)];if(!Qe)return[];if(!($e=Qe.queries[Oe]))return[null,!1,Qe,null];var Ze=$e[(Ke.query?Ke.query.index.name:null)||""];if(!Ze)return[null,!1,Qe,null];switch(Oe){case"query":var ot=Ze.find(function(xt){return xt.req.limit===Ke.limit&&xt.req.values===Ke.values&&Rl(xt.req.query.range,Ke.query.range)});return ot?[ot,!0,Qe,Ze]:[Ze.find(function(xt){return("limit"in xt.req?xt.req.limit:1/0)>=Ke.limit&&(!Ke.values||xt.req.values)&&fo(xt.req.query.range,Ke.query.range)}),!1,Qe,Ze];case"count":return ot=Ze.find(function(xt){return Rl(xt.req.query.range,Ke.query.range)}),[ot,!!ot,Qe,Ze]}}(S,I,"query",Z),Le=Pe[0],Ne=Pe[1],Ue=Pe[2],je=Pe[3];return Le&&Ne?Le.obsSet=Z.obsSet:(Ne=B.query(Z).then(function(Me){var $e=Me.result;if(Le&&(Le.res=$e),ce){for(var Oe=0,Ke=$e.length;Oe<Ke;++Oe)Object.freeze($e[Oe]);Object.freeze($e)}else Me.result=W($e);return Me}).catch(function(Me){return je&&Le&&ie(je,Le),Promise.reject(Me)}),Le={obsSet:Z.obsSet,promise:Ne,subscribers:new Set,type:"query",req:Z,dirty:!1},je?je.push(Le):(je=[Le],(Ue=Ue||(la["idb://".concat(S,"/").concat(I)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[Z.query.index.name||""]=je)),rl(Le,je,xe,Ae),Le.promise.then(function(Me){return{result:Hs(Me.result,Z,Ue?.optimisticOps,B,Le,ce)}})}})}})}};function xi(b,S){return new Proxy(b,{get:function(I,B,$){return B==="db"?S:Reflect.get(I,B,$)}})}var Ki=(Vr.prototype.version=function(b){if(isNaN(b)||b<.1)throw new Se.Type("Given version is not a positive number");if(b=Math.round(10*b)/10,this.idbdb||this._state.isBeingOpened)throw new Se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,b);var S=this._versions,I=S.filter(function(B){return B._cfg.version===b})[0];return I||(I=new this.Version(b),S.push(I),S.sort(Xo),I.stores({}),this._state.autoSchema=!1,I)},Vr.prototype._whenReady=function(b){var S=this;return this.idbdb&&(this._state.openComplete||_t.letThrough||this._vip)?b():new bt(function(I,B){if(S._state.openComplete)return B(new Se.DatabaseClosed(S._state.dbOpenError));if(!S._state.isBeingOpened){if(!S._state.autoOpen)return void B(new Se.DatabaseClosed);S.open().catch(it)}S._state.dbReadyPromise.then(I,B)}).then(b)},Vr.prototype.use=function(b){var S=b.stack,I=b.create,B=b.level,$=b.name;return $&&this.unuse({stack:S,name:$}),b=this._middlewares[S]||(this._middlewares[S]=[]),b.push({stack:S,create:I,level:B??10,name:$}),b.sort(function(Z,ce){return Z.level-ce.level}),this},Vr.prototype.unuse=function(b){var S=b.stack,I=b.name,B=b.create;return S&&this._middlewares[S]&&(this._middlewares[S]=this._middlewares[S].filter(function($){return B?$.create!==B:!!I&&$.name!==I})),this},Vr.prototype.open=function(){var b=this;return ka(cr,function(){return fc(b)})},Vr.prototype._close=function(){var b=this._state,S=vs.indexOf(this);if(0<=S&&vs.splice(S,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}b.isBeingOpened||(b.dbReadyPromise=new bt(function(I){b.dbReadyResolve=I}),b.openCanceller=new bt(function(I,B){b.cancelOpen=B}))},Vr.prototype.close=function(I){var S=(I===void 0?{disableAutoOpen:!0}:I).disableAutoOpen,I=this._state;S?(I.isBeingOpened&&I.cancelOpen(new Se.DatabaseClosed),this._close(),I.autoOpen=!1,I.dbOpenError=new Se.DatabaseClosed):(this._close(),I.autoOpen=this._options.autoOpen||I.isBeingOpened,I.openComplete=!1,I.dbOpenError=null)},Vr.prototype.delete=function(b){var S=this;b===void 0&&(b={disableAutoOpen:!0});var I=0<arguments.length&&typeof arguments[0]!="object",B=this._state;return new bt(function($,Z){function ce(){S.close(b);var xe=S._deps.indexedDB.deleteDatabase(S.name);xe.onsuccess=Ur(function(){var Ae,Pe,Le;Ae=S._deps,Pe=S.name,Le=Ae.indexedDB,Ae=Ae.IDBKeyRange,ft(Le)||Pe===$i||lt(Le,Ae).delete(Pe).catch(it),$()}),xe.onerror=Xt(Z),xe.onblocked=S._fireOnBlocked}if(I)throw new Se.InvalidArgument("Invalid closeOptions argument to db.delete()");B.isBeingOpened?B.dbReadyPromise.then(ce):ce()})},Vr.prototype.backendDB=function(){return this.idbdb},Vr.prototype.isOpen=function(){return this.idbdb!==null},Vr.prototype.hasBeenClosed=function(){var b=this._state.dbOpenError;return b&&b.name==="DatabaseClosed"},Vr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Vr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Vr.prototype,"tables",{get:function(){var b=this;return o(this._allTables).map(function(S){return b._allTables[S]})},enumerable:!1,configurable:!0}),Vr.prototype.transaction=function(){var b=(function(S,I,B){var $=arguments.length;if($<2)throw new Se.InvalidArgument("Too few arguments");for(var Z=new Array($-1);--$;)Z[$-1]=arguments[$];return B=Z.pop(),[S,oe(Z),B]}).apply(this,arguments);return this._transaction.apply(this,b)},Vr.prototype._transaction=function(b,S,I){var B=this,$=_t.trans;$&&$.db===this&&b.indexOf("!")===-1||($=null);var Z,ce,xe=b.indexOf("?")!==-1;b=b.replace("!","").replace("?","");try{if(ce=S.map(function(Pe){if(Pe=Pe instanceof B.Table?Pe.name:Pe,typeof Pe!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Pe}),b=="r"||b===zs)Z=zs;else{if(b!="rw"&&b!=jl)throw new Se.InvalidArgument("Invalid transaction mode: "+b);Z=jl}if($){if($.mode===zs&&Z===jl){if(!xe)throw new Se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");$=null}$&&ce.forEach(function(Pe){if($&&$.storeNames.indexOf(Pe)===-1){if(!xe)throw new Se.SubTransaction("Table "+Pe+" not included in parent transaction.");$=null}}),xe&&$&&!$.active&&($=null)}}catch(Pe){return $?$._promise(null,function(Le,Ne){Ne(Pe)}):wn(Pe)}var Ae=(function Pe(Le,Ne,Ue,je,Me){return bt.resolve().then(function(){var $e=_t.transless||_t,Oe=Le._createTransaction(Ne,Ue,Le._dbSchema,je);if(Oe.explicit=!0,$e={trans:Oe,transless:$e},je)Oe.idbtrans=je.idbtrans;else try{Oe.create(),Oe.idbtrans._explicit=!0,Le._state.PR1398_maxLoop=3}catch(Ze){return Ze.name===me.InvalidState&&Le.isOpen()&&0<--Le._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Le.close({disableAutoOpen:!1}),Le.open().then(function(){return Pe(Le,Ne,Ue,null,Me)})):wn(Ze)}var Ke,Qe=te(Me);return Qe&&ia(),$e=bt.follow(function(){var Ze;(Ke=Me.call(Oe,Oe))&&(Qe?(Ze=In.bind(null,null),Ke.then(Ze,Ze)):typeof Ke.next=="function"&&typeof Ke.throw=="function"&&(Ke=Vs(Ke)))},$e),(Ke&&typeof Ke.then=="function"?bt.resolve(Ke).then(function(Ze){return Oe.active?Ze:wn(new Se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):$e.then(function(){return Ke})).then(function(Ze){return je&&Oe._resolve(),Oe._completion.then(function(){return Ze})}).catch(function(Ze){return Oe._reject(Ze),wn(Ze)})})}).bind(null,this,Z,ce,$,I);return $?$._promise(Z,Ae,"lock"):_t.trans?ka(_t.transless,function(){return B._whenReady(Ae)}):this._whenReady(Ae)},Vr.prototype.table=function(b){if(!m(this._allTables,b))throw new Se.InvalidTable("Table ".concat(b," does not exist"));return this._allTables[b]},Vr);function Vr(b,S){var I=this;this._middlewares={},this.verno=0;var B=Vr.dependencies;this._options=S=n({addons:Vr.addons,autoOpen:!0,indexedDB:B.indexedDB,IDBKeyRange:B.IDBKeyRange,cache:"cloned"},S),this._deps={indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange},B=S.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var $,Z,ce,xe,Ae,Pe={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:it,dbReadyPromise:null,cancelOpen:it,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:S.autoOpen};Pe.dbReadyPromise=new bt(function(Ne){Pe.dbReadyResolve=Ne}),Pe.openCanceller=new bt(function(Ne,Ue){Pe.cancelOpen=Ue}),this._state=Pe,this.name=b,this.on=Wi(this,"populate","blocked","versionchange","close",{ready:[pe,it]}),this.on.ready.subscribe=P(this.on.ready.subscribe,function(Ne){return function(Ue,je){Vr.vip(function(){var Me,$e=I._state;$e.openComplete?($e.dbOpenError||bt.resolve().then(Ue),je&&Ne(Ue)):$e.onReadyBeingFired?($e.onReadyBeingFired.push(Ue),je&&Ne(Ue)):(Ne(Ue),Me=I,je||Ne(function Oe(){Me.on.ready.unsubscribe(Ue),Me.on.ready.unsubscribe(Oe)}))})}}),this.Collection=($=this,sa(rn.prototype,function(Ke,Oe){this.db=$;var je=To,Me=null;if(Oe)try{je=Oe()}catch(Qe){Me=Qe}var $e=Ke._ctx,Oe=$e.table,Ke=Oe.hook.reading.fire;this._ctx={table:Oe,index:$e.index,isPrimKey:!$e.index||Oe.schema.primKey.keyPath&&$e.index===Oe.schema.primKey.name,range:je,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Me,or:$e.or,valueMapper:Ke!==pt?Ke:null}})),this.Table=(Z=this,sa(sc.prototype,function(Ne,Ue,je){this.db=Z,this._tx=je,this.name=Ne,this.schema=Ue,this.hook=Z._allTables[Ne]?Z._allTables[Ne].hook:Wi(null,{creating:[br,it],reading:[Je,pt],updating:[nr,it],deleting:[lr,it]})})),this.Transaction=(ce=this,sa(Ba.prototype,function(Ne,Ue,je,Me,$e){var Oe=this;this.db=ce,this.mode=Ne,this.storeNames=Ue,this.schema=je,this.chromeTransactionDurability=Me,this.idbtrans=null,this.on=Wi(this,"complete","error","abort"),this.parent=$e||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new bt(function(Ke,Qe){Oe._resolve=Ke,Oe._reject=Qe}),this._completion.then(function(){Oe.active=!1,Oe.on.complete.fire()},function(Ke){var Qe=Oe.active;return Oe.active=!1,Oe.on.error.fire(Ke),Oe.parent?Oe.parent._reject(Ke):Qe&&Oe.idbtrans&&Oe.idbtrans.abort(),wn(Ke)})})),this.Version=(xe=this,sa(Ee.prototype,function(Ne){this.db=xe,this._cfg={version:Ne,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Ae=this,sa(oa.prototype,function(Ne,Ue,je){if(this.db=Ae,this._ctx={table:Ne,index:Ue===":id"?null:Ue,or:je},this._cmp=this._ascending=dr,this._descending=function(Me,$e){return dr($e,Me)},this._max=function(Me,$e){return 0<dr(Me,$e)?Me:$e},this._min=function(Me,$e){return dr(Me,$e)<0?Me:$e},this._IDBKeyRange=Ae._deps.IDBKeyRange,!this._IDBKeyRange)throw new Se.MissingAPI})),this.on("versionchange",function(Ne){0<Ne.newVersion?console.warn("Another connection wants to upgrade database '".concat(I.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(I.name,"'. Closing db now to resume the delete request.")),I.close({disableAutoOpen:!1})}),this.on("blocked",function(Ne){!Ne.newVersion||Ne.newVersion<Ne.oldVersion?console.warn("Dexie.delete('".concat(I.name,"') was blocked")):console.warn("Upgrade '".concat(I.name,"' blocked by other connection holding version ").concat(Ne.oldVersion/10))}),this._maxKey=oo(S.IDBKeyRange),this._createTransaction=function(Ne,Ue,je,Me){return new I.Transaction(Ne,Ue,je,I._options.chromeTransactionDurability,Me)},this._fireOnBlocked=function(Ne){I.on("blocked").fire(Ne),vs.filter(function(Ue){return Ue.name===I.name&&Ue!==I&&!Ue._state.vcFired}).map(function(Ue){return Ue.on("versionchange").fire(Ne)})},this.use(ca),this.use(ua),this.use(qc),this.use(bi),this.use(Dl);var Le=new Proxy(this,{get:function(Ne,Ue,je){if(Ue==="_vip")return!0;if(Ue==="table")return function($e){return xi(I.table($e),Le)};var Me=Reflect.get(Ne,Ue,je);return Me instanceof sc?xi(Me,Le):Ue==="tables"?Me.map(function($e){return xi($e,Le)}):Ue==="_createTransaction"?function(){return xi(Me.apply(this,arguments),Le)}:Me}});this.vip=Le,B.forEach(function(Ne){return Ne(I)})}var Cs,Yi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Fo=(Dn.prototype.subscribe=function(b,S,I){return this._subscribe(b&&typeof b!="function"?b:{next:b,error:S,complete:I})},Dn.prototype[Yi]=function(){return this},Dn);function Dn(b){this._subscribe=b}try{Cs={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{Cs={indexedDB:null,IDBKeyRange:null}}function pc(b){var S,I=!1,B=new Fo(function($){var Z=te(b),ce,xe=!1,Ae={},Pe={},Le={get closed(){return xe},unsubscribe:function(){xe||(xe=!0,ce&&ce.abort(),Ne&&ws.storagemutated.unsubscribe(je))}};$.start&&$.start(Le);var Ne=!1,Ue=function(){return no(Me)},je=function($e){zn(Ae,$e),ci(Pe,Ae)&&Ue()},Me=function(){var $e,Oe,Ke;!xe&&Cs.indexedDB&&(Ae={},$e={},ce&&ce.abort(),ce=new AbortController,Ke=function(Qe){var Ze=ji();try{Z&&ia();var ot=gi(b,Qe);return ot=Z?ot.finally(In):ot}finally{Ze&&ir()}}(Oe={subscr:$e,signal:ce.signal,requery:Ue,querier:b,trans:null}),Promise.resolve(Ke).then(function(Qe){I=!0,S=Qe,xe||Oe.signal.aborted||(Ae={},function(Ze){for(var ot in Ze)if(m(Ze,ot))return;return 1}(Pe=$e)||Ne||(ws(Ca,je),Ne=!0),no(function(){return!xe&&$.next&&$.next(Qe)}))},function(Qe){I=!1,["DatabaseClosedError","AbortError"].includes(Qe?.name)||xe||no(function(){xe||$.error&&$.error(Qe)})}))};return setTimeout(Ue,0),Le});return B.hasValue=function(){return I},B.getValue=function(){return S},B}var ei=Ki;function Ji(b){var S=da;try{da=!0,ws.storagemutated.fire(b),uo(b,!0)}finally{da=S}}y(ei,n(n({},rt),{delete:function(b){return new ei(b,{addons:[]}).delete()},exists:function(b){return new ei(b,{addons:[]}).open().then(function(S){return S.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(b){try{return S=ei.dependencies,I=S.indexedDB,S=S.IDBKeyRange,(ft(I)?Promise.resolve(I.databases()).then(function(B){return B.map(function($){return $.name}).filter(function($){return $!==$i})}):lt(I,S).toCollection().primaryKeys()).then(b)}catch{return wn(new Se.MissingAPI)}var S,I},defineClass:function(){return function(b){u(this,b)}},ignoreTransaction:function(b){return _t.trans?ka(_t.transless,b):b()},vip:Ft,async:function(b){return function(){try{var S=Vs(b.apply(this,arguments));return S&&typeof S.then=="function"?S:bt.resolve(S)}catch(I){return wn(I)}}},spawn:function(b,S,I){try{var B=Vs(b.apply(I,S||[]));return B&&typeof B.then=="function"?B:bt.resolve(B)}catch($){return wn($)}},currentTransaction:{get:function(){return _t.trans||null}},waitFor:function(b,S){return S=bt.resolve(typeof b=="function"?ei.ignoreTransaction(b):b).timeout(S||6e4),_t.trans?_t.trans.waitFor(S):S},Promise:bt,debug:{get:function(){return Ce},set:function(b){We(b)}},derive:_,extend:u,props:y,override:P,Events:Wi,on:ws,liveQuery:pc,extendObservabilitySet:zn,getByKeyPath:Q,setByKeyPath:K,delByKeyPath:function(b,S){typeof S=="string"?K(b,S,void 0):"length"in S&&[].map.call(S,function(I){K(b,I,void 0)})},shallowClone:G,deepClone:W,getObjectDiff:Ns,cmp:dr,asap:M,minKey:-1/0,addons:[],connections:vs,errnames:me,dependencies:Cs,cache:la,semVer:"4.0.11",version:"4.0.11".split(".").map(function(b){return parseInt(b)}).reduce(function(b,S,I){return b+S/Math.pow(10,2*I)})})),ei.maxKey=oo(ei.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ws(Ca,function(b){da||(b=new CustomEvent(cc,{detail:b}),da=!0,dispatchEvent(b),da=!1)}),addEventListener(cc,function(b){b=b.detail,da||Ji(b)}));var As,da=!1,nl=function(){};return typeof BroadcastChannel<"u"&&((nl=function(){(As=new BroadcastChannel(cc)).onmessage=function(b){return b.data&&Ji(b.data)}})(),typeof As.unref=="function"&&As.unref(),ws(Ca,function(b){da||As.postMessage(b)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(b){if(!Ki.disableBfCache&&b.persisted){Ce&&console.debug("Dexie: handling persisted pagehide"),As?.close();for(var S=0,I=vs;S<I.length;S++)I[S].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(b){!Ki.disableBfCache&&b.persisted&&(Ce&&console.debug("Dexie: handling persisted pageshow"),nl(),Ji({all:new qt(-1/0,[[]])}))})),bt.rejectionMapper=function(b,S){return!b||b instanceof ee||b instanceof TypeError||b instanceof SyntaxError||!b.name||!ze[b.name]?b:(S=new ze[b.name](S||b.message,b),"stack"in b&&k(S,"stack",{get:function(){return this.inner.stack}}),S)},We(Ce),n(Ki,Object.freeze({__proto__:null,Dexie:Ki,liveQuery:pc,Entity:ac,cmp:dr,PropModification:Na,replacePrefix:function(b,S){return new Na({replacePrefix:[b,S]})},add:function(b){return new Na({add:b})},remove:function(b){return new Na({remove:b})},default:Ki,RangeSet:qt,mergeRanges:Wr,rangesOverlap:Tn}),{default:Ki}),Ki})}(Bm)),Bm.exports}var aL=iL();const By=dp(aL),kw=Symbol.for("Dexie"),og=globalThis[kw]||(globalThis[kw]=By);if(By.semVer!==og.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${By.semVer} and ${og.semVer}`);const{liveQuery:RG,mergeRanges:OG,rangesOverlap:FG,RangeSet:MG,cmp:BG,Entity:zG,PropModification:UG,replacePrefix:$G,add:qG,remove:WG}=og;class sL extends og{constructor(){super("FitTrackerDatabase"),this.version(1).stores({workouts:"id, clientName, coachName, workoutType, createdAt, updatedAt",clients:"id, name, createdAt",coachProfile:"id, name"}),this.version(2).stores({workouts:"id, clientName, coachName, workoutType, createdAt, updatedAt",clients:"id, name, createdAt",coachProfile:"id, name",exerciseGlossary:"id, name, createdAt, updatedAt"}),this.version(1).upgrade(async e=>{await this.migrateWorkouts(e)})}async migrateWorkouts(e){const r=await e.table("workouts").toArray();for(const n of r){let i=!1;if(n.weeks){for(const a of n.weeks)if(a.exercises&&!a.days&&(a.days=[{id:crypto.randomUUID(),name:"Giorno 1",exercises:a.exercises||[],notes:""}],delete a.exercises,a.notes=a.notes||"",i=!0),a.days)for(const o of a.days){if(o.exercises)for(const l of o.exercises)l.rest||(l.rest="",i=!0);o.notes||(o.notes="",i=!0)}}i&&await e.table("workouts").put(n)}}}const yr=new sL,qn={async getAllWorkouts(){return await yr.workouts.orderBy("updatedAt").reverse().toArray()},async getWorkout(t){return await yr.workouts.get(t)},async createWorkout(t){const e=new Date,r={...t,id:crypto.randomUUID(),createdAt:e,updatedAt:e};return await yr.workouts.add(r),r},async getAllExerciseGlossary(){return await yr.exerciseGlossary.orderBy("name").toArray()},async getExerciseGlossary(t){return await yr.exerciseGlossary.get(t)},async createExerciseGlossary(t){const e=new Date,r={...t,id:crypto.randomUUID(),createdAt:e,updatedAt:e};return await yr.exerciseGlossary.add(r),r},async updateExerciseGlossary(t,e){const r=await yr.exerciseGlossary.get(t);if(!r)return;const n={...r,...e,updatedAt:new Date};return await yr.exerciseGlossary.put(n),n},async deleteExerciseGlossary(t){return await yr.exerciseGlossary.get(t)?(await yr.exerciseGlossary.delete(t),!0):!1},async updateWorkout(t,e){const r=await yr.workouts.get(t);if(!r)return;const n={...r,...e,updatedAt:new Date};return await yr.workouts.put(n),n},async deleteWorkout(t){return await yr.workouts.get(t)?(await yr.workouts.delete(t),!0):!1},async getWorkoutsByClient(t){return await yr.workouts.where("clientName").equals(t).toArray()},async getAllClients(){return await yr.clients.orderBy("createdAt").reverse().toArray()},async getClient(t){return await yr.clients.get(t)},async createClient(t){const e={...t,id:crypto.randomUUID(),createdAt:new Date};return await yr.clients.add(e),e},async updateClient(t,e){const r=await yr.clients.get(t);if(!r)return;const n={...r,...e};return await yr.clients.put(n),n},async deleteClient(t){return await yr.clients.get(t)?(await yr.clients.delete(t),!0):!1},async getClientByName(t){return await yr.clients.where("name").equals(t).first()},async getCoachProfile(){try{const t=await yr.coachProfile.toArray();if(t.length>0)return t[0];const e=localStorage.getItem("coach-profile");if(e){const r=JSON.parse(e);return await yr.coachProfile.add(r),localStorage.removeItem("coach-profile"),r}return}catch(t){console.error("Error getting coach profile:",t);return}},async createCoachProfile(t){try{await yr.coachProfile.clear();const e={...t,id:crypto.randomUUID(),pdfLineColor:t.pdfLineColor||"#000000",pdfTextColor:t.pdfTextColor||"#4F46E5",showWatermark:t.showWatermark??!0};return await yr.coachProfile.add(e),localStorage.setItem("coach-profile",JSON.stringify(e)),e}catch(e){throw console.error("Error creating coach profile:",e),e}},async updateCoachProfile(t,e){try{const r=await yr.coachProfile.get(t);if(!r)return e.name?await this.createCoachProfile(e):void 0;const n={...r,...e,pdfLineColor:e.pdfLineColor??r.pdfLineColor,pdfTextColor:e.pdfTextColor??r.pdfTextColor,showWatermark:e.showWatermark??r.showWatermark};return await yr.coachProfile.put(n),localStorage.setItem("coach-profile",JSON.stringify(n)),n}catch(r){throw console.error("Error updating coach profile:",r),r}},async clearAllData(){await Promise.all([yr.workouts.clear(),yr.clients.clear(),yr.coachProfile.clear(),yr.exerciseGlossary.clear()]);try{localStorage.removeItem("coach-profile")}catch{}},async exportData(){const[t,e,r,n]=await Promise.all([yr.workouts.toArray(),yr.clients.toArray(),this.getCoachProfile(),yr.exerciseGlossary.toArray()]);return{workouts:t,clients:e,coachProfile:r||null,exerciseGlossary:n}},async importData(t){console.log("💾 Importazione dati nel database:",t);try{await this.clearAllData(),console.log("🗑️ Database pulito"),t.workouts&&t.workouts.length>0&&(console.log("📝 Importo",t.workouts.length,"workouts"),await yr.workouts.bulkAdd(t.workouts),console.log("✅ Workouts importati")),t.clients&&t.clients.length>0&&(console.log("👥 Importo",t.clients.length,"clienti"),await yr.clients.bulkAdd(t.clients),console.log("✅ Clienti importati")),t.coachProfile&&(console.log("👨‍💼 Importo profilo coach:",t.coachProfile),await yr.coachProfile.add(t.coachProfile),console.log("✅ Profilo coach importato")),t.exerciseGlossary&&t.exerciseGlossary.length>0&&(console.log("💪 Importo",t.exerciseGlossary.length,"esercizi nel glossario"),await yr.exerciseGlossary.bulkAdd(t.exerciseGlossary),console.log("✅ Glossario esercizi importato")),console.log("🎉 Importazione completata con successo!")}catch(e){throw console.error("❌ Errore durante importazione database:",e),e}}},oL="modulepreload",lL=function(t){return"/"+t},Nw={},wu=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=u(r.map(d=>{if(d=lL(d),d in Nw)return;Nw[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=f?"stylesheet":oL,f||(y.as="script"),y.crossOrigin="",y.href=d,l&&y.setAttribute("nonce",l),document.head.appendChild(y),f)return new Promise((g,k)=>{y.addEventListener("load",g),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},cL=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>Yf);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class fb extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class uL extends fb{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Cw extends fb{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Aw extends fb{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zy;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(zy||(zy={}));var dL=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};class fL{constructor(e,{headers:r={},customFetch:n,region:i=zy.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=cL(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return dL(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=r;let l={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const m=yield this.fetch(d.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f}).catch(_=>{throw new uL(_)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new Cw(m);if(!m.ok)throw new Aw(m);let g=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),k;return g==="application/json"?k=yield m.json():g==="application/octet-stream"?k=yield m.blob():g==="text/event-stream"?k=m:g==="multipart/form-data"?k=yield m.formData():k=yield m.text(),{data:k,error:null,response:m}}catch(i){return{data:null,error:i,response:i instanceof Aw||i instanceof Cw?i.context:void 0}}})}}var Da={},Gd={},Kd={},Yd={},Jd={},Qd={},hL=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rf=hL();const pL=Rf.fetch,YN=Rf.fetch.bind(Rf),JN=Rf.Headers,mL=Rf.Request,gL=Rf.Response,Yf=Object.freeze(Object.defineProperty({__proto__:null,Headers:JN,Request:mL,Response:gL,default:YN,fetch:pL},Symbol.toStringTag,{value:"Module"})),vL=sj(Yf);var fm={},Ew;function QN(){if(Ew)return fm;Ew=1,Object.defineProperty(fm,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return fm.default=t,fm}var Pw;function ZN(){if(Pw)return Qd;Pw=1;var t=Qd&&Qd.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Qd,"__esModule",{value:!0});const e=t(vL),r=t(QN());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,y;let g=null,k=null,_=null,N=d.status,E=d.statusText;if(d.ok){if(this.method!=="HEAD"){const M=await d.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?k=M:k=JSON.parse(M))}const P=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),R=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");P&&R&&R.length>1&&(_=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(g={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,_=null,N=406,E="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const P=await d.text();try{g=JSON.parse(P),Array.isArray(g)&&d.status===404&&(k=[],g=null,N=200,E="OK")}catch{d.status===404&&P===""?(N=204,E="No Content"):g={message:P}}if(g&&this.isMaybeSingle&&(!((y=g?.details)===null||y===void 0)&&y.includes("0 rows"))&&(g=null,N=200,E="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:k,count:_,status:N,statusText:E}});return this.shouldThrowOnError||(u=u.catch(d=>{var f,m,y;return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:`${(m=d?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(y=d?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),u.then(a,o)}returns(){return this}overrideTypes(){return this}}return Qd.default=n,Qd}var jw;function XN(){if(jw)return Jd;jw=1;var t=Jd&&Jd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Jd,"__esModule",{value:!0});const e=t(ZN());class r extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var f;const m=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${d}; for="${y}"; options=${m};`,d==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Jd.default=r,Jd}var Iw;function hb(){if(Iw)return Yd;Iw=1;var t=Yd&&Yd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Yd,"__esModule",{value:!0});const e=t(XN());class r extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${u}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return Yd.default=r,Yd}var Tw;function eC(){if(Tw)return Kd;Tw=1;var t=Kd&&Kd.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Kd,"__esModule",{value:!0});const e=t(hb());class r{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=a,this.schema=o,this.fetch=l}select(i,{head:a=!1,count:o}={}){const l=a?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:o=!0}={}){const l="POST",u=[];if(this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(i)){const d=i.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){const d="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const m=i.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(m.length>0){const y=[...new Set(m)].map(g=>`"${g}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Kd.default=r,Kd}var xh={},wh={},Dw;function yL(){return Dw||(Dw=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.version=void 0,wh.version="0.0.0-automated"),wh}var Lw;function bL(){if(Lw)return xh;Lw=1,Object.defineProperty(xh,"__esModule",{value:!0}),xh.DEFAULT_HEADERS=void 0;const t=yL();return xh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},xh}var Rw;function xL(){if(Rw)return Gd;Rw=1;var t=Gd&&Gd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Gd,"__esModule",{value:!0});const e=t(eC()),r=t(hb()),n=bL();class i{constructor(o,{headers:l={},schema:u,fetch:d}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=u,this.fetch=d}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:d=!1,count:f}={}){let m;const y=new URL(`${this.url}/rpc/${o}`);let g;u||d?(m=u?"HEAD":"GET",Object.entries(l).filter(([_,N])=>N!==void 0).map(([_,N])=>[_,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([_,N])=>{y.searchParams.append(_,N)})):(m="POST",g=l);const k=Object.assign({},this.headers);return f&&(k.Prefer=`count=${f}`),new r.default({method:m,url:y,headers:k,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return Gd.default=i,Gd}var Ow;function wL(){if(Ow)return Da;Ow=1;var t=Da&&Da.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Da,"__esModule",{value:!0}),Da.PostgrestError=Da.PostgrestBuilder=Da.PostgrestTransformBuilder=Da.PostgrestFilterBuilder=Da.PostgrestQueryBuilder=Da.PostgrestClient=void 0;const e=t(xL());Da.PostgrestClient=e.default;const r=t(eC());Da.PostgrestQueryBuilder=r.default;const n=t(hb());Da.PostgrestFilterBuilder=n.default;const i=t(XN());Da.PostgrestTransformBuilder=i.default;const a=t(ZN());Da.PostgrestBuilder=a.default;const o=t(QN());return Da.PostgrestError=o.default,Da.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Da}var SL=wL();const _L=dp(SL),{PostgrestClient:kL,PostgrestQueryBuilder:VG,PostgrestFilterBuilder:HG,PostgrestTransformBuilder:GG,PostgrestBuilder:KG,PostgrestError:YG}=_L;class NL{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const CL="2.15.1",AL=`realtime-js/${CL}`,EL="1.0.0",Uy=1e4,PL=1e3,jL=100;var Dh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dh||(Dh={}));var ga;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ga||(ga={}));var gl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(gl||(gl={}));var $y;(function(t){t.websocket="websocket"})($y||($y={}));var cd;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(cd||(cd={}));class IL{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const u=n.decode(e.slice(o,o+a));o=o+a;const d=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:u,payload:d}}}class tC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Gn||(Gn={}));const Fw=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=TL(o,t,e,i),a),{})},TL=(t,e,r,n)=>{const i=e.find(l=>l.name===t),a=i?.type,o=r[t];return a&&!n.includes(a)?rC(a,o):qy(o)},rC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return OL(e,r)}switch(t){case Gn.bool:return DL(e);case Gn.float4:case Gn.float8:case Gn.int2:case Gn.int4:case Gn.int8:case Gn.numeric:case Gn.oid:return LL(e);case Gn.json:case Gn.jsonb:return RL(e);case Gn.timestamp:return FL(e);case Gn.abstime:case Gn.date:case Gn.daterange:case Gn.int4range:case Gn.int8range:case Gn.money:case Gn.reltime:case Gn.text:case Gn.time:case Gn.timestamptz:case Gn.timetz:case Gn.tsrange:case Gn.tstzrange:return qy(e);default:return qy(e)}},qy=t=>t,DL=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},LL=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},RL=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},OL=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>rC(e,l))}return t},FL=t=>typeof t=="string"?t.replace(" ","T"):t,nC=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class w0{constructor(e,r,n={},i=Uy){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Mw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Mw||(Mw={}));class Lh{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lh.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=Lh.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Lh.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),l={},u={};return this.map(a,(d,f)=>{o[d]||(u[d]=f)}),this.map(o,(d,f)=>{const m=a[d];if(m){const y=f.map(N=>N.presence_ref),g=m.map(N=>N.presence_ref),k=f.filter(N=>g.indexOf(N.presence_ref)<0),_=m.filter(N=>y.indexOf(N.presence_ref)<0);k.length>0&&(l[d]=k),_.length>0&&(u[d]=_)}else l[d]=f}),this.syncDiff(a,{joins:l,leaves:u},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,u)=>{var d;const f=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(u),f.length>0){const m=e[l].map(g=>g.presence_ref),y=f.filter(g=>m.indexOf(g.presence_ref)<0);e[l].unshift(...y)}n(l,f,u)}),this.map(o,(l,u)=>{let d=e[l];if(!d)return;const f=u.map(m=>m.presence_ref);d=d.filter(m=>f.indexOf(m.presence_ref)<0),e[l]=d,i(l,d,u),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Bw||(Bw={}));var Rh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Rh||(Rh={}));var Pc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Pc||(Pc={}));class pb{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ga.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new w0(this,gl.join,this.params,this.timeout),this.rejoinTimer=new tC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ga.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ga.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ga.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ga.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ga.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gl.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Lh(this),this.broadcastEndpointURL=nC(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ga.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Rh.PRESENCE]&&this.bindings[Rh.PRESENCE].length>0,f={},m={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>e?.(Pc.CHANNEL_ERROR,y)),this._onClose(()=>e?.(Pc.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var g;if(this.socket.setAuth(),y===void 0){e?.(Pc.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(g=k?.length)!==null&&g!==void 0?g:0,N=[];for(let E=0;E<_;E++){const T=k[E],{filter:{event:P,schema:R,table:M,filter:Q}}=T,K=y&&y[E];if(K&&K.event===P&&K.schema===R&&K.table===M&&K.filter===Q)N.push(Object.assign(Object.assign({},T),{id:K.id}));else{this.unsubscribe(),this.state=ga.errored,e?.(Pc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Pc.SUBSCRIBED);return}}).receive("error",y=>{this.state=ga.errored,e?.(Pc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e?.(Pc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ga.joined&&e===Rh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ga.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new w0(this,gl.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ga.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new w0(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>jL){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:u,leave:d,join:f}=gl;if(n&&[l,u,d,f].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var k,_,N;return((k=g.filter)===null||k===void 0?void 0:k.event)==="*"||((N=(_=g.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(g=>g.callback(y,n)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var k,_,N,E,T,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const R=g.id,M=(k=g.filter)===null||k===void 0?void 0:k.event;return R&&((_=r.ids)===null||_===void 0?void 0:_.includes(R))&&(M==="*"||M?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const R=(T=(E=g?.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return R==="*"||R===((P=r?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof y=="object"&&"ids"in y){const k=y.data,{schema:_,table:N,commit_timestamp:E,type:T,errors:P}=k;y=Object.assign(Object.assign({},{schema:_,table:N,commit_timestamp:E,eventType:T,new:{},old:{},errors:P}),this._getPayloadRecords(k))}g.callback(y,n)})}_isClosed(){return this.state===ga.closed}_isJoined(){return this.state===ga.joined}_isJoining(){return this.state===ga.joining}_isLeaving(){return this.state===ga.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&pb.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(gl.close,{},e)}_onError(e){this._on(gl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ga.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Fw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Fw(e.columns,e.old_record)),r}}const zw=()=>{},hm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ML=[1e3,2e3,5e3,1e4],BL=1e4,zL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UL{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uy,this.transport=null,this.heartbeatIntervalMs=hm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zw,this.ref=0,this.reconnectTimer=null,this.logger=zw,this.conn=null,this.sendBuffer=[],this.serializer=new IL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>wu(async()=>{const{default:l}=await Promise.resolve().then(()=>Yf);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${$y.websocket}`,this.httpEndpoint=nC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NL.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EL}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dh.connecting:return cd.Connecting;case Dh.open:return cd.Open;case Dh.closing:return cd.Closing;default:return cd.Closed}}isConnected(){return this.connectionState()===cd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new pb(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(PL,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${n} ${i} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(gl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([zL],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:AL};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(gl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new tC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,l,u,d;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:Uy,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:hm.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:f=>ML[f-1]||BL,this.encode=(u=e?.encode)!==null&&u!==void 0?u:(f,m)=>m(JSON.stringify(f)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class mb extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ya(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class $L extends mb{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wy extends mb{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var qL=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};const iC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>Yf);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},WL=()=>qL(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wu(()=>Promise.resolve().then(()=>Yf),void 0)).Response:Response}),Vy=t=>{if(Array.isArray(t))return t.map(r=>Vy(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Vy(n)}),e},VL=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Nd=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};const S0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HL=(t,e,r)=>Nd(void 0,void 0,void 0,function*(){const n=yield WL();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const a=t.status||500,o=i?.statusCode||a+"";e(new $L(S0(i),a,o))}).catch(i=>{e(new Wy(S0(i),i))}):e(new Wy(S0(t),t))}),GL=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(VL(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function yp(t,e,r,n,i,a){return Nd(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,GL(e,n,i,a)).then(u=>{if(!u.ok)throw u;return n?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>HL(u,l,n))})})}function lg(t,e,r,n){return Nd(this,void 0,void 0,function*(){return yp(t,"GET",e,r,n)})}function Vl(t,e,r,n,i){return Nd(this,void 0,void 0,function*(){return yp(t,"POST",e,n,i,r)})}function Hy(t,e,r,n,i){return Nd(this,void 0,void 0,function*(){return yp(t,"PUT",e,n,i,r)})}function KL(t,e,r,n){return Nd(this,void 0,void 0,function*(){return yp(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function aC(t,e,r,n,i){return Nd(this,void 0,void 0,function*(){return yp(t,"DELETE",e,n,i,r)})}var Ts=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};const YL={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JL{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=iC(i)}uploadOrUpdate(e,r,n,i){return Ts(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Uw),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",this.encodeMetadata(u))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const d=this._removeEmptyFolders(r),f=this._getFinalPath(d),m=yield(e=="PUT"?Hy:Vl)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(a){if(ya(a))return{data:null,error:a};throw a}})}upload(e,r,n){return Ts(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ts(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let u;const d=Object.assign({upsert:Uw.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType);const m=yield Hy(this.fetch,l.toString(),u,{headers:f});return{data:{path:a,fullPath:m.Key},error:null}}catch(u){if(ya(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return Ts(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Vl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new mb("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(ya(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ts(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ts(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ya(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ts(this,void 0,void 0,function*(){try{return{data:{path:(yield Vl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ya(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ts(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Vl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(ya(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ts(this,void 0,void 0,function*(){try{const i=yield Vl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(ya(i))return{data:null,error:i};throw i}})}download(e,r){return Ts(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield lg(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ya(l))return{data:null,error:l};throw l}})}info(e){return Ts(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield lg(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Vy(n),error:null}}catch(n){if(ya(n))return{data:null,error:n};throw n}})}exists(e){return Ts(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield KL(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ya(n)&&n instanceof Wy){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof r?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(r?.transform||{});u!==""&&i.push(u);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(e){return Ts(this,void 0,void 0,function*(){try{return{data:yield aC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ya(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ts(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},YL),r),{prefix:e||""});return{data:yield Vl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(ya(i))return{data:null,error:i};throw i}})}listV2(e,r){return Ts(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Vl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ya(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const QL="2.11.0",ZL={"X-Client-Info":`storage-js/${QL}`};var Zd=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};class XL{constructor(e,r={},n,i){const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},ZL),r),this.fetch=iC(n)}listBuckets(){return Zd(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ya(e))return{data:null,error:e};throw e}})}getBucket(e){return Zd(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ya(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Zd(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ya(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Zd(this,void 0,void 0,function*(){try{return{data:yield Hy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ya(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Zd(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ya(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Zd(this,void 0,void 0,function*(){try{return{data:yield aC(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ya(r))return{data:null,error:r};throw r}})}}class eR extends XL{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new JL(this.url,this.headers,e,this.fetch)}}const tR="2.55.0";let Ph="";typeof Deno<"u"?Ph="deno":typeof document<"u"?Ph="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ph="react-native":Ph="node";const rR={"X-Client-Info":`supabase-js-${Ph}/${tR}`},nR={headers:rR},iR={schema:"public"},aR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sR={};var oR=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};const lR=t=>{let e;return t?e=t:typeof fetch>"u"?e=YN:e=fetch,(...r)=>e(...r)},cR=()=>typeof Headers>"u"?JN:Headers,uR=(t,e,r)=>{const n=lR(r),i=cR();return(a,o)=>oR(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let d=new i(o?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),n(a,Object.assign(Object.assign({},o),{headers:d}))})};var dR=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};function fR(t){return t.endsWith("/")?t:t+"/"}function hR(t,e){var r,n;const{db:i,auth:a,realtime:o,global:l}=t,{db:u,auth:d,realtime:f,global:m}=e,y={db:Object.assign(Object.assign({},u),i),auth:Object.assign(Object.assign({},d),a),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>dR(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const sC="2.71.1",ff=30*1e3,Gy=3,_0=Gy*ff,pR="http://localhost:9999",mR="supabase.auth.token",gR={"X-Client-Info":`gotrue-js/${sC}`},Ky="X-Supabase-Api-Version",oC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yR=600*1e3;class gb extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $r(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class bR extends gb{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function xR(t){return $r(t)&&t.name==="AuthApiError"}class lC extends gb{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ou extends gb{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class fu extends Ou{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wR(t){return $r(t)&&t.name==="AuthSessionMissingError"}class pm extends Ou{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mm extends Ou{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gm extends Ou{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function SR(t){return $r(t)&&t.name==="AuthImplicitGrantRedirectError"}class $w extends Ou{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yy extends Ou{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function k0(t){return $r(t)&&t.name==="AuthRetryableFetchError"}class qw extends Ou{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Jy extends Ou{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ww=` 	
\r=`.split(""),_R=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ww.length;e+=1)t[Ww[e].charCodeAt(0)]=-2;for(let e=0;e<cg.length;e+=1)t[cg[e].charCodeAt(0)]=e;return t})();function Vw(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(cg[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(cg[n]),e.queuedBits-=6}}function cC(t,e,r){const n=_R[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hw(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{CR(o,n,r)};for(let o=0;o<t.length;o+=1)cC(t.charCodeAt(o),i,a);return e.join("")}function kR(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function NR(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}kR(n,e)}}function CR(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function AR(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)cC(t.charCodeAt(i),r,n);return new Uint8Array(e)}function ER(t){const e=[];return NR(t,r=>e.push(r)),new Uint8Array(e)}function PR(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Vw(i,r,n)),Vw(null,r,n),e.join("")}function jR(t){return Math.round(Date.now()/1e3)+t}function IR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const pl=()=>typeof window<"u"&&typeof document<"u",nd={tested:!1,writable:!1},uC=()=>{if(!pl())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nd.tested)return nd.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nd.tested=!0,nd.writable=!0}catch{nd.tested=!0,nd.writable=!1}return nd.writable};function TR(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const dC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>wu(async()=>{const{default:n}=await Promise.resolve().then(()=>Yf);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},DR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},id=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cu=async(t,e)=>{await t.removeItem(e)};class Yg{constructor(){this.promise=new Yg.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Yg.promiseConstructor=Promise;function N0(t){const e=t.split(".");if(e.length!==3)throw new Jy("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!vR.test(e[n]))throw new Jy("JWT not in base64url format");return{header:JSON.parse(Hw(e[0])),payload:JSON.parse(Hw(e[1])),signature:AR(e[2]),raw:{header:e[0],payload:e[1]}}}async function LR(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function RR(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function OR(t){return("0"+t.toString(16)).substr(-2)}function FR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,OR).join("")}async function MR(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function BR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await MR(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xd(t,e,r=!1){const n=FR();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await hf(t,`${e}-code-verifier`,i);const a=await BR(n);return[a,n===a?"plain":"s256"]}const zR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UR(t){const e=t.headers.get(Ky);if(!e||!e.match(zR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $R(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function qR(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ef(t){if(!WR.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function C0(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gw(t){return JSON.parse(JSON.stringify(t))}var VR=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const sd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HR=[502,503,504];async function Kw(t){var e;if(!DR(t))throw new Yy(sd(t),0);if(HR.includes(t.status))throw new Yy(sd(t),t.status);let r;try{r=await t.json()}catch(a){throw new lC(sd(a),a)}let n;const i=UR(t);if(i&&i.getTime()>=oC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qw(sd(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new fu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new qw(sd(r),t.status,r.weak_password.reasons);throw new bR(sd(r),t.status||500,n)}const GR=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function en(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[Ky]||(a[Ky]=oC["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await KR(t,e,r+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function KR(t,e,r,n,i,a){const o=GR(e,n,i,a);let l;try{l=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new Yy(sd(u),0)}if(l.ok||await Kw(l),n?.noResolveJson)return l;try{return await l.json()}catch(u){await Kw(u)}}function Ec(t){var e;let r=null;ZR(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=jR(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Yw(t){const e=Ec(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function mu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function YR(t){return{data:t,error:null}}function JR(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=VR(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function QR(t){return t}function ZR(t){return t.access_token&&t.refresh_token&&t.expires_in}const A0=["global","local","others"];var XR=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class eO{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=dC(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=A0[0]){if(A0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${A0.join(", ")}`);try{return await en(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if($r(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await en(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:mu})}catch(n){if($r(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=XR(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await en(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:JR,redirectTo:r?.redirectTo})}catch(r){if($r(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await en(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:mu})}catch(r){if($r(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await en(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:QR});if(f.error)throw f.error;const m=await f.json(),y=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(k.split(";")[1].split("=")[1]);d[`${N}Page`]=_}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if($r(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){ef(e);try{return await en(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:mu})}catch(r){if($r(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ef(e);try{return await en(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:mu})}catch(n){if($r(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ef(e);try{return await en(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:mu})}catch(n){if($r(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ef(e.userId);try{const{data:r,error:n}=await en(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if($r(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ef(e.userId),ef(e.id);try{return{data:await en(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($r(r))return{data:null,error:r};throw r}}}function Jw(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function tO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const tf={debug:!!(globalThis&&uC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fC extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rO extends fC{}async function nO(t,e,r){tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),tf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rO(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(tf.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}tO();const iO={url:pR,storageKey:mR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qw(t,e,r){return await r()}const rf={};class Xh{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xh.nextInstanceID,Xh.nextInstanceID+=1,this.instanceID>0&&pl()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},iO),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new eO({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=dC(i.fetch),this.lock=i.lock||Qw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:pl()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=nO:this.lock=Qw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:uC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Jw(this.memoryStorage)),pl()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=rf[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){rf[this.storageKey]=Object.assign(Object.assign({},rf[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=rf[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){rf[this.storageKey]=Object.assign(Object.assign({},rf[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sC}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=TR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),pl()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),SR(a)){const u=(e=a.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $r(r)?{error:r}:{error:new lC("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await en(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ec}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(a){if($r(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:f,password:m,options:y}=e;let g=null,k=null;this.flowType==="pkce"&&([g,k]=await Xd(this.storage,this.storageKey)),a=await en(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:f,password:m,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:k},xform:Ec})}else if("phone"in e){const{phone:f,password:m,options:y}=e;a=await en(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(i=y?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Ec})}else throw new mm("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(a){if($r(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:l}=e;r=await en(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Yw})}else if("phone"in e){const{phone:a,password:o,options:l}=e;r=await en(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Yw})}else throw new mm("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pm}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if($r(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,o,l,u,d,f,m,y,g;let k,_;if("message"in e)k=e.message,_=e.signature;else{const{chain:N,wallet:E,statement:T,options:P}=e;let R;if(pl())if(typeof E=="object")R=E;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))R=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const M=new URL((r=P?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const Q=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),T?{statement:T}:null));let K;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")K=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)K=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)k=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),_=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${M.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(n=P?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=P?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((o=P?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((l=P?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((u=P?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((d=P?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((m=(f=P?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...P.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const Q=await R.signMessage(new TextEncoder().encode(k),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=Q}}try{const{data:N,error:E}=await en(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:PR(_)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Ec});if(E)throw E;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new pm}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:E})}catch(N){if($r(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const r=await id(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await en(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ec});if(await cu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new pm}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if($r(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,l=await en(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ec}),{data:u,error:d}=l;return d?{data:{user:null,session:null},error:d}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new pm}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:d})}catch(r){if($r(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:l,options:u}=e;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Xd(this.storage,this.storageKey));const{error:m}=await en(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:l,options:u}=e,{data:d,error:f}=await en(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new mm("You must provide either an email or phone number.")}catch(l){if($r(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await en(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ec});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(i){if($r(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await Xd(this.storage,this.storageKey)),await en(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:YR})}catch(a){if($r(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new fu;const{error:i}=await en(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if($r(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await en(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:l}=await en(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new mm("You must provide either an email or phone number and a type")}catch(r){if($r(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await id(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<_0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await id(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=C0()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,d,f)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,d,f))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await en(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:mu}):await this._useSession(async r=>{var n,i,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fu}:await en(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:mu})})}catch(r){if($r(r))return wR(r)&&(await this._removeSession(),await cu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new fu;const o=i.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await Xd(this.storage,this.storageKey));const{data:d,error:f}=await en(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:mu});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if($r(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new fu;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=N0(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if($r(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new fu;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($r(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!pl())throw new gm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $w("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $w("No code detected.");const{data:T,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=e;if(!a||!l||!o||!d)throw new gm("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(l);let y=f+m;u&&(y=parseInt(u));const g=y-f;g*1e3<=ff&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const k=y-m;f-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,y,f):f-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,y,f);const{data:_,error:N}=await this._getUser(a);if(N)throw N;const E={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:y,refresh_token:o,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(n){if($r(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await id(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(xR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await cu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=IR(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Xd(this.storage,this.storageKey,!0));try{return await en(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if($r(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if($r(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,u,d,f;const{data:m,error:y}=a;if(y)throw y;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await en(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return pl()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if($r(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await en(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if($r(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await RR(async i=>(i>0&&await LR(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await en(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ec})),(i,a)=>{const o=200*Math.pow(2,i);return a&&k0(a)&&Date.now()+o-n<ff})}catch(n){if(this._debug(r,"error",n),$r(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),pl()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await id(this.storage,this.storageKey);if(i&&this.userStorage){let o=await id(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await hf(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:C0()}else if(i&&!i.user&&!i.user){const o=await id(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await cu(this.storage,this.storageKey+"-user"),await hf(this.storage,this.storageKey,i)):i.user=C0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_0;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${_0}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),k0(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new fu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Yg;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new fu;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),$r(a)){const o={session:null,error:a};return k0(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await hf(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Gw(i);await hf(this.storage,this.storageKey,a)}else{const i=Gw(r);await hf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await cu(this.storage,this.storageKey),await cu(this.storage,this.storageKey+"-code-verifier"),await cu(this.storage,this.storageKey+"-user"),this.userStorage&&await cu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pl()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ff);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/ff);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ff}ms, refresh threshold is ${Gy} ticks`),i<=Gy&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fC)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pl()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Xd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await en(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($r(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:d}=await en(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if($r(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await en(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if($r(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await en(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($r(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=e?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=N0(i.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+yR>i)return n;const{data:a,error:o}=await en(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:k}=await this.getSession();if(k||!g.session)return{data:null,error:k};n=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:u}}=N0(n);r?.allowExpired||$R(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const f=qR(i.alg),m=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,o,ER(`${l}.${u}`)))throw new Jy("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if($r(n))return{data:null,error:n};throw n}}}Xh.nextInstanceID=0;const aO=Xh;class sO extends aO{constructor(e){super(e)}}var oO=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{d(n.next(f))}catch(m){o(m)}}function u(f){try{d(n.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):i(f.value).then(l,u)}d((n=n.apply(t,e||[])).next())})};class lO{constructor(e,r,n){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=fR(e),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:iR,realtime:sR,auth:Object.assign(Object.assign({},aR),{storageKey:d}),global:nR},m=hR(n??{},f);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=m.global.headers)!==null&&a!==void 0?a:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=m.auth)!==null&&o!==void 0?o:{},this.headers,m.global.fetch),this.fetch=uR(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new kL(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new eR(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new fL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return oO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:l,debug:u},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sO({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new UL(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cO=(t,e,r)=>new lO(t,e,r);function uO(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}uO()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dO="https://zjnnfyocvlzpxscrjbcw.supabase.co",fO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpqbm5meW9jdmx6cHhzY3JqYmN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE0NTY4MDMsImV4cCI6MjA2NzAzMjgwM30.VQPItGtVK6QVjYdwL4tEb-6Uizr-aHDE-nxJr3e8s-0",Fi=cO(dO,fO),Vh=class Vh{static async exportToJSON(){try{const e=await qn.exportData(),r=JSON.stringify(e,null,2),n=new Blob([r],{type:"application/json"}),i=URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download=`fittracker-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}catch(e){throw console.error("Error exporting data:",e),new Error("Errore durante l'esportazione dei dati")}}static async importFromJSON(e){try{const r=await e.text();let n;try{n=JSON.parse(r)}catch{throw new Error("File JSON non valido")}if(!this.isValidBackupData(n))throw new Error("Formato del file di backup non valido");const i=this.processImportData(n);await qn.importData(i)}catch(r){throw r instanceof Error?new Error(`Errore durante l'importazione: ${r.message}`):new Error("Errore sconosciuto durante l'importazione dei dati")}}static isValidBackupData(e){return typeof e=="object"&&e!==null&&(Array.isArray(e.workouts)||e.workouts===void 0)&&(Array.isArray(e.clients)||e.clients===void 0)&&(typeof e.coachProfile=="object"||e.coachProfile===void 0)&&(Array.isArray(e.exerciseGlossary)||e.exerciseGlossary===void 0)}static processImportData(e){const r={};return e.workouts&&(r.workouts=e.workouts.map(n=>({...n,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}))),e.clients&&(r.clients=e.clients.map(n=>({...n,createdAt:new Date(n.createdAt)}))),e.coachProfile&&(r.coachProfile=e.coachProfile),e.exerciseGlossary&&(r.exerciseGlossary=e.exerciseGlossary.map(n=>({...n,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}))),r}static async getBackupStats(){const e=await qn.exportData(),r=localStorage.getItem("lastBackupDate"),n=r?new Date(r):void 0;return{workoutsCount:e.workouts.length,clientsCount:e.clients.length,exerciseGlossaryCount:e.exerciseGlossary.length,lastBackup:n}}static setLastBackupDate(){localStorage.setItem("lastBackupDate",new Date().toISOString())}static async exportToSupabaseStorage(){const e="backups",{data:r,error:n}=await Fi.auth.getUser();if(n)throw n;const i=r.user?.id;if(!i)throw new Error("Utente non autenticato");const a=await qn.exportData(),o=JSON.stringify(a,null,2),l=new Blob([o],{type:"application/json"}),u=`${i}/data.json`,{error:d}=await Fi.storage.from(e).upload(u,l,{contentType:"application/json",upsert:!0});if(d)throw d;return this.setLastBackupDate(),{path:u}}static async importFromSupabaseStorage(){const e="backups",{data:r,error:n}=await Fi.auth.getUser();if(n)throw n;const i=r.user?.id;if(!i)throw new Error("Utente non autenticato");const a=`${i}/data.json`,{data:o,error:l}=await Fi.storage.from(e).createSignedUrl(a,60);if(l)throw l;if(!o?.signedUrl)throw new Error("Impossibile generare URL firmato");const u=`${o.signedUrl}&cacheBust=${Date.now()}`,d=await fetch(u,{cache:"no-store"});if(!d.ok)throw new Error(`Errore fetch backup cloud: ${d.statusText}`);const f=await d.blob();this.pauseAutoBackup=!0;try{const m=new File([f],"data.json",{type:"application/json"});await this.importFromJSON(m)}finally{this.pauseAutoBackup=!1}}static scheduleAutoBackup(){!this.autoBackupEnabled||this.pauseAutoBackup||Fi.auth.getUser().then(({data:e})=>{e?.user&&(this.autoBackupTimer&&clearTimeout(this.autoBackupTimer),this.autoBackupTimer=window.setTimeout(()=>{},this.autoBackupDelayMs))})}static async mergeFromSupabaseStorage(){const e="backups",{data:r,error:n}=await Fi.auth.getUser();if(n)throw n;const i=r.user?.id;if(!i)throw new Error("Utente non autenticato");const a=`${i}/data.json`,{data:o,error:l}=await Fi.storage.from(e).createSignedUrl(a,60);if(l)throw l;if(!o?.signedUrl)throw new Error("Impossibile generare URL firmato");const u=`${o.signedUrl}&cacheBust=${Date.now()}`,d=await fetch(u,{cache:"no-store"});if(!d.ok)throw new Error(`Errore fetch backup cloud: ${d.statusText}`);const f=await d.blob();this.pauseAutoBackup=!0;try{const m=new File([f],"data.json",{type:"application/json"});await this.importFromJSON(m)}finally{this.pauseAutoBackup=!1}}static async ensureInitialSync(){try{const e=await qn.exportData();if(!((e.workouts?.length??0)===0&&(e.clients?.length??0)===0&&!e.coachProfile))return;await this.importFromSupabaseStorage()}catch{}}};Vh.autoBackupDelayMs=2e3,Vh.pauseAutoBackup=!1,Vh.autoBackupEnabled=!1;let yn=Vh;try{yr.workouts.hook("creating",()=>yn.scheduleAutoBackup()),yr.workouts.hook("updating",()=>yn.scheduleAutoBackup()),yr.workouts.hook("deleting",()=>yn.scheduleAutoBackup()),yr.clients.hook("creating",()=>yn.scheduleAutoBackup()),yr.clients.hook("updating",()=>yn.scheduleAutoBackup()),yr.clients.hook("deleting",()=>yn.scheduleAutoBackup()),yr.coachProfile.hook("creating",()=>yn.scheduleAutoBackup()),yr.coachProfile.hook("updating",()=>yn.scheduleAutoBackup()),yr.coachProfile.hook("deleting",()=>yn.scheduleAutoBackup()),yr.exerciseGlossary.hook("creating",()=>yn.scheduleAutoBackup()),yr.exerciseGlossary.hook("updating",()=>yn.scheduleAutoBackup()),yr.exerciseGlossary.hook("deleting",()=>yn.scheduleAutoBackup())}catch{}const hO="/assets/logo-ChXRs9wy.png";var E0="focusScope.autoFocusOnMount",P0="focusScope.autoFocusOnUnmount",Zw={bubbles:!1,cancelable:!0},pO="FocusScope",vb=D.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,u]=D.useState(null),d=Ko(i),f=Ko(a),m=D.useRef(null),y=gn(e,_=>u(_)),g=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(n){let _=function(P){if(g.paused||!l)return;const R=P.target;l.contains(R)?m.current=R:hu(m.current,{select:!0})},N=function(P){if(g.paused||!l)return;const R=P.relatedTarget;R!==null&&(l.contains(R)||hu(m.current,{select:!0}))},E=function(P){if(document.activeElement===document.body)for(const M of P)M.removedNodes.length>0&&hu(l)};document.addEventListener("focusin",_),document.addEventListener("focusout",N);const T=new MutationObserver(E);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",N),T.disconnect()}}},[n,l,g.paused]),D.useEffect(()=>{if(l){e5.add(g);const _=document.activeElement;if(!l.contains(_)){const E=new CustomEvent(E0,Zw);l.addEventListener(E0,d),l.dispatchEvent(E),E.defaultPrevented||(mO(xO(hC(l)),{select:!0}),document.activeElement===_&&hu(l))}return()=>{l.removeEventListener(E0,d),setTimeout(()=>{const E=new CustomEvent(P0,Zw);l.addEventListener(P0,f),l.dispatchEvent(E),E.defaultPrevented||hu(_??document.body,{select:!0}),l.removeEventListener(P0,f),e5.remove(g)},0)}}},[l,d,f,g]);const k=D.useCallback(_=>{if(!r&&!n||g.paused)return;const N=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,E=document.activeElement;if(N&&E){const T=_.currentTarget,[P,R]=gO(T);P&&R?!_.shiftKey&&E===R?(_.preventDefault(),r&&hu(P,{select:!0})):_.shiftKey&&E===P&&(_.preventDefault(),r&&hu(R,{select:!0})):E===T&&_.preventDefault()}},[r,n,g.paused]);return h.jsx(Dr.div,{tabIndex:-1,...o,ref:y,onKeyDown:k})});vb.displayName=pO;function mO(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(hu(n,{select:e}),document.activeElement!==r)return}function gO(t){const e=hC(t),r=Xw(e,t),n=Xw(e.reverse(),t);return[r,n]}function hC(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Xw(t,e){for(const r of t)if(!vO(r,{upTo:e}))return r}function vO(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function yO(t){return t instanceof HTMLInputElement&&"select"in t}function hu(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&yO(t)&&e&&t.select()}}var e5=bO();function bO(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=t5(t,e),t.unshift(e)},remove(e){t=t5(t,e),t[0]?.resume()}}}function t5(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function xO(t){return t.filter(e=>e.tagName!=="A")}var j0=0;function pC(){D.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??r5()),document.body.insertAdjacentElement("beforeend",t[1]??r5()),j0++,()=>{j0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),j0--}},[])}function r5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hl=function(){return Hl=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hl.apply(this,arguments)};function mC(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function wO(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var zm="right-scroll-bar-position",Um="width-before-scroll-bar",SO="with-scroll-bars-hidden",_O="--removed-body-scroll-bar-size";function I0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kO(t,e){var r=D.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var NO=typeof window<"u"?D.useLayoutEffect:D.useEffect,n5=new WeakMap;function CO(t,e){var r=kO(null,function(n){return t.forEach(function(i){return I0(i,n)})});return NO(function(){var n=n5.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(l){a.has(l)||I0(l,null)}),a.forEach(function(l){i.has(l)||I0(l,o)})}n5.set(r,t)},[t]),r}function AO(t){return t}function EO(t,e){e===void 0&&(e=AO);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var u=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(u)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return i}function PO(t){t===void 0&&(t={});var e=EO(null);return e.options=Hl({async:!0,ssr:!1},t),e}var gC=function(t){var e=t.sideCar,r=mC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return D.createElement(n,Hl({},r))};gC.isSideCarExport=!0;function jO(t,e){return t.useMedium(e),gC}var vC=PO(),T0=function(){},Jg=D.forwardRef(function(t,e){var r=D.useRef(null),n=D.useState({onScrollCapture:T0,onWheelCapture:T0,onTouchMoveCapture:T0}),i=n[0],a=n[1],o=t.forwardProps,l=t.children,u=t.className,d=t.removeScrollBar,f=t.enabled,m=t.shards,y=t.sideCar,g=t.noRelative,k=t.noIsolation,_=t.inert,N=t.allowPinchZoom,E=t.as,T=E===void 0?"div":E,P=t.gapMode,R=mC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=y,Q=CO([r,e]),K=Hl(Hl({},R),i);return D.createElement(D.Fragment,null,f&&D.createElement(M,{sideCar:vC,removeScrollBar:d,shards:m,noRelative:g,noIsolation:k,inert:_,setCallbacks:a,allowPinchZoom:!!N,lockRef:r,gapMode:P}),o?D.cloneElement(D.Children.only(l),Hl(Hl({},K),{ref:Q})):D.createElement(T,Hl({},K,{className:u,ref:Q}),l))});Jg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jg.classNames={fullWidth:Um,zeroRight:zm};var IO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=IO();return e&&t.setAttribute("nonce",e),t}function DO(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function LO(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var RO=function(){var t=0,e=null;return{add:function(r){t==0&&(e=TO())&&(DO(e,r),LO(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},OO=function(){var t=RO();return function(e,r){D.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},yC=function(){var t=OO(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},FO={left:0,top:0,right:0,gap:0},D0=function(t){return parseInt(t||"",10)||0},MO=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[D0(r),D0(n),D0(i)]},BO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FO;var e=MO(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},zO=yC(),xf="data-scroll-locked",UO=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(SO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(xf,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Um,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(zm," .").concat(zm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Um," .").concat(Um,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xf,`] {
    `).concat(_O,": ").concat(l,`px;
  }
`)},i5=function(){var t=parseInt(document.body.getAttribute(xf)||"0",10);return isFinite(t)?t:0},$O=function(){D.useEffect(function(){return document.body.setAttribute(xf,(i5()+1).toString()),function(){var t=i5()-1;t<=0?document.body.removeAttribute(xf):document.body.setAttribute(xf,t.toString())}},[])},qO=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;$O();var a=D.useMemo(function(){return BO(i)},[i]);return D.createElement(zO,{styles:UO(a,!e,i,r?"":"!important")})},Qy=!1;if(typeof window<"u")try{var vm=Object.defineProperty({},"passive",{get:function(){return Qy=!0,!0}});window.addEventListener("test",vm,vm),window.removeEventListener("test",vm,vm)}catch{Qy=!1}var nf=Qy?{passive:!1}:!1,WO=function(t){return t.tagName==="TEXTAREA"},bC=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!WO(t)&&r[e]==="visible")},VO=function(t){return bC(t,"overflowY")},HO=function(t){return bC(t,"overflowX")},a5=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=xC(t,n);if(i){var a=wC(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},GO=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},KO=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},xC=function(t,e){return t==="v"?VO(e):HO(e)},wC=function(t,e){return t==="v"?GO(e):KO(e)},YO=function(t,e){return t==="h"&&e==="rtl"?-1:1},JO=function(t,e,r,n,i){var a=YO(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,u=e.contains(l),d=!1,f=o>0,m=0,y=0;do{if(!l)break;var g=wC(t,l),k=g[0],_=g[1],N=g[2],E=_-N-a*k;(k||E)&&xC(t,l)&&(m+=E,y+=k);var T=l.parentNode;l=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(f&&Math.abs(m)<1||!f&&Math.abs(y)<1)&&(d=!0),d},ym=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},s5=function(t){return[t.deltaX,t.deltaY]},o5=function(t){return t&&"current"in t?t.current:t},QO=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ZO=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},XO=0,af=[];function e8(t){var e=D.useRef([]),r=D.useRef([0,0]),n=D.useRef(),i=D.useState(XO++)[0],a=D.useState(yC)[0],o=D.useRef(t);D.useEffect(function(){o.current=t},[t]),D.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=wO([t.lockRef.current],(t.shards||[]).map(o5),!0).filter(Boolean);return _.forEach(function(N){return N.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=D.useCallback(function(_,N){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var E=ym(_),T=r.current,P="deltaX"in _?_.deltaX:T[0]-E[0],R="deltaY"in _?_.deltaY:T[1]-E[1],M,Q=_.target,K=Math.abs(P)>Math.abs(R)?"h":"v";if("touches"in _&&K==="h"&&Q.type==="range")return!1;var G=a5(K,Q);if(!G)return!0;if(G?M=K:(M=K==="v"?"h":"v",G=a5(K,Q)),!G)return!1;if(!n.current&&"changedTouches"in _&&(P||R)&&(n.current=M),!M)return!0;var H=n.current||M;return JO(H,N,_,H==="h"?P:R)},[]),u=D.useCallback(function(_){var N=_;if(!(!af.length||af[af.length-1]!==a)){var E="deltaY"in N?s5(N):ym(N),T=e.current.filter(function(M){return M.name===N.type&&(M.target===N.target||N.target===M.shadowParent)&&QO(M.delta,E)})[0];if(T&&T.should){N.cancelable&&N.preventDefault();return}if(!T){var P=(o.current.shards||[]).map(o5).filter(Boolean).filter(function(M){return M.contains(N.target)}),R=P.length>0?l(N,P[0]):!o.current.noIsolation;R&&N.cancelable&&N.preventDefault()}}},[]),d=D.useCallback(function(_,N,E,T){var P={name:_,delta:N,target:E,should:T,shadowParent:t8(E)};e.current.push(P),setTimeout(function(){e.current=e.current.filter(function(R){return R!==P})},1)},[]),f=D.useCallback(function(_){r.current=ym(_),n.current=void 0},[]),m=D.useCallback(function(_){d(_.type,s5(_),_.target,l(_,t.lockRef.current))},[]),y=D.useCallback(function(_){d(_.type,ym(_),_.target,l(_,t.lockRef.current))},[]);D.useEffect(function(){return af.push(a),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",u,nf),document.addEventListener("touchmove",u,nf),document.addEventListener("touchstart",f,nf),function(){af=af.filter(function(_){return _!==a}),document.removeEventListener("wheel",u,nf),document.removeEventListener("touchmove",u,nf),document.removeEventListener("touchstart",f,nf)}},[]);var g=t.removeScrollBar,k=t.inert;return D.createElement(D.Fragment,null,k?D.createElement(a,{styles:ZO(i)}):null,g?D.createElement(qO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function t8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const r8=jO(vC,e8);var yb=D.forwardRef(function(t,e){return D.createElement(Jg,Hl({},t,{ref:e,sideCar:r8}))});yb.classNames=Jg.classNames;var n8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sf=new WeakMap,bm=new WeakMap,xm={},L0=0,SC=function(t){return t&&(t.host||SC(t.parentNode))},i8=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=SC(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},a8=function(t,e,r,n){var i=i8(e,Array.isArray(t)?t:[t]);xm[r]||(xm[r]=new WeakMap);var a=xm[r],o=[],l=new Set,u=new Set(i),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};i.forEach(d);var f=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(y){if(l.has(y))f(y);else try{var g=y.getAttribute(n),k=g!==null&&g!=="false",_=(sf.get(y)||0)+1,N=(a.get(y)||0)+1;sf.set(y,_),a.set(y,N),o.push(y),_===1&&k&&bm.set(y,!0),N===1&&y.setAttribute(r,"true"),k||y.setAttribute(n,"true")}catch(E){console.error("aria-hidden: cannot operate on ",y,E)}})};return f(e),l.clear(),L0++,function(){o.forEach(function(m){var y=sf.get(m)-1,g=a.get(m)-1;sf.set(m,y),a.set(m,g),y||(bm.has(m)||m.removeAttribute(n),bm.delete(m)),g||m.removeAttribute(r)}),L0--,L0||(sf=new WeakMap,sf=new WeakMap,bm=new WeakMap,xm={})}},_C=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=n8(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),a8(n,i,r,"aria-hidden")):function(){return null}},Qg="Dialog",[kC,NC]=Cl(Qg),[s8,Al]=kC(Qg),CC=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=D.useRef(null),u=D.useRef(null),[d,f]=Au({prop:n,defaultProp:i??!1,onChange:a,caller:Qg});return h.jsx(s8,{scope:e,triggerRef:l,contentRef:u,contentId:xu(),titleId:xu(),descriptionId:xu(),open:d,onOpenChange:f,onOpenToggle:D.useCallback(()=>f(m=>!m),[f]),modal:o,children:r})};CC.displayName=Qg;var AC="DialogTrigger",EC=D.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Al(AC,r),a=gn(e,i.triggerRef);return h.jsx(Dr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wb(i.open),...n,ref:a,onClick:fr(t.onClick,i.onOpenToggle)})});EC.displayName=AC;var bb="DialogPortal",[o8,PC]=kC(bb,{forceMount:void 0}),jC=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Al(bb,e);return h.jsx(o8,{scope:e,forceMount:r,children:D.Children.map(n,o=>h.jsx(Ru,{present:r||a.open,children:h.jsx(Bg,{asChild:!0,container:i,children:o})}))})};jC.displayName=bb;var ug="DialogOverlay",IC=D.forwardRef((t,e)=>{const r=PC(ug,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Al(ug,t.__scopeDialog);return a.modal?h.jsx(Ru,{present:n||a.open,children:h.jsx(c8,{...i,ref:e})}):null});IC.displayName=ug;var l8=Pf("DialogOverlay.RemoveScroll"),c8=D.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Al(ug,r);return h.jsx(yb,{as:l8,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(Dr.div,{"data-state":wb(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),gd="DialogContent",TC=D.forwardRef((t,e)=>{const r=PC(gd,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Al(gd,t.__scopeDialog);return h.jsx(Ru,{present:n||a.open,children:a.modal?h.jsx(u8,{...i,ref:e}):h.jsx(d8,{...i,ref:e})})});TC.displayName=gd;var u8=D.forwardRef((t,e)=>{const r=Al(gd,t.__scopeDialog),n=D.useRef(null),i=gn(e,r.contentRef,n);return D.useEffect(()=>{const a=n.current;if(a)return _C(a)},[]),h.jsx(DC,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fr(t.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:fr(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:fr(t.onFocusOutside,a=>a.preventDefault())})}),d8=D.forwardRef((t,e)=>{const r=Al(gd,t.__scopeDialog),n=D.useRef(!1),i=D.useRef(!1);return h.jsx(DC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),DC=D.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=Al(gd,r),u=D.useRef(null),d=gn(e,u);return pC(),h.jsxs(h.Fragment,{children:[h.jsx(vb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:h.jsx(hp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":wb(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(h8,{titleId:l.titleId}),h.jsx(m8,{contentRef:u,descriptionId:l.descriptionId})]})]})}),xb="DialogTitle",LC=D.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Al(xb,r);return h.jsx(Dr.h2,{id:i.titleId,...n,ref:e})});LC.displayName=xb;var RC="DialogDescription",OC=D.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Al(RC,r);return h.jsx(Dr.p,{id:i.descriptionId,...n,ref:e})});OC.displayName=RC;var FC="DialogClose",MC=D.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Al(FC,r);return h.jsx(Dr.button,{type:"button",...n,ref:e,onClick:fr(t.onClick,()=>i.onOpenChange(!1))})});MC.displayName=FC;function wb(t){return t?"open":"closed"}var BC="DialogTitleWarning",[f8,zC]=_6(BC,{contentName:gd,titleName:xb,docsSlug:"dialog"}),h8=({titleId:t})=>{const e=zC(BC),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return D.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},p8="DialogDescriptionWarning",m8=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zC(p8).contentName}}.`;return D.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},UC=CC,$C=EC,qC=jC,Sb=IC,_b=TC,kb=LC,Nb=OC,Cb=MC;const Fs=UC,Zg=$C,g8=qC,WC=D.forwardRef(({className:t,...e},r)=>h.jsx(Sb,{ref:r,className:hr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));WC.displayName=Sb.displayName;const hs=D.forwardRef(({className:t,children:e,...r},n)=>h.jsxs(g8,{children:[h.jsx(WC,{}),h.jsxs(_b,{ref:n,className:hr("fixed left-[50%] top-[50%] z-50 grid w-[95%] max-w-lg translate-x-[-50%] translate-y-[-50%] gap-3 border bg-background p-4 sm:p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",t),...r,children:[e,h.jsxs(Cb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(gp,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hs.displayName=_b.displayName;const ps=({className:t,...e})=>h.jsx("div",{className:hr("flex flex-col space-y-1 text-center sm:text-left",t),...e});ps.displayName="DialogHeader";const bl=({className:t,...e})=>h.jsx("div",{className:hr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});bl.displayName="DialogFooter";const ms=D.forwardRef(({className:t,...e},r)=>h.jsx(kb,{ref:r,className:hr("text-base sm:text-lg font-semibold leading-none tracking-tight",t),...e}));ms.displayName=kb.displayName;const Of=D.forwardRef(({className:t,...e},r)=>h.jsx(Nb,{ref:r,className:hr("text-xs sm:text-sm text-muted-foreground",t),...e}));Of.displayName=Nb.displayName;const Ir=D.forwardRef(({className:t,type:e,...r},n)=>h.jsx("input",{type:e,className:hr("flex h-9 sm:h-10 w-full rounded-md border border-input bg-background px-2.5 sm:px-3 py-1.5 sm:py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-xs sm:file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground placeholder:text-xs sm:placeholder:text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 touch-none",t),ref:n,...r}));Ir.displayName="Input";function Zy({trigger:t}){const[e,r]=D.useState(!1),[n,i]=D.useState("login"),[a,o]=D.useState(""),[l,u]=D.useState(""),[d,f]=D.useState(!1),[m,y]=D.useState(null),[g,k]=D.useState(null),[_,N]=D.useState(!1),E=()=>{o(""),u(""),y(null),k(null)},T=async R=>{if(R.preventDefault(),f(!0),y(null),k(null),n==="register"){const{error:M}=await Fi.auth.signUp({email:a,password:l,options:{emailRedirectTo:`${window.location.origin}/`}});f(!1),M?y(M.message):k("Registrazione avvenuta! Controlla la tua email per confermare.")}else{const{error:M}=await Fi.auth.signInWithPassword({email:a,password:l});f(!1),M?y(M.message):(k("Login effettuato!"),setTimeout(()=>{r(!1),E(),window.location.reload()},400))}},P=async()=>{if(!a){y("Inserisci la tua email per ricevere il link di reset.");return}N(!0),y(null),k(null);try{const{error:R}=await Fi.auth.resetPasswordForEmail(a,{redirectTo:`${window.location.origin}/reset-password`});if(R)throw R;k("Email inviata! Controlla la casella per reimpostare la password.")}catch(R){y(R?.message||"Impossibile inviare email di reset")}finally{N(!1)}};return h.jsxs(Fs,{open:e,onOpenChange:R=>{r(R),R||E()},children:[h.jsx(Zg,{asChild:!0,children:t}),h.jsxs(hs,{onInteractOutside:R=>R.preventDefault(),className:"sm:max-w-xl",children:[h.jsxs(ps,{children:[h.jsx(ms,{children:n==="login"?"Login":"Registrazione"}),h.jsx(Of,{children:n==="login"?"Accedi con la tua email e password.":"Crea un nuovo account con email e password."})]}),h.jsxs("form",{onSubmit:T,className:"space-y-4",children:[h.jsx(Ir,{type:"email",placeholder:"Email",value:a,onChange:R=>o(R.target.value),required:!0,autoFocus:!0}),h.jsx(Ir,{type:"password",placeholder:"Password",value:l,onChange:R=>u(R.target.value),required:!0}),m&&h.jsx("div",{className:"text-red-500 text-sm",children:m}),g&&h.jsx("div",{className:"text-green-600 text-sm",children:g}),h.jsxs(bl,{children:[h.jsx(ht,{type:"submit",disabled:d,children:d?"Attendi...":n==="login"?"Login":"Registrati"}),h.jsx(ht,{type:"button",variant:"ghost",onClick:()=>{i(n==="login"?"register":"login"),y(null),k(null)},disabled:d,children:n==="login"?"Non hai un account? Registrati":"Hai già un account? Login"}),n==="login"&&h.jsx(ht,{type:"button",variant:"link",onClick:P,disabled:d||_,children:_?"Invio...":"Password dimenticata?"})]})]})]})]})}const VC=D.createContext(void 0);function v8({children:t}){const[e,r]=D.useState(null),[n,i]=D.useState(null),[a,o]=D.useState(!0);D.useEffect(()=>{let d=!0;(async()=>{const{data:{session:m}}=await Fi.auth.getSession();if(d&&(i(m),r(m?.user??null),o(!1),!m))try{await Fi.auth.signOut()}catch{}})();const{data:f}=Fi.auth.onAuthStateChange(async(m,y)=>{if(i(y),r(y?.user??null),y?.user)yn.ensureInitialSync();else try{await Fi.auth.signOut()}catch{}});return()=>{d=!1,f.subscription.unsubscribe()}},[]);const l=async()=>{await Fi.auth.signOut(),window.location.reload()},u=D.useMemo(()=>({user:e,session:n,loading:a,signOut:l}),[e,n,a]);return h.jsx(VC.Provider,{value:u,children:t})}function Fu(){const t=D.useContext(VC);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}var y8="Label",HC=D.forwardRef((t,e)=>h.jsx(Dr.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));HC.displayName=y8;var GC=HC;const b8=J1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wf=D.forwardRef(({className:t,...e},r)=>h.jsx(GC,{ref:r,className:hr(b8(),t),...e}));wf.displayName=GC.displayName;var l5={};function c5({trigger:t}){const{user:e,signOut:r}=Fu(),{toast:n}=gs(),[i,a]=D.useState(!1),o=D.useMemo(()=>e?.user_metadata?.name||"",[e]),l=e?.email||"",[u,d]=D.useState(o),[f,m]=D.useState(l),[y,g]=D.useState(""),[k,_]=D.useState(""),[N,E]=D.useState(""),[T,P]=D.useState(!1),[R,M]=D.useState(!1),[Q,K]=D.useState(!1),[G,H]=D.useState(!1);D.useEffect(()=>{i&&(d(o),m(l),g(""),_(""),E(""))},[i,o,l]);const oe=async Y=>{if(Y.preventDefault(),!!e){P(!0);try{if(u!==o){const{error:be}=await Fi.auth.updateUser({data:{name:u}});if(be)throw be;n({title:"Profilo aggiornato",description:"Le modifiche sono state salvate."}),a(!1)}else n({title:"Nessuna modifica",description:"Non sono state apportate modifiche al profilo."}),a(!1)}catch(be){n({title:"Errore aggiornamento",description:be?.message||"Impossibile aggiornare il profilo",variant:"destructive"})}finally{P(!1)}}},z=async Y=>{if(Y.preventDefault(),!f||f===l){n({title:"Nessuna modifica",description:"Inserisci una nuova email diversa da quella attuale",variant:"default"});return}if(f!==y){n({title:"Errore",description:"Le email non corrispondono",variant:"destructive"});return}M(!0);try{const be=l5.NEXT_PUBLIC_SITE_URL||window.location.origin,{error:he}=await Fi.auth.updateUser({email:f},{emailRedirectTo:be});if(he)throw he;n({title:"Email di verifica inviata",description:"Controlla la tua email per confermare il cambio."}),a(!1)}catch(be){n({title:"Errore",description:be?.message||"Impossibile aggiornare email",variant:"destructive"})}finally{M(!1),g("")}},U=async Y=>{if(Y.preventDefault(),!e?.email){n({title:"Errore",description:"Email utente non disponibile",variant:"destructive"});return}K(!0);try{const be=l5.NEXT_PUBLIC_SITE_URL||window.location.origin,{error:he}=await Fi.auth.resetPasswordForEmail(e.email,{redirectTo:`${be}/reset-password`});if(he)throw he;n({title:"Email inviata",description:"Controlla la tua email per reimpostare la password."}),a(!1)}catch(be){n({title:"Errore",description:be?.message||"Impossibile inviare email di reset",variant:"destructive"})}finally{K(!1)}},W=async Y=>{if(Y.preventDefault(),!e){n({title:"Errore",description:"Utente non disponibile",variant:"destructive"});return}if(k!==e.email){n({title:"Errore",description:"Inserisci la tua email per confermare l'eliminazione",variant:"destructive"});return}if(N!=="ELIMINA"){n({title:"Errore",description:`Scrivi "ELIMINA" per confermare l'eliminazione definitiva`,variant:"destructive"});return}H(!0);try{const{error:be}=await Fi.rpc("delete_user");if(be)throw be;await r(),n({title:"Account eliminato",description:"Il tuo account è stato eliminato con successo."}),a(!1)}catch(be){n({title:"Errore",description:be?.message||"Impossibile eliminare l'account",variant:"destructive"})}finally{H(!1),_(""),E("")}};return h.jsxs(Fs,{open:i,onOpenChange:a,children:[h.jsx(Zg,{asChild:!0,children:t}),h.jsxs(hs,{className:"max-w-md mx-auto max-h-[90vh] overflow-y-auto",onInteractOutside:Y=>Y.preventDefault(),children:[h.jsxs(ps,{children:[h.jsx(ms,{children:"Il tuo profilo"}),h.jsx(Of,{children:"Gestisci le tue informazioni personali"})]}),h.jsxs("form",{onSubmit:oe,className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(wf,{htmlFor:"name",children:"Nome"}),h.jsx(Ir,{id:"name",value:u,onChange:Y=>d(Y.target.value)})]}),h.jsx(bl,{children:h.jsx(ht,{type:"submit",disabled:T,children:T?"Salvataggio...":"Salva"})})]}),h.jsx("hr",{className:"my-3 border-gray-200 dark:border-gray-800"}),h.jsxs("form",{onSubmit:z,className:"space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(wf,{htmlFor:"email",children:"Email"}),h.jsx(Ir,{id:"email",type:"email",value:f,onChange:Y=>m(Y.target.value)}),h.jsx(wf,{htmlFor:"confirmEmail",children:"Conferma Email"}),h.jsx(Ir,{id:"confirmEmail",type:"email",value:y,onChange:Y=>g(Y.target.value)}),h.jsx("p",{className:"text-xs text-gray-500",children:"Riceverai un'email di verifica per confermare il cambio."})]}),h.jsx(bl,{children:h.jsx(ht,{type:"submit",variant:"secondary",disabled:R||f===l||!f||!y,children:R?"Invio email...":"Cambia email"})})]}),h.jsx("hr",{className:"my-4 border-gray-200 dark:border-gray-800"}),h.jsxs("form",{onSubmit:U,className:"space-y-3",children:[h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Riceverai un'email con le istruzioni per reimpostare la password."}),h.jsx(bl,{children:h.jsx(ht,{type:"submit",variant:"secondary",disabled:Q,children:Q?"Invio email...":"Reimposta password"})})]}),h.jsx("hr",{className:"my-4 border-gray-200 dark:border-gray-800"}),h.jsxs("form",{onSubmit:W,className:"space-y-3",children:[h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Elimina definitivamente il tuo account e tutti i dati associati. Per confermare, inserisci la tua email: ",e?.email]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ir,{type:"email",value:k,onChange:Y=>_(Y.target.value),placeholder:"Inserisci la tua email per confermare"}),h.jsx(Ir,{type:"text",value:N,onChange:Y=>E(Y.target.value),placeholder:'Scrivi "ELIMINA" per confermare'})]}),h.jsx(bl,{children:h.jsx(ht,{type:"submit",variant:"destructive",disabled:G||!k||!N,children:G?"Eliminazione...":"Elimina account"})})]})]})]})}const x8=[{path:"/",icon:nN,label:"Home"},{path:"/workouts",icon:Kh,label:"Schede"},{path:"/clients",icon:Tf,label:"Clienti"},{path:"/exercise-glossary",icon:$g,label:"Glossario"},{path:"/settings",icon:Z1,label:"Impostazioni"}];function w8(){const{theme:t,toggleTheme:e}=eL(),{toast:r}=gs(),[n]=Fg(),{user:i,signOut:a}=Fu(),o=async()=>{try{await yn.exportToJSON(),yn.setLastBackupDate(),r({title:"Backup completato",description:"I dati sono stati esportati con successo"})}catch{r({title:"Errore",description:"Impossibile completare il backup",variant:"destructive"})}};return h.jsx("header",{className:"sticky top-0 z-50 bg-white dark:bg-gray-900 md:glass-effect border-b border-gray-100 dark:border-gray-800 md:border-none",children:h.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-8 lg:px-12",children:h.jsxs("div",{className:"flex items-center justify-between py-3 md:py-8",children:[h.jsx(So,{href:"/",children:h.jsx("div",{className:"flex items-center space-x-5 cursor-pointer hover:opacity-80 transition-opacity",style:{minHeight:"28px",minWidth:"120px",flexShrink:0},children:h.jsx("img",{src:hO,alt:"Logo",className:"w-12 h-12 md:w-20 md:h-20 lg:w-28 lg:h-28 object-contain"})})}),h.jsxs("nav",{className:"hidden md:flex flex-wrap items-center gap-4 md:ml-auto md:mr-6",children:[x8.map(({path:l,icon:u,label:d})=>{const f=n===l;return h.jsx(So,{href:l,children:h.jsxs(ht,{variant:"ghost",className:hr("flex items-center space-x-2 px-4 py-2 transition-all duration-200 text-base min-w-[120px] h-10",f?"bg-indigo-500/20 text-indigo-600 dark:text-indigo-400 shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-white/20 dark:hover:bg-black/20"),children:[h.jsx(u,{size:20}),h.jsx("span",{className:"font-medium",children:d})]})},l)}),i?h.jsxs("div",{className:"hidden md:flex items-center gap-2 ml-4",children:[h.jsx(c5,{trigger:h.jsxs(ht,{type:"button",variant:"outline",className:"gap-2 rounded-full border-gray-300 dark:border-gray-700 px-4 py-2 text-sm h-10",children:[h.jsx(Jh,{size:16}),"Profilo"]})}),h.jsxs(ht,{type:"button",variant:"outline",className:"rounded-full border-gray-300 dark:border-gray-700 px-4 py-2 text-sm h-10",onClick:async()=>{await a(),r({title:"Sei uscito",description:"Logout effettuato con successo"})},children:[h.jsx(ow,{size:16}),"Esci"]})]}):h.jsx("div",{className:"hidden md:flex ml-4",children:h.jsx(Zy,{trigger:h.jsx(ht,{type:"button",variant:"outline",className:"rounded-full border-gray-300 dark:border-gray-700 px-4 py-2 text-sm h-10",children:"Login"})})})]}),h.jsxs("div",{className:"flex items-center space-x-1 md:space-x-3 md:ml-6",children:[h.jsx(ht,{variant:"ghost",size:"icon",onClick:e,className:"glass-effect hover:bg-white/20 dark:hover:bg-black/20 w-9 h-9 md:w-12 md:h-12",children:t==="light"?h.jsx(jI,{className:"text-yellow-500",size:20}):h.jsx(EI,{className:"text-indigo-400",size:20})}),h.jsx(ht,{variant:"ghost",size:"icon",onClick:o,className:"glass-effect hover:bg-white/20 dark:hover:bg-black/20 w-9 h-9 md:w-12 md:h-12",children:h.jsx(yI,{className:"text-indigo-500",size:20})}),i?h.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[h.jsx(c5,{trigger:h.jsxs(ht,{size:"sm",className:"gap-1 rounded-full bg-indigo-600 hover:bg-indigo-700 text-white text-xs px-3 py-2",children:[h.jsx(Jh,{size:16}),"Profilo"]})}),h.jsxs(ht,{size:"sm",className:"rounded-full bg-gray-800 hover:bg-gray-900 text-white text-xs px-3 py-2",onClick:a,children:[h.jsx(ow,{size:16}),"Esci"]})]}):h.jsx("div",{className:"md:hidden",children:h.jsx(Zy,{trigger:h.jsx(ht,{size:"sm",className:"rounded-full bg-indigo-600 hover:bg-indigo-700 text-white text-xs px-3 py-2",children:"Login"})})})]})]})})})}const S8=[{path:"/",icon:nN,label:"Home"},{path:"/workouts",icon:Kh,label:"Schede"},{path:"/clients",icon:Tf,label:"Clienti"},{path:"/exercise-glossary",icon:$g,label:"Glossario"},{path:"/settings",icon:Z1,label:"Impostazioni"}];function _8(){const[t]=Fg();return h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 md:hidden z-30 py-4",children:h.jsx("div",{className:"flex items-center justify-around py-2 px-4",children:S8.map(({path:e,icon:r,label:n})=>{const i=t===e;return h.jsx(So,{href:e,children:h.jsxs("button",{className:hr("flex flex-col items-center py-2 px-3 transition-colors min-w-[60px]",i?"text-indigo-500":"text-gray-500 dark:text-gray-400"),children:[h.jsx(r,{size:18,className:"mb-1"}),h.jsx("span",{className:"text-xs",children:n})]})},e)})})})}const xa=D.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:hr("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));xa.displayName="Card";const wl=D.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:hr("flex flex-col space-y-1.5 p-6",t),...e}));wl.displayName="CardHeader";const Sl=D.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:hr("text-2xl font-semibold leading-none tracking-tight",t),...e}));Sl.displayName="CardTitle";const k8=D.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:hr("text-sm text-muted-foreground",t),...e}));k8.displayName="CardDescription";const wa=D.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:hr("p-6 pt-0",t),...e}));wa.displayName="CardContent";const N8=D.forwardRef(({className:t,...e},r)=>h.jsx("div",{ref:r,className:hr("flex items-center p-6 pt-0",t),...e}));N8.displayName="CardFooter";function Xg(){return Mg({queryKey:["workouts"],queryFn:()=>qn.getAllWorkouts()})}function C8(t){return Mg({queryKey:["workouts",t],queryFn:()=>qn.getWorkout(t),enabled:!!t})}function KC(){const t=tc();return Lu({mutationFn:e=>qn.createWorkout(e),onSuccess:()=>{t.invalidateQueries({queryKey:["workouts"]})}})}function Ab(){const t=tc();return Lu({mutationFn:({id:e,updates:r})=>qn.updateWorkout(e,r),onSuccess:(e,{id:r})=>{t.removeQueries({queryKey:["workouts"]}),t.removeQueries({queryKey:["workouts",r]}),t.refetchQueries({queryKey:["workouts"]}),t.refetchQueries({queryKey:["workouts",r]})}})}function A8(){const t=tc();return Lu({mutationFn:e=>qn.deleteWorkout(e),onSuccess:()=>{t.invalidateQueries({queryKey:["workouts"]})}})}function Eb(){return Mg({queryKey:["clients"],queryFn:()=>qn.getAllClients()})}function E8(){const t=tc();return Lu({mutationFn:e=>qn.createClient(e),onSuccess:()=>{t.invalidateQueries({queryKey:["clients"]})}})}function P8(){const t=tc();return Lu({mutationFn:({id:e,updates:r})=>qn.updateClient(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["clients"]})}})}function j8(){const t=tc();return Lu({mutationFn:e=>qn.deleteClient(e),onSuccess:()=>{t.invalidateQueries({queryKey:["clients"]})}})}function bp(){return Mg({queryKey:["coach-profile"],queryFn:async()=>await qn.getCoachProfile()||null})}function I8(){const t=tc();return Lu({mutationFn:e=>qn.createCoachProfile(e),onSuccess:()=>{t.invalidateQueries({queryKey:["coach-profile"]})}})}function T8(){const t=tc();return Lu({mutationFn:({id:e,updates:r})=>qn.updateCoachProfile(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["coach-profile"]})}})}function D8(){const{data:t=[]}=Xg(),{data:e=[]}=Eb(),r=t.length,n=e.length,i=parseInt(localStorage.getItem("exportedPDFs")||"0"),a=[{title:"Schede Attive",value:r,icon:II,gradient:"from-emerald-400 to-teal-500"},{title:"Clienti Totali",value:n,icon:Tf,gradient:"from-blue-400 to-indigo-500"},{title:"PDF Esportati",value:i,icon:Lc,gradient:"from-orange-400 to-red-500"}];return h.jsx("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:a.map((o,l)=>h.jsx("div",{className:"glass-effect rounded-2xl p-6 hover:scale-105 transition-transform duration-300 animate-fade-in",style:{animationDelay:`${l*.1}s`},children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.title}),h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.value})]}),h.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${o.gradient} rounded-xl flex items-center justify-center`,children:h.jsx(o.icon,{className:"text-white",size:24})})]})},o.title))})}function Ra(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function L8(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const wm=43200,u5=1440;let R8={};function YC(){return R8}function d5(t,e){const r=YC(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ra(t),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function f5(t){const e=Ra(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function $m(t,e){const r=Ra(t),n=Ra(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function O8(t){return L8(t,Date.now())}function F8(t,e){const r=Ra(t),n=Ra(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function M8(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function B8(t,e){return+Ra(t)-+Ra(e)}function z8(t){const e=Ra(t);return e.setHours(23,59,59,999),e}function U8(t){const e=Ra(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function $8(t){const e=Ra(t);return+z8(e)==+U8(e)}function q8(t,e){const r=Ra(t),n=Ra(e),i=$m(r,n),a=Math.abs(F8(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let l=$m(r,n)===-i;$8(Ra(t))&&a===1&&$m(t,n)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function W8(t,e,r){const n=B8(t,e)/1e3;return M8(r?.roundingMethod)(n)}const V8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H8=(t,e,r)=>{let n;const i=V8[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Sf(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const G8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},K8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Y8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},J8={date:Sf({formats:G8,defaultWidth:"full"}),time:Sf({formats:K8,defaultWidth:"full"}),dateTime:Sf({formats:Y8,defaultWidth:"full"})},Q8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Z8=(t,e,r,n)=>Q8[t];function Gl(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r?.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r?.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const X8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aF=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sF={ordinalNumber:aF,era:Gl({values:X8,defaultWidth:"wide"}),quarter:Gl({values:eF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gl({values:tF,defaultWidth:"wide"}),day:Gl({values:rF,defaultWidth:"wide"}),dayPeriod:Gl({values:nF,defaultWidth:"wide",formattingValues:iF,defaultFormattingWidth:"wide"})};function Kl(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?lF(l,m=>m.test(o)):oF(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(u):u,d=r.valueCallback?r.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function oF(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function lF(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function JC(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const cF=/^(\d+)(th|st|nd|rd)?/i,uF=/\d+/i,dF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fF={any:[/^b/i,/^(a|c)/i]},hF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pF={any:[/1/i,/2/i,/3/i,/4/i]},mF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yF={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wF={ordinalNumber:JC({matchPattern:cF,parsePattern:uF,valueCallback:t=>parseInt(t,10)}),era:Kl({matchPatterns:dF,defaultMatchWidth:"wide",parsePatterns:fF,defaultParseWidth:"any"}),quarter:Kl({matchPatterns:hF,defaultMatchWidth:"wide",parsePatterns:pF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Kl({matchPatterns:mF,defaultMatchWidth:"wide",parsePatterns:gF,defaultParseWidth:"any"}),day:Kl({matchPatterns:vF,defaultMatchWidth:"wide",parsePatterns:yF,defaultParseWidth:"any"}),dayPeriod:Kl({matchPatterns:bF,defaultMatchWidth:"any",parsePatterns:xF,defaultParseWidth:"any"})},SF={code:"en-US",formatDistance:H8,formatLong:J8,formatRelative:Z8,localize:sF,match:wF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _F(t,e,r){const n=YC(),i=r?.locale??n.locale??SF,a=2520,o=$m(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let u,d;o>0?(u=Ra(e),d=Ra(t)):(u=Ra(t),d=Ra(e));const f=W8(d,u),m=(f5(d)-f5(u))/1e3,y=Math.round((f-m)/60);let g;if(y<2)return r?.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,l):f<10?i.formatDistance("lessThanXSeconds",10,l):f<20?i.formatDistance("lessThanXSeconds",20,l):f<40?i.formatDistance("halfAMinute",0,l):f<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):y===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",y,l);if(y<45)return i.formatDistance("xMinutes",y,l);if(y<90)return i.formatDistance("aboutXHours",1,l);if(y<u5){const k=Math.round(y/60);return i.formatDistance("aboutXHours",k,l)}else{if(y<a)return i.formatDistance("xDays",1,l);if(y<wm){const k=Math.round(y/u5);return i.formatDistance("xDays",k,l)}else if(y<wm*2)return g=Math.round(y/wm),i.formatDistance("aboutXMonths",g,l)}if(g=q8(d,u),g<12){const k=Math.round(y/wm);return i.formatDistance("xMonths",k,l)}else{const k=g%12,_=Math.trunc(g/12);return k<3?i.formatDistance("aboutXYears",_,l):k<9?i.formatDistance("overXYears",_,l):i.formatDistance("almostXYears",_+1,l)}}function Pb(t,e){return _F(t,O8(t),e)}function h5(t,e,r){const n=d5(t,r),i=d5(e,r);return+n==+i}const kF={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"più di un anno",other:"più di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},NF=(t,e,r)=>{let n;const i=kF[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"tra "+n:n+" fa":n},CF={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},AF={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},EF={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},PF={date:Sf({formats:CF,defaultWidth:"full"}),time:Sf({formats:AF,defaultWidth:"full"}),dateTime:Sf({formats:EF,defaultWidth:"full"})},jb=["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"];function jF(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+jb[t]+" scorso alle' p"}}function p5(t){return"'"+jb[t]+" alle' p"}function IF(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+jb[t]+" prossimo alle' p"}}const TF={lastWeek:(t,e,r)=>{const n=t.getDay();return h5(t,e,r)?p5(n):jF(n)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(t,e,r)=>{const n=t.getDay();return h5(t,e,r)?p5(n):IF(n)},other:"P"},DF=(t,e,r,n)=>{const i=TF[t];return typeof i=="function"?i(e,r,n):i},LF={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},RF={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},OF={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},FF={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"]},MF={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},BF={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},zF=(t,e)=>{const r=Number(t);return String(r)},UF={ordinalNumber:zF,era:Gl({values:LF,defaultWidth:"wide"}),quarter:Gl({values:RF,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Gl({values:OF,defaultWidth:"wide"}),day:Gl({values:FF,defaultWidth:"wide"}),dayPeriod:Gl({values:MF,defaultWidth:"wide",formattingValues:BF,defaultFormattingWidth:"wide"})},$F=/^(\d+)(º)?/i,qF=/\d+/i,WF={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},VF={any:[/^a/i,/^(d|e)/i]},HF={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234](º)? trimestre/i},GF={any:[/1/i,/2/i,/3/i,/4/i]},KF={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},YF={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},JF={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|ì]|marted[i|ì]|mercoled[i|ì]|gioved[i|ì]|venerd[i|ì]|sabato)/i},QF={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},ZF={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},XF={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},e7={ordinalNumber:JC({matchPattern:$F,parsePattern:qF,valueCallback:t=>parseInt(t,10)}),era:Kl({matchPatterns:WF,defaultMatchWidth:"wide",parsePatterns:VF,defaultParseWidth:"any"}),quarter:Kl({matchPatterns:HF,defaultMatchWidth:"wide",parsePatterns:GF,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Kl({matchPatterns:KF,defaultMatchWidth:"wide",parsePatterns:YF,defaultParseWidth:"any"}),day:Kl({matchPatterns:JF,defaultMatchWidth:"wide",parsePatterns:QF,defaultParseWidth:"any"}),dayPeriod:Kl({matchPatterns:ZF,defaultMatchWidth:"any",parsePatterns:XF,defaultParseWidth:"any"})},Ib={code:"it",formatDistance:NF,formatLong:PF,formatRelative:DF,localize:UF,match:e7,options:{weekStartsOn:1,firstWeekContainsDate:4}};var xp=t=>t.type==="checkbox",dd=t=>t instanceof Date,Rs=t=>t==null;const QC=t=>typeof t=="object";var Ui=t=>!Rs(t)&&!Array.isArray(t)&&QC(t)&&!dd(t),ZC=t=>Ui(t)&&t.target?xp(t.target)?t.target.checked:t.target.value:t,t7=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,XC=(t,e)=>t.has(t7(e)),r7=t=>{const e=t.constructor&&t.constructor.prototype;return Ui(e)&&e.hasOwnProperty("isPrototypeOf")},Tb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function va(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Tb&&(t instanceof Blob||n))&&(r||Ui(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!r7(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=va(t[i]));else return t;return e}var ev=t=>/^\w*$/.test(t),Oi=t=>t===void 0,Db=t=>Array.isArray(t)?t.filter(Boolean):[],Lb=t=>Db(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Rt=(t,e,r)=>{if(!e||!Ui(t))return r;const n=(ev(e)?[e]:Lb(e)).reduce((i,a)=>Rs(i)?i:i[a],t);return Oi(n)||n===t?Oi(t[e])?r:t[e]:n},xo=t=>typeof t=="boolean",Pn=(t,e,r)=>{let n=-1;const i=ev(e)?[e]:Lb(e),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let u=r;if(n!==o){const d=t[l];u=Ui(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}};const dg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Nc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rb=Wt.createContext(null);Rb.displayName="HookFormContext";const tv=()=>Wt.useContext(Rb),n7=t=>{const{children:e,...r}=t;return Wt.createElement(Rb.Provider,{value:r},e)};var e4=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==vl.all&&(e._proxyFormState[o]=!n||vl.all),r&&(r[o]=!0),t[o]}});return i};const Ob=typeof window<"u"?Wt.useLayoutEffect:Wt.useEffect;function i7(t){const e=tv(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[o,l]=Wt.useState(r._formState),u=Wt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ob(()=>r._subscribe({name:i,formState:u.current,exact:a,callback:d=>{!n&&l({...r._formState,...d})}}),[i,n,a]),Wt.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),Wt.useMemo(()=>e4(o,r,u.current,!1),[o,r])}var Jl=t=>typeof t=="string",t4=(t,e,r,n,i)=>Jl(t)?(n&&e.watch.add(t),Rt(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Rt(r,a))):(n&&(e.watchAll=!0),r),Xy=t=>Rs(t)||!QC(t);function Ic(t,e,r=new WeakSet){if(Xy(t)||Xy(e))return t===e;if(dd(t)&&dd(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const o=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=e[a];if(dd(o)&&dd(l)||Ui(o)&&Ui(l)||Array.isArray(o)&&Array.isArray(l)?!Ic(o,l,r):o!==l)return!1}}return!0}function a7(t){const e=tv(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:o,compute:l}=t||{},u=Wt.useRef(i),d=Wt.useRef(l),f=Wt.useRef(void 0);d.current=l;const m=Wt.useMemo(()=>r._getWatch(n,u.current),[r,n]),[y,g]=Wt.useState(d.current?d.current(m):m);return Ob(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:k=>{if(!a){const _=t4(n,r._names,k.values||r._formValues,!1,u.current);if(d.current){const N=d.current(_);Ic(N,f.current)||(g(N),f.current=N)}else g(_)}}}),[r,a,n,o]),Wt.useEffect(()=>r._removeUnmounted()),y}function s7(t){const e=tv(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a,defaultValue:o}=t,l=XC(i._names.array,r),u=Wt.useMemo(()=>Rt(i._formValues,r,Rt(i._defaultValues,r,o)),[i,r,o]),d=a7({control:i,name:r,defaultValue:u,exact:!0}),f=i7({control:i,name:r,exact:!0}),m=Wt.useRef(t),y=Wt.useRef(i.register(r,{...t.rules,value:d,...xo(t.disabled)?{disabled:t.disabled}:{}}));m.current=t;const g=Wt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Rt(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!Rt(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Rt(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Rt(f.validatingFields,r)},error:{enumerable:!0,get:()=>Rt(f.errors,r)}}),[f,r]),k=Wt.useCallback(T=>y.current.onChange({target:{value:ZC(T),name:r},type:dg.CHANGE}),[r]),_=Wt.useCallback(()=>y.current.onBlur({target:{value:Rt(i._formValues,r),name:r},type:dg.BLUR}),[r,i._formValues]),N=Wt.useCallback(T=>{const P=Rt(i._fields,r);P&&T&&(P._f.ref={focus:()=>T.focus&&T.focus(),select:()=>T.select&&T.select(),setCustomValidity:R=>T.setCustomValidity(R),reportValidity:()=>T.reportValidity()})},[i._fields,r]),E=Wt.useMemo(()=>({name:r,value:d,...xo(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:k,onBlur:_,ref:N}),[r,n,f.disabled,k,_,N,d]);return Wt.useEffect(()=>{const T=i._options.shouldUnregister||a;i.register(r,{...m.current.rules,...xo(m.current.disabled)?{disabled:m.current.disabled}:{}});const P=(R,M)=>{const Q=Rt(i._fields,R);Q&&Q._f&&(Q._f.mount=M)};if(P(r,!0),T){const R=va(Rt(i._options.defaultValues,r));Pn(i._defaultValues,r,R),Oi(Rt(i._formValues,r))&&Pn(i._formValues,r,R)}return!l&&i.register(r),()=>{(l?T&&!i._state.action:T)?i.unregister(r):P(r,!1)}},[r,i,l,a]),Wt.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Wt.useMemo(()=>({field:E,formState:f,fieldState:g}),[E,f,g])}const o7=t=>t.render(s7(t));var r4=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Oh=t=>Array.isArray(t)?t:[t],m5=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},to=t=>Ui(t)&&!Object.keys(t).length,Fb=t=>t.type==="file",yl=t=>typeof t=="function",fg=t=>{if(!Tb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},n4=t=>t.type==="select-multiple",Mb=t=>t.type==="radio",l7=t=>Mb(t)||xp(t),R0=t=>fg(t)&&t.isConnected;function c7(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Oi(t)?n++:t[e[n++]];return t}function u7(t){for(const e in t)if(t.hasOwnProperty(e)&&!Oi(t[e]))return!1;return!0}function ta(t,e){const r=Array.isArray(e)?e:ev(e)?[e]:Lb(e),n=r.length===1?t:c7(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Ui(n)&&to(n)||Array.isArray(n)&&u7(n))&&ta(t,r.slice(0,-1)),t}var i4=t=>{for(const e in t)if(yl(t[e]))return!0;return!1};function hg(t,e={}){const r=Array.isArray(t);if(Ui(t)||r)for(const n in t)Array.isArray(t[n])||Ui(t[n])&&!i4(t[n])?(e[n]=Array.isArray(t[n])?[]:{},hg(t[n],e[n])):Rs(t[n])||(e[n]=!0);return e}function a4(t,e,r){const n=Array.isArray(t);if(Ui(t)||n)for(const i in t)Array.isArray(t[i])||Ui(t[i])&&!i4(t[i])?Oi(e)||Xy(r[i])?r[i]=Array.isArray(t[i])?hg(t[i],[]):{...hg(t[i])}:a4(t[i],Rs(e)?{}:e[i],r[i]):r[i]=!Ic(t[i],e[i]);return r}var Sh=(t,e)=>a4(t,e,hg(e));const g5={value:!1,isValid:!1},v5={value:!0,isValid:!0};var s4=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Oi(t[0].attributes.value)?Oi(t[0].value)||t[0].value===""?v5:{value:t[0].value,isValid:!0}:v5:g5}return g5},o4=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Oi(t)?t:e?t===""?NaN:t&&+t:r&&Jl(t)?new Date(t):n?n(t):t;const y5={isValid:!1,value:null};var l4=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,y5):y5;function b5(t){const e=t.ref;return Fb(e)?e.files:Mb(e)?l4(t.refs).value:n4(e)?[...e.selectedOptions].map(({value:r})=>r):xp(e)?s4(t.refs).value:o4(Oi(e.value)?t.ref.value:e.value,t)}var d7=(t,e,r,n)=>{const i={};for(const a of t){const o=Rt(e,a);o&&Pn(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},pg=t=>t instanceof RegExp,_h=t=>Oi(t)?t:pg(t)?t.source:Ui(t)?pg(t.value)?t.value.source:t.value:t,x5=t=>({isOnSubmit:!t||t===vl.onSubmit,isOnBlur:t===vl.onBlur,isOnChange:t===vl.onChange,isOnAll:t===vl.all,isOnTouch:t===vl.onTouched});const w5="AsyncFunction";var f7=t=>!!t&&!!t.validate&&!!(yl(t.validate)&&t.validate.constructor.name===w5||Ui(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===w5)),h7=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),S5=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Fh=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=Rt(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Fh(l,e))break}else if(Ui(l)&&Fh(l,e))break}}};function _5(t,e,r){const n=Rt(t,r);if(n||ev(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=Rt(e,a),l=Rt(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:r}}var p7=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return to(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||vl.all))},m7=(t,e,r)=>!t||!e||t===e||Oh(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),g7=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,v7=(t,e)=>!Db(Rt(t,e)).length&&ta(t,e),y7=(t,e,r)=>{const n=Oh(Rt(t,r));return Pn(n,"root",e[r]),Pn(t,r,n),t},qm=t=>Jl(t);function k5(t,e,r="validate"){if(qm(t)||Array.isArray(t)&&t.every(qm)||xo(t)&&!t)return{type:r,message:qm(t)?t:"",ref:e}}var of=t=>Ui(t)&&!pg(t)?t:{value:t,message:""},N5=async(t,e,r,n,i,a)=>{const{ref:o,refs:l,required:u,maxLength:d,minLength:f,min:m,max:y,pattern:g,validate:k,name:_,valueAsNumber:N,mount:E}=t._f,T=Rt(r,_);if(!E||e.has(_))return{};const P=l?l[0]:o,R=U=>{i&&P.reportValidity&&(P.setCustomValidity(xo(U)?"":U||""),P.reportValidity())},M={},Q=Mb(o),K=xp(o),G=Q||K,H=(N||Fb(o))&&Oi(o.value)&&Oi(T)||fg(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,oe=r4.bind(null,_,n,M),z=(U,W,Y,be=Nc.maxLength,he=Nc.minLength)=>{const ge=U?W:Y;M[_]={type:U?be:he,message:ge,ref:o,...oe(U?be:he,ge)}};if(a?!Array.isArray(T)||!T.length:u&&(!G&&(H||Rs(T))||xo(T)&&!T||K&&!s4(l).isValid||Q&&!l4(l).isValid)){const{value:U,message:W}=qm(u)?{value:!!u,message:u}:of(u);if(U&&(M[_]={type:Nc.required,message:W,ref:P,...oe(Nc.required,W)},!n))return R(W),M}if(!H&&(!Rs(m)||!Rs(y))){let U,W;const Y=of(y),be=of(m);if(!Rs(T)&&!isNaN(T)){const he=o.valueAsNumber||T&&+T;Rs(Y.value)||(U=he>Y.value),Rs(be.value)||(W=he<be.value)}else{const he=o.valueAsDate||new Date(T),ge=_e=>new Date(new Date().toDateString()+" "+_e),ie=o.type=="time",ve=o.type=="week";Jl(Y.value)&&T&&(U=ie?ge(T)>ge(Y.value):ve?T>Y.value:he>new Date(Y.value)),Jl(be.value)&&T&&(W=ie?ge(T)<ge(be.value):ve?T<be.value:he<new Date(be.value))}if((U||W)&&(z(!!U,Y.message,be.message,Nc.max,Nc.min),!n))return R(M[_].message),M}if((d||f)&&!H&&(Jl(T)||a&&Array.isArray(T))){const U=of(d),W=of(f),Y=!Rs(U.value)&&T.length>+U.value,be=!Rs(W.value)&&T.length<+W.value;if((Y||be)&&(z(Y,U.message,W.message),!n))return R(M[_].message),M}if(g&&!H&&Jl(T)){const{value:U,message:W}=of(g);if(pg(U)&&!T.match(U)&&(M[_]={type:Nc.pattern,message:W,ref:o,...oe(Nc.pattern,W)},!n))return R(W),M}if(k){if(yl(k)){const U=await k(T,r),W=k5(U,P);if(W&&(M[_]={...W,...oe(Nc.validate,W.message)},!n))return R(W.message),M}else if(Ui(k)){let U={};for(const W in k){if(!to(U)&&!n)break;const Y=k5(await k[W](T,r),P,W);Y&&(U={...Y,...oe(W,Y.message)},R(Y.message),n&&(M[_]=U))}if(!to(U)&&(M[_]={ref:P,...U},!n))return M}}return R(!0),M};const b7={mode:vl.onSubmit,reValidateMode:vl.onChange,shouldFocusError:!0};function x7(t={}){let e={...b7,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:yl(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Ui(e.defaultValues)||Ui(e.values)?va(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:va(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const y={array:m5(),state:m5()},g=e.criteriaMode===vl.all,k=pe=>Ce=>{clearTimeout(d),d=setTimeout(pe,Ce)},_=async pe=>{if(!e.disabled&&(f.isValid||m.isValid||pe)){const Ce=e.resolver?to((await K()).errors):await H(n,!0);Ce!==r.isValid&&y.state.next({isValid:Ce})}},N=(pe,Ce)=>{!e.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((pe||Array.from(l.mount)).forEach(We=>{We&&(Ce?Pn(r.validatingFields,We,Ce):ta(r.validatingFields,We))}),y.state.next({validatingFields:r.validatingFields,isValidating:!to(r.validatingFields)}))},E=(pe,Ce=[],We,at,dt=!0,tt=!0)=>{if(at&&We&&!e.disabled){if(o.action=!0,tt&&Array.isArray(Rt(n,pe))){const mt=We(Rt(n,pe),at.argA,at.argB);dt&&Pn(n,pe,mt)}if(tt&&Array.isArray(Rt(r.errors,pe))){const mt=We(Rt(r.errors,pe),at.argA,at.argB);dt&&Pn(r.errors,pe,mt),v7(r.errors,pe)}if((f.touchedFields||m.touchedFields)&&tt&&Array.isArray(Rt(r.touchedFields,pe))){const mt=We(Rt(r.touchedFields,pe),at.argA,at.argB);dt&&Pn(r.touchedFields,pe,mt)}(f.dirtyFields||m.dirtyFields)&&(r.dirtyFields=Sh(i,a)),y.state.next({name:pe,isDirty:z(pe,Ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Pn(a,pe,Ce)},T=(pe,Ce)=>{Pn(r.errors,pe,Ce),y.state.next({errors:r.errors})},P=pe=>{r.errors=pe,y.state.next({errors:r.errors,isValid:!1})},R=(pe,Ce,We,at)=>{const dt=Rt(n,pe);if(dt){const tt=Rt(a,pe,Oi(We)?Rt(i,pe):We);Oi(tt)||at&&at.defaultChecked||Ce?Pn(a,pe,Ce?tt:b5(dt._f)):Y(pe,tt),o.mount&&_()}},M=(pe,Ce,We,at,dt)=>{let tt=!1,mt=!1;const Mt={name:pe};if(!e.disabled){if(!We||at){(f.isDirty||m.isDirty)&&(mt=r.isDirty,r.isDirty=Mt.isDirty=z(),tt=mt!==Mt.isDirty);const Tt=Ic(Rt(i,pe),Ce);mt=!!Rt(r.dirtyFields,pe),Tt?ta(r.dirtyFields,pe):Pn(r.dirtyFields,pe,!0),Mt.dirtyFields=r.dirtyFields,tt=tt||(f.dirtyFields||m.dirtyFields)&&mt!==!Tt}if(We){const Tt=Rt(r.touchedFields,pe);Tt||(Pn(r.touchedFields,pe,We),Mt.touchedFields=r.touchedFields,tt=tt||(f.touchedFields||m.touchedFields)&&Tt!==We)}tt&&dt&&y.state.next(Mt)}return tt?Mt:{}},Q=(pe,Ce,We,at)=>{const dt=Rt(r.errors,pe),tt=(f.isValid||m.isValid)&&xo(Ce)&&r.isValid!==Ce;if(e.delayError&&We?(u=k(()=>T(pe,We)),u(e.delayError)):(clearTimeout(d),u=null,We?Pn(r.errors,pe,We):ta(r.errors,pe)),(We?!Ic(dt,We):dt)||!to(at)||tt){const mt={...at,...tt&&xo(Ce)?{isValid:Ce}:{},errors:r.errors,name:pe};r={...r,...mt},y.state.next(mt)}},K=async pe=>{N(pe,!0);const Ce=await e.resolver(a,e.context,d7(pe||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return N(pe),Ce},G=async pe=>{const{errors:Ce}=await K(pe);if(pe)for(const We of pe){const at=Rt(Ce,We);at?Pn(r.errors,We,at):ta(r.errors,We)}else r.errors=Ce;return Ce},H=async(pe,Ce,We={valid:!0})=>{for(const at in pe){const dt=pe[at];if(dt){const{_f:tt,...mt}=dt;if(tt){const Mt=l.array.has(tt.name),Tt=dt._f&&f7(dt._f);Tt&&f.validatingFields&&N([at],!0);const Dt=await N5(dt,l.disabled,a,g,e.shouldUseNativeValidation&&!Ce,Mt);if(Tt&&f.validatingFields&&N([at]),Dt[tt.name]&&(We.valid=!1,Ce))break;!Ce&&(Rt(Dt,tt.name)?Mt?y7(r.errors,Dt,tt.name):Pn(r.errors,tt.name,Dt[tt.name]):ta(r.errors,tt.name))}!to(mt)&&await H(mt,Ce,We)}}return We.valid},oe=()=>{for(const pe of l.unMount){const Ce=Rt(n,pe);Ce&&(Ce._f.refs?Ce._f.refs.every(We=>!R0(We)):!R0(Ce._f.ref))&&me(pe)}l.unMount=new Set},z=(pe,Ce)=>!e.disabled&&(pe&&Ce&&Pn(a,pe,Ce),!Ic(_e(),i)),U=(pe,Ce,We)=>t4(pe,l,{...o.mount?a:Oi(Ce)?i:Jl(pe)?{[pe]:Ce}:Ce},We,Ce),W=pe=>Db(Rt(o.mount?a:i,pe,e.shouldUnregister?Rt(i,pe,[]):[])),Y=(pe,Ce,We={})=>{const at=Rt(n,pe);let dt=Ce;if(at){const tt=at._f;tt&&(!tt.disabled&&Pn(a,pe,o4(Ce,tt)),dt=fg(tt.ref)&&Rs(Ce)?"":Ce,n4(tt.ref)?[...tt.ref.options].forEach(mt=>mt.selected=dt.includes(mt.value)):tt.refs?xp(tt.ref)?tt.refs.forEach(mt=>{(!mt.defaultChecked||!mt.disabled)&&(Array.isArray(dt)?mt.checked=!!dt.find(Mt=>Mt===mt.value):mt.checked=dt===mt.value||!!dt)}):tt.refs.forEach(mt=>mt.checked=mt.value===dt):Fb(tt.ref)?tt.ref.value="":(tt.ref.value=dt,tt.ref.type||y.state.next({name:pe,values:va(a)})))}(We.shouldDirty||We.shouldTouch)&&M(pe,dt,We.shouldTouch,We.shouldDirty,!0),We.shouldValidate&&ve(pe)},be=(pe,Ce,We)=>{for(const at in Ce){if(!Ce.hasOwnProperty(at))return;const dt=Ce[at],tt=pe+"."+at,mt=Rt(n,tt);(l.array.has(pe)||Ui(dt)||mt&&!mt._f)&&!dd(dt)?be(tt,dt,We):Y(tt,dt,We)}},he=(pe,Ce,We={})=>{const at=Rt(n,pe),dt=l.array.has(pe),tt=va(Ce);Pn(a,pe,tt),dt?(y.array.next({name:pe,values:va(a)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&We.shouldDirty&&y.state.next({name:pe,dirtyFields:Sh(i,a),isDirty:z(pe,tt)})):at&&!at._f&&!Rs(tt)?be(pe,tt,We):Y(pe,tt,We),S5(pe,l)&&y.state.next({...r,name:pe}),y.state.next({name:o.mount?pe:void 0,values:va(a)})},ge=async pe=>{o.mount=!0;const Ce=pe.target;let We=Ce.name,at=!0;const dt=Rt(n,We),tt=Tt=>{at=Number.isNaN(Tt)||dd(Tt)&&isNaN(Tt.getTime())||Ic(Tt,Rt(a,We,Tt))},mt=x5(e.mode),Mt=x5(e.reValidateMode);if(dt){let Tt,Dt;const Qt=Ce.type?b5(dt._f):ZC(pe),Ot=pe.type===dg.BLUR||pe.type===dg.FOCUS_OUT,Gr=!h7(dt._f)&&!e.resolver&&!Rt(r.errors,We)&&!dt._f.deps||g7(Ot,Rt(r.touchedFields,We),r.isSubmitted,Mt,mt),zr=S5(We,l,Ot);Pn(a,We,Qt),Ot?(!Ce||!Ce.readOnly)&&(dt._f.onBlur&&dt._f.onBlur(pe),u&&u(0)):dt._f.onChange&&dt._f.onChange(pe);const Ut=M(We,Qt,Ot),cr=!to(Ut)||zr;if(!Ot&&y.state.next({name:We,type:pe.type,values:va(a)}),Gr)return(f.isValid||m.isValid)&&(e.mode==="onBlur"?Ot&&_():Ot||_()),cr&&y.state.next({name:We,...zr?{}:Ut});if(!Ot&&zr&&y.state.next({...r}),e.resolver){const{errors:_t}=await K([We]);if(tt(Qt),at){const Zt=_5(r.errors,n,We),Sr=_5(_t,n,Zt.name||We);Tt=Sr.error,We=Sr.name,Dt=to(_t)}}else N([We],!0),Tt=(await N5(dt,l.disabled,a,g,e.shouldUseNativeValidation))[We],N([We]),tt(Qt),at&&(Tt?Dt=!1:(f.isValid||m.isValid)&&(Dt=await H(n,!0)));at&&(dt._f.deps&&ve(dt._f.deps),Q(We,Dt,Tt,Ut))}},ie=(pe,Ce)=>{if(Rt(r.errors,Ce)&&pe.focus)return pe.focus(),1},ve=async(pe,Ce={})=>{let We,at;const dt=Oh(pe);if(e.resolver){const tt=await G(Oi(pe)?pe:dt);We=to(tt),at=pe?!dt.some(mt=>Rt(tt,mt)):We}else pe?(at=(await Promise.all(dt.map(async tt=>{const mt=Rt(n,tt);return await H(mt&&mt._f?{[tt]:mt}:mt)}))).every(Boolean),!(!at&&!r.isValid)&&_()):at=We=await H(n);return y.state.next({...!Jl(pe)||(f.isValid||m.isValid)&&We!==r.isValid?{}:{name:pe},...e.resolver||!pe?{isValid:We}:{},errors:r.errors}),Ce.shouldFocus&&!at&&Fh(n,ie,pe?dt:l.mount),at},_e=pe=>{const Ce={...o.mount?a:i};return Oi(pe)?Ce:Jl(pe)?Rt(Ce,pe):pe.map(We=>Rt(Ce,We))},te=(pe,Ce)=>({invalid:!!Rt((Ce||r).errors,pe),isDirty:!!Rt((Ce||r).dirtyFields,pe),error:Rt((Ce||r).errors,pe),isValidating:!!Rt(r.validatingFields,pe),isTouched:!!Rt((Ce||r).touchedFields,pe)}),O=pe=>{pe&&Oh(pe).forEach(Ce=>ta(r.errors,Ce)),y.state.next({errors:pe?r.errors:{}})},ee=(pe,Ce,We)=>{const at=(Rt(n,pe,{_f:{}})._f||{}).ref,dt=Rt(r.errors,pe)||{},{ref:tt,message:mt,type:Mt,...Tt}=dt;Pn(r.errors,pe,{...Tt,...Ce,ref:at}),y.state.next({name:pe,errors:r.errors,isValid:!1}),We&&We.shouldFocus&&at&&at.focus&&at.focus()},ne=(pe,Ce)=>yl(pe)?y.state.subscribe({next:We=>"values"in We&&pe(U(void 0,Ce),We)}):U(pe,Ce,!0),le=pe=>y.state.subscribe({next:Ce=>{m7(pe.name,Ce.name,pe.exact)&&p7(Ce,pe.formState||f,lr,pe.reRenderRoot)&&pe.callback({values:{...a},...r,...Ce,defaultValues:i})}}).unsubscribe,we=pe=>(o.mount=!0,m={...m,...pe.formState},le({...pe,formState:m})),me=(pe,Ce={})=>{for(const We of pe?Oh(pe):l.mount)l.mount.delete(We),l.array.delete(We),Ce.keepValue||(ta(n,We),ta(a,We)),!Ce.keepError&&ta(r.errors,We),!Ce.keepDirty&&ta(r.dirtyFields,We),!Ce.keepTouched&&ta(r.touchedFields,We),!Ce.keepIsValidating&&ta(r.validatingFields,We),!e.shouldUnregister&&!Ce.keepDefaultValue&&ta(i,We);y.state.next({values:va(a)}),y.state.next({...r,...Ce.keepDirty?{isDirty:z()}:{}}),!Ce.keepIsValid&&_()},Ie=({disabled:pe,name:Ce})=>{(xo(pe)&&o.mount||pe||l.disabled.has(Ce))&&(pe?l.disabled.add(Ce):l.disabled.delete(Ce))},Se=(pe,Ce={})=>{let We=Rt(n,pe);const at=xo(Ce.disabled)||xo(e.disabled);return Pn(n,pe,{...We||{},_f:{...We&&We._f?We._f:{ref:{name:pe}},name:pe,mount:!0,...Ce}}),l.mount.add(pe),We?Ie({disabled:xo(Ce.disabled)?Ce.disabled:e.disabled,name:pe}):R(pe,!0,Ce.value),{...at?{disabled:Ce.disabled||e.disabled}:{},...e.progressive?{required:!!Ce.required,min:_h(Ce.min),max:_h(Ce.max),minLength:_h(Ce.minLength),maxLength:_h(Ce.maxLength),pattern:_h(Ce.pattern)}:{},name:pe,onChange:ge,onBlur:ge,ref:dt=>{if(dt){Se(pe,Ce),We=Rt(n,pe);const tt=Oi(dt.value)&&dt.querySelectorAll&&dt.querySelectorAll("input,select,textarea")[0]||dt,mt=l7(tt),Mt=We._f.refs||[];if(mt?Mt.find(Tt=>Tt===tt):tt===We._f.ref)return;Pn(n,pe,{_f:{...We._f,...mt?{refs:[...Mt.filter(R0),tt,...Array.isArray(Rt(i,pe))?[{}]:[]],ref:{type:tt.type,name:pe}}:{ref:tt}}}),R(pe,!1,void 0,tt)}else We=Rt(n,pe,{}),We._f&&(We._f.mount=!1),(e.shouldUnregister||Ce.shouldUnregister)&&!(XC(l.array,pe)&&o.action)&&l.unMount.add(pe)}}},ze=()=>e.shouldFocusError&&Fh(n,ie,l.mount),rt=pe=>{xo(pe)&&(y.state.next({disabled:pe}),Fh(n,(Ce,We)=>{const at=Rt(n,We);at&&(Ce.disabled=at._f.disabled||pe,Array.isArray(at._f.refs)&&at._f.refs.forEach(dt=>{dt.disabled=at._f.disabled||pe}))},0,!1))},it=(pe,Ce)=>async We=>{let at;We&&(We.preventDefault&&We.preventDefault(),We.persist&&We.persist());let dt=va(a);if(y.state.next({isSubmitting:!0}),e.resolver){const{errors:tt,values:mt}=await K();r.errors=tt,dt=va(mt)}else await H(n);if(l.disabled.size)for(const tt of l.disabled)ta(dt,tt);if(ta(r.errors,"root"),to(r.errors)){y.state.next({errors:{}});try{await pe(dt,We)}catch(tt){at=tt}}else Ce&&await Ce({...r.errors},We),ze(),setTimeout(ze);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:to(r.errors)&&!at,submitCount:r.submitCount+1,errors:r.errors}),at)throw at},pt=(pe,Ce={})=>{Rt(n,pe)&&(Oi(Ce.defaultValue)?he(pe,va(Rt(i,pe))):(he(pe,Ce.defaultValue),Pn(i,pe,va(Ce.defaultValue))),Ce.keepTouched||ta(r.touchedFields,pe),Ce.keepDirty||(ta(r.dirtyFields,pe),r.isDirty=Ce.defaultValue?z(pe,va(Rt(i,pe))):z()),Ce.keepError||(ta(r.errors,pe),f.isValid&&_()),y.state.next({...r}))},Je=(pe,Ce={})=>{const We=pe?va(pe):i,at=va(We),dt=to(pe),tt=dt?i:at;if(Ce.keepDefaultValues||(i=We),!Ce.keepValues){if(Ce.keepDirtyValues){const mt=new Set([...l.mount,...Object.keys(Sh(i,a))]);for(const Mt of Array.from(mt))Rt(r.dirtyFields,Mt)?Pn(tt,Mt,Rt(a,Mt)):he(Mt,Rt(tt,Mt))}else{if(Tb&&Oi(pe))for(const mt of l.mount){const Mt=Rt(n,mt);if(Mt&&Mt._f){const Tt=Array.isArray(Mt._f.refs)?Mt._f.refs[0]:Mt._f.ref;if(fg(Tt)){const Dt=Tt.closest("form");if(Dt){Dt.reset();break}}}}if(Ce.keepFieldsRef)for(const mt of l.mount)he(mt,Rt(tt,mt));else n={}}a=e.shouldUnregister?Ce.keepDefaultValues?va(i):{}:va(tt),y.array.next({values:{...tt}}),y.state.next({values:{...tt}})}l={mount:Ce.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!Ce.keepIsValid||!!Ce.keepDirtyValues,o.watch=!!e.shouldUnregister,y.state.next({submitCount:Ce.keepSubmitCount?r.submitCount:0,isDirty:dt?!1:Ce.keepDirty?r.isDirty:!!(Ce.keepDefaultValues&&!Ic(pe,i)),isSubmitted:Ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:dt?{}:Ce.keepDirtyValues?Ce.keepDefaultValues&&a?Sh(i,a):r.dirtyFields:Ce.keepDefaultValues&&pe?Sh(i,pe):Ce.keepDirty?r.dirtyFields:{},touchedFields:Ce.keepTouched?r.touchedFields:{},errors:Ce.keepErrors?r.errors:{},isSubmitSuccessful:Ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ye=(pe,Ce)=>Je(yl(pe)?pe(a):pe,Ce),br=(pe,Ce={})=>{const We=Rt(n,pe),at=We&&We._f;if(at){const dt=at.refs?at.refs[0]:at.ref;dt.focus&&(dt.focus(),Ce.shouldSelect&&yl(dt.select)&&dt.select())}},lr=pe=>{r={...r,...pe}},gt={control:{register:Se,unregister:me,getFieldState:te,handleSubmit:it,setError:ee,_subscribe:le,_runSchema:K,_focusError:ze,_getWatch:U,_getDirty:z,_setValid:_,_setFieldArray:E,_setDisabledField:Ie,_setErrors:P,_getFieldArray:W,_reset:Je,_resetDefaultValues:()=>yl(e.defaultValues)&&e.defaultValues().then(pe=>{ye(pe,e.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:oe,_disableForm:rt,_subjects:y,_proxyFormState:f,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(pe){o=pe},get _defaultValues(){return i},get _names(){return l},set _names(pe){l=pe},get _formState(){return r},get _options(){return e},set _options(pe){e={...e,...pe}}},subscribe:we,trigger:ve,register:Se,handleSubmit:it,watch:ne,setValue:he,getValues:_e,reset:ye,resetField:pt,clearErrors:O,unregister:me,setError:ee,setFocus:br,getFieldState:te};return{...gt,formControl:gt}}function Bb(t={}){const e=Wt.useRef(void 0),r=Wt.useRef(void 0),[n,i]=Wt.useState({isDirty:!1,isValidating:!1,isLoading:yl(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:yl(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!yl(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=x7(t);e.current={...l,formState:n}}const a=e.current.control;return a._options=t,Ob(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Wt.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Wt.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),Wt.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),Wt.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),Wt.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Wt.useEffect(()=>{t.values&&!Ic(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),Wt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=e4(n,a),e.current}const C5=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Rt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},c4=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?C5(n.ref,r,t):n.refs&&n.refs.forEach(i=>C5(i,r,t))}},w7=(t,e)=>{e.shouldUseNativeValidation&&c4(t,e);const r={};for(const n in t){const i=Rt(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(S7(e.names||Object.keys(t),n)){const o=Object.assign({},Rt(r,n));Pn(o,"root",a),Pn(r,n,o)}else Pn(r,n,a)}return r},S7=(t,e)=>t.some(r=>r.startsWith(e+"."));var _7=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return t.push(m)})}),e){var u=r[o].types,d=u&&u[n.code];r[o]=r4(o,e,r,i,d?[].concat(d,n.message):n.message)}t.shift()}return r},zb=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(o,l){try{var u=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return a.shouldUseNativeValidation&&c4({},a),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return u&&u.then?u.then(void 0,l):u}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:w7(_7(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const Co=D.forwardRef(({className:t,...e},r)=>h.jsx("textarea",{className:hr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));Co.displayName="Textarea";function A5(t,[e,r]){return Math.min(r,Math.max(e,t))}var k7=D.createContext(void 0);function Ub(t){const e=D.useContext(k7);return t||e||"ltr"}function $b(t){const e=D.useRef({value:t,previous:t});return D.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var N7=[" ","Enter","ArrowUp","ArrowDown"],C7=[" ","Enter"],vd="Select",[rv,nv,A7]=H1(vd),[Jf,JG]=Cl(vd,[A7,Hg]),iv=Hg(),[E7,Mu]=Jf(vd),[P7,j7]=Jf(vd),u4=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:u,dir:d,name:f,autoComplete:m,disabled:y,required:g,form:k}=t,_=iv(e),[N,E]=D.useState(null),[T,P]=D.useState(null),[R,M]=D.useState(!1),Q=Ub(d),[K,G]=Au({prop:n,defaultProp:i??!1,onChange:a,caller:vd}),[H,oe]=Au({prop:o,defaultProp:l,onChange:u,caller:vd}),z=D.useRef(null),U=N?k||!!N.closest("form"):!0,[W,Y]=D.useState(new Set),be=Array.from(W).map(he=>he.props.value).join(";");return h.jsx(RD,{..._,children:h.jsxs(E7,{required:g,scope:e,trigger:N,onTriggerChange:E,valueNode:T,onValueNodeChange:P,valueNodeHasChildren:R,onValueNodeHasChildrenChange:M,contentId:xu(),value:H,onValueChange:oe,open:K,onOpenChange:G,dir:Q,triggerPointerDownPosRef:z,disabled:y,children:[h.jsx(rv.Provider,{scope:e,children:h.jsx(P7,{scope:t.__scopeSelect,onNativeOptionAdd:D.useCallback(he=>{Y(ge=>new Set(ge).add(he))},[]),onNativeOptionRemove:D.useCallback(he=>{Y(ge=>{const ie=new Set(ge);return ie.delete(he),ie})},[]),children:r})}),U?h.jsxs(L4,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:m,value:H,onChange:he=>oe(he.target.value),disabled:y,form:k,children:[H===void 0?h.jsx("option",{value:""}):null,Array.from(W)]},be):null]})})};u4.displayName=vd;var d4="SelectTrigger",f4=D.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=iv(r),o=Mu(d4,r),l=o.disabled||n,u=gn(e,o.onTriggerChange),d=nv(r),f=D.useRef("touch"),[m,y,g]=O4(_=>{const N=d().filter(P=>!P.disabled),E=N.find(P=>P.value===o.value),T=F4(N,_,E);T!==void 0&&o.onValueChange(T.value)}),k=_=>{l||(o.onOpenChange(!0),g()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return h.jsx(ON,{asChild:!0,...a,children:h.jsx(Dr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":R4(o.value)?"":void 0,...i,ref:u,onClick:fr(i.onClick,_=>{_.currentTarget.focus(),f.current!=="mouse"&&k(_)}),onPointerDown:fr(i.onPointerDown,_=>{f.current=_.pointerType;const N=_.target;N.hasPointerCapture(_.pointerId)&&N.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(k(_),_.preventDefault())}),onKeyDown:fr(i.onKeyDown,_=>{const N=m.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&y(_.key),!(N&&_.key===" ")&&N7.includes(_.key)&&(k(),_.preventDefault())})})})});f4.displayName=d4;var h4="SelectValue",p4=D.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=t,u=Mu(h4,r),{onValueNodeHasChildrenChange:d}=u,f=a!==void 0,m=gn(e,u.onValueNodeChange);return Ha(()=>{d(f)},[d,f]),h.jsx(Dr.span,{...l,ref:m,style:{pointerEvents:"none"},children:R4(u.value)?h.jsx(h.Fragment,{children:o}):a})});p4.displayName=h4;var I7="SelectIcon",m4=D.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return h.jsx(Dr.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});m4.displayName=I7;var T7="SelectPortal",g4=t=>h.jsx(Bg,{asChild:!0,...t});g4.displayName=T7;var yd="SelectContent",v4=D.forwardRef((t,e)=>{const r=Mu(yd,t.__scopeSelect),[n,i]=D.useState();if(Ha(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?kd.createPortal(h.jsx(y4,{scope:t.__scopeSelect,children:h.jsx(rv.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),a):null}return h.jsx(b4,{...t,ref:e})});v4.displayName=yd;var ml=10,[y4,Bu]=Jf(yd),D7="SelectContentImpl",L7=Pf("SelectContent.RemoveScroll"),b4=D.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:y,collisionPadding:g,sticky:k,hideWhenDetached:_,avoidCollisions:N,...E}=t,T=Mu(yd,r),[P,R]=D.useState(null),[M,Q]=D.useState(null),K=gn(e,me=>R(me)),[G,H]=D.useState(null),[oe,z]=D.useState(null),U=nv(r),[W,Y]=D.useState(!1),be=D.useRef(!1);D.useEffect(()=>{if(P)return _C(P)},[P]),pC();const he=D.useCallback(me=>{const[Ie,...Se]=U().map(it=>it.ref.current),[ze]=Se.slice(-1),rt=document.activeElement;for(const it of me)if(it===rt||(it?.scrollIntoView({block:"nearest"}),it===Ie&&M&&(M.scrollTop=0),it===ze&&M&&(M.scrollTop=M.scrollHeight),it?.focus(),document.activeElement!==rt))return},[U,M]),ge=D.useCallback(()=>he([G,P]),[he,G,P]);D.useEffect(()=>{W&&ge()},[W,ge]);const{onOpenChange:ie,triggerPointerDownPosRef:ve}=T;D.useEffect(()=>{if(P){let me={x:0,y:0};const Ie=ze=>{me={x:Math.abs(Math.round(ze.pageX)-(ve.current?.x??0)),y:Math.abs(Math.round(ze.pageY)-(ve.current?.y??0))}},Se=ze=>{me.x<=10&&me.y<=10?ze.preventDefault():P.contains(ze.target)||ie(!1),document.removeEventListener("pointermove",Ie),ve.current=null};return ve.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",Se,{capture:!0})}}},[P,ie,ve]),D.useEffect(()=>{const me=()=>ie(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[ie]);const[_e,te]=O4(me=>{const Ie=U().filter(rt=>!rt.disabled),Se=Ie.find(rt=>rt.ref.current===document.activeElement),ze=F4(Ie,me,Se);ze&&setTimeout(()=>ze.ref.current.focus())}),O=D.useCallback((me,Ie,Se)=>{const ze=!be.current&&!Se;(T.value!==void 0&&T.value===Ie||ze)&&(H(me),ze&&(be.current=!0))},[T.value]),ee=D.useCallback(()=>P?.focus(),[P]),ne=D.useCallback((me,Ie,Se)=>{const ze=!be.current&&!Se;(T.value!==void 0&&T.value===Ie||ze)&&z(me)},[T.value]),le=n==="popper"?e1:x4,we=le===e1?{side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:y,collisionPadding:g,sticky:k,hideWhenDetached:_,avoidCollisions:N}:{};return h.jsx(y4,{scope:r,content:P,viewport:M,onViewportChange:Q,itemRefCallback:O,selectedItem:G,onItemLeave:ee,itemTextRefCallback:ne,focusSelectedItem:ge,selectedItemText:oe,position:n,isPositioned:W,searchRef:_e,children:h.jsx(yb,{as:L7,allowPinchZoom:!0,children:h.jsx(vb,{asChild:!0,trapped:T.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:fr(i,me=>{T.trigger?.focus({preventScroll:!0}),me.preventDefault()}),children:h.jsx(hp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:h.jsx(le,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:me=>me.preventDefault(),...E,...we,onPlaced:()=>Y(!0),ref:K,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:fr(E.onKeyDown,me=>{const Ie=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Ie&&me.key.length===1&&te(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let ze=U().filter(rt=>!rt.disabled).map(rt=>rt.ref.current);if(["ArrowUp","End"].includes(me.key)&&(ze=ze.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const rt=me.target,it=ze.indexOf(rt);ze=ze.slice(it+1)}setTimeout(()=>he(ze)),me.preventDefault()}})})})})})})});b4.displayName=D7;var R7="SelectItemAlignedPosition",x4=D.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Mu(yd,r),o=Bu(yd,r),[l,u]=D.useState(null),[d,f]=D.useState(null),m=gn(e,K=>f(K)),y=nv(r),g=D.useRef(!1),k=D.useRef(!0),{viewport:_,selectedItem:N,selectedItemText:E,focusSelectedItem:T}=o,P=D.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&_&&N&&E){const K=a.trigger.getBoundingClientRect(),G=d.getBoundingClientRect(),H=a.valueNode.getBoundingClientRect(),oe=E.getBoundingClientRect();if(a.dir!=="rtl"){const rt=oe.left-G.left,it=H.left-rt,pt=K.left-it,Je=K.width+pt,ye=Math.max(Je,G.width),br=window.innerWidth-ml,lr=A5(it,[ml,Math.max(ml,br-ye)]);l.style.minWidth=Je+"px",l.style.left=lr+"px"}else{const rt=G.right-oe.right,it=window.innerWidth-H.right-rt,pt=window.innerWidth-K.right-it,Je=K.width+pt,ye=Math.max(Je,G.width),br=window.innerWidth-ml,lr=A5(it,[ml,Math.max(ml,br-ye)]);l.style.minWidth=Je+"px",l.style.right=lr+"px"}const z=y(),U=window.innerHeight-ml*2,W=_.scrollHeight,Y=window.getComputedStyle(d),be=parseInt(Y.borderTopWidth,10),he=parseInt(Y.paddingTop,10),ge=parseInt(Y.borderBottomWidth,10),ie=parseInt(Y.paddingBottom,10),ve=be+he+W+ie+ge,_e=Math.min(N.offsetHeight*5,ve),te=window.getComputedStyle(_),O=parseInt(te.paddingTop,10),ee=parseInt(te.paddingBottom,10),ne=K.top+K.height/2-ml,le=U-ne,we=N.offsetHeight/2,me=N.offsetTop+we,Ie=be+he+me,Se=ve-Ie;if(Ie<=ne){const rt=z.length>0&&N===z[z.length-1].ref.current;l.style.bottom="0px";const it=d.clientHeight-_.offsetTop-_.offsetHeight,pt=Math.max(le,we+(rt?ee:0)+it+ge),Je=Ie+pt;l.style.height=Je+"px"}else{const rt=z.length>0&&N===z[0].ref.current;l.style.top="0px";const pt=Math.max(ne,be+_.offsetTop+(rt?O:0)+we)+Se;l.style.height=pt+"px",_.scrollTop=Ie-ne+_.offsetTop}l.style.margin=`${ml}px 0`,l.style.minHeight=_e+"px",l.style.maxHeight=U+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[y,a.trigger,a.valueNode,l,d,_,N,E,a.dir,n]);Ha(()=>P(),[P]);const[R,M]=D.useState();Ha(()=>{d&&M(window.getComputedStyle(d).zIndex)},[d]);const Q=D.useCallback(K=>{K&&k.current===!0&&(P(),T?.(),k.current=!1)},[P,T]);return h.jsx(F7,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:Q,children:h.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:h.jsx(Dr.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});x4.displayName=R7;var O7="SelectPopperPosition",e1=D.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ml,...a}=t,o=iv(r);return h.jsx(FN,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});e1.displayName=O7;var[F7,qb]=Jf(yd,{}),t1="SelectViewport",w4=D.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Bu(t1,r),o=qb(t1,r),l=gn(e,a.onViewportChange),u=D.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),h.jsx(rv.Slot,{scope:r,children:h.jsx(Dr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:fr(i.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=o;if(y?.current&&m){const g=Math.abs(u.current-f.scrollTop);if(g>0){const k=window.innerHeight-ml*2,_=parseFloat(m.style.minHeight),N=parseFloat(m.style.height),E=Math.max(_,N);if(E<k){const T=E+g,P=Math.min(k,T),R=T-P;m.style.height=P+"px",m.style.bottom==="0px"&&(f.scrollTop=R>0?R:0,m.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});w4.displayName=t1;var S4="SelectGroup",[M7,B7]=Jf(S4),z7=D.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=xu();return h.jsx(M7,{scope:r,id:i,children:h.jsx(Dr.div,{role:"group","aria-labelledby":i,...n,ref:e})})});z7.displayName=S4;var _4="SelectLabel",k4=D.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=B7(_4,r);return h.jsx(Dr.div,{id:i.id,...n,ref:e})});k4.displayName=_4;var mg="SelectItem",[U7,N4]=Jf(mg),C4=D.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,l=Mu(mg,r),u=Bu(mg,r),d=l.value===n,[f,m]=D.useState(a??""),[y,g]=D.useState(!1),k=gn(e,T=>u.itemRefCallback?.(T,n,i)),_=xu(),N=D.useRef("touch"),E=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(U7,{scope:r,value:n,disabled:i,textId:_,isSelected:d,onItemTextChange:D.useCallback(T=>{m(P=>P||(T?.textContent??"").trim())},[]),children:h.jsx(rv.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:h.jsx(Dr.div,{role:"option","aria-labelledby":_,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:k,onFocus:fr(o.onFocus,()=>g(!0)),onBlur:fr(o.onBlur,()=>g(!1)),onClick:fr(o.onClick,()=>{N.current!=="mouse"&&E()}),onPointerUp:fr(o.onPointerUp,()=>{N.current==="mouse"&&E()}),onPointerDown:fr(o.onPointerDown,T=>{N.current=T.pointerType}),onPointerMove:fr(o.onPointerMove,T=>{N.current=T.pointerType,i?u.onItemLeave?.():N.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fr(o.onPointerLeave,T=>{T.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:fr(o.onKeyDown,T=>{u.searchRef?.current!==""&&T.key===" "||(C7.includes(T.key)&&E(),T.key===" "&&T.preventDefault())})})})})});C4.displayName=mg;var jh="SelectItemText",A4=D.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Mu(jh,r),l=Bu(jh,r),u=N4(jh,r),d=j7(jh,r),[f,m]=D.useState(null),y=gn(e,E=>m(E),u.onItemTextChange,E=>l.itemTextRefCallback?.(E,u.value,u.disabled)),g=f?.textContent,k=D.useMemo(()=>h.jsx("option",{value:u.value,disabled:u.disabled,children:g},u.value),[u.disabled,u.value,g]),{onNativeOptionAdd:_,onNativeOptionRemove:N}=d;return Ha(()=>(_(k),()=>N(k)),[_,N,k]),h.jsxs(h.Fragment,{children:[h.jsx(Dr.span,{id:u.textId,...a,ref:y}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?kd.createPortal(a.children,o.valueNode):null]})});A4.displayName=jh;var E4="SelectItemIndicator",P4=D.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return N4(E4,r).isSelected?h.jsx(Dr.span,{"aria-hidden":!0,...n,ref:e}):null});P4.displayName=E4;var r1="SelectScrollUpButton",j4=D.forwardRef((t,e)=>{const r=Bu(r1,t.__scopeSelect),n=qb(r1,t.__scopeSelect),[i,a]=D.useState(!1),o=gn(e,n.onScrollButtonChange);return Ha(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=u.scrollTop>0;a(d)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?h.jsx(T4,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});j4.displayName=r1;var n1="SelectScrollDownButton",I4=D.forwardRef((t,e)=>{const r=Bu(n1,t.__scopeSelect),n=qb(n1,t.__scopeSelect),[i,a]=D.useState(!1),o=gn(e,n.onScrollButtonChange);return Ha(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;a(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?h.jsx(T4,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});I4.displayName=n1;var T4=D.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Bu("SelectScrollButton",r),o=D.useRef(null),l=nv(r),u=D.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return D.useEffect(()=>()=>u(),[u]),Ha(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),h.jsx(Dr.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:fr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:fr(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:fr(i.onPointerLeave,()=>{u()})})}),$7="SelectSeparator",D4=D.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return h.jsx(Dr.div,{"aria-hidden":!0,...n,ref:e})});D4.displayName=$7;var i1="SelectArrow",q7=D.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=iv(r),a=Mu(i1,r),o=Bu(i1,r);return a.open&&o.position==="popper"?h.jsx(MN,{...i,...n,ref:e}):null});q7.displayName=i1;var W7="SelectBubbleInput",L4=D.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=D.useRef(null),a=gn(n,i),o=$b(e);return D.useEffect(()=>{const l=i.current;if(!l)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&f){const m=new Event("change",{bubbles:!0});f.call(l,e),l.dispatchEvent(m)}},[o,e]),h.jsx(Dr.select,{...r,style:{...Tk,...r.style},ref:a,defaultValue:e})});L4.displayName=W7;function R4(t){return t===""||t===void 0}function O4(t){const e=Ko(t),r=D.useRef(""),n=D.useRef(0),i=D.useCallback(o=>{const l=r.current+o;e(l),function u(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>u(""),1e3))}(l)},[e]),a=D.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return D.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function F4(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=V7(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const u=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function V7(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var H7=u4,M4=f4,G7=p4,K7=m4,Y7=g4,B4=v4,J7=w4,z4=k4,U4=C4,Q7=A4,Z7=P4,$4=j4,q4=I4,W4=D4;const Wm=H7,Vm=G7,Mh=D.forwardRef(({className:t,children:e,...r},n)=>h.jsxs(M4,{ref:n,className:hr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,h.jsx(K7,{asChild:!0,children:h.jsx(rg,{className:"h-4 w-4 opacity-50"})})]}));Mh.displayName=M4.displayName;const V4=D.forwardRef(({className:t,...e},r)=>h.jsx($4,{ref:r,className:hr("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(gI,{className:"h-4 w-4"})}));V4.displayName=$4.displayName;const H4=D.forwardRef(({className:t,...e},r)=>h.jsx(q4,{ref:r,className:hr("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(rg,{className:"h-4 w-4"})}));H4.displayName=q4.displayName;const Bh=D.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>h.jsx(Y7,{children:h.jsxs(B4,{ref:i,className:hr("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[h.jsx(V4,{}),h.jsx(J7,{className:hr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(H4,{})]})}));Bh.displayName=B4.displayName;const X7=D.forwardRef(({className:t,...e},r)=>h.jsx(z4,{ref:r,className:hr("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));X7.displayName=z4.displayName;const gu=D.forwardRef(({className:t,children:e,...r},n)=>h.jsxs(U4,{ref:n,className:hr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Z7,{children:h.jsx(tN,{className:"h-4 w-4"})})}),h.jsx(Q7,{children:e})]}));gu.displayName=U4.displayName;const eM=D.forwardRef(({className:t,...e},r)=>h.jsx(W4,{ref:r,className:hr("-mx-1 my-1 h-px bg-muted",t),...e}));eM.displayName=W4.displayName;const Wb=n7,G4=D.createContext({}),mi=({...t})=>h.jsx(G4.Provider,{value:{name:t.name},children:h.jsx(o7,{...t})}),av=()=>{const t=D.useContext(G4),e=D.useContext(K4),{getFieldState:r,formState:n}=tv(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},K4=D.createContext({}),ai=D.forwardRef(({className:t,...e},r)=>{const n=D.useId();return h.jsx(K4.Provider,{value:{id:n},children:h.jsx("div",{ref:r,className:hr("space-y-2",t),...e})})});ai.displayName="FormItem";const si=D.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=av();return h.jsx(wf,{ref:r,className:hr(n&&"text-destructive",t),htmlFor:i,...e})});si.displayName="FormLabel";const oi=D.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i,formDescriptionId:a,formMessageId:o}=av();return h.jsx(Nk,{ref:r,id:i,className:hr("touch-action-manipulation",t),"aria-describedby":n?`${a} ${o}`:`${a}`,"aria-invalid":!!n,...e})});oi.displayName="FormControl";const tM=D.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=av();return h.jsx("p",{ref:r,id:n,className:hr("text-sm text-muted-foreground",t),...e})});tM.displayName="FormDescription";const Ei=D.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=av(),o=i?String(i?.message??""):e;return o?h.jsx("p",{ref:n,id:a,className:hr("text-sm font-medium text-destructive",t),...r,children:o}):null});Ei.displayName="FormMessage";var O0="rovingFocusGroup.onEntryFocus",rM={bubbles:!1,cancelable:!0},wp="RovingFocusGroup",[a1,Y4,nM]=H1(wp),[iM,J4]=Cl(wp,[nM]),[aM,sM]=iM(wp),Q4=D.forwardRef((t,e)=>h.jsx(a1.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(a1.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(oM,{...t,ref:e})})}));Q4.displayName=wp;var oM=D.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=t,y=D.useRef(null),g=gn(e,y),k=Ub(a),[_,N]=Au({prop:o,defaultProp:l??null,onChange:u,caller:wp}),[E,T]=D.useState(!1),P=Ko(d),R=Y4(r),M=D.useRef(!1),[Q,K]=D.useState(0);return D.useEffect(()=>{const G=y.current;if(G)return G.addEventListener(O0,P),()=>G.removeEventListener(O0,P)},[P]),h.jsx(aM,{scope:r,orientation:n,dir:k,loop:i,currentTabStopId:_,onItemFocus:D.useCallback(G=>N(G),[N]),onItemShiftTab:D.useCallback(()=>T(!0),[]),onFocusableItemAdd:D.useCallback(()=>K(G=>G+1),[]),onFocusableItemRemove:D.useCallback(()=>K(G=>G-1),[]),children:h.jsx(Dr.div,{tabIndex:E||Q===0?-1:0,"data-orientation":n,...m,ref:g,style:{outline:"none",...t.style},onMouseDown:fr(t.onMouseDown,()=>{M.current=!0}),onFocus:fr(t.onFocus,G=>{const H=!M.current;if(G.target===G.currentTarget&&H&&!E){const oe=new CustomEvent(O0,rM);if(G.currentTarget.dispatchEvent(oe),!oe.defaultPrevented){const z=R().filter(he=>he.focusable),U=z.find(he=>he.active),W=z.find(he=>he.id===_),be=[U,W,...z].filter(Boolean).map(he=>he.ref.current);e3(be,f)}}M.current=!1}),onBlur:fr(t.onBlur,()=>T(!1))})})}),Z4="RovingFocusGroupItem",X4=D.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...l}=t,u=xu(),d=a||u,f=sM(Z4,r),m=f.currentTabStopId===d,y=Y4(r),{onFocusableItemAdd:g,onFocusableItemRemove:k,currentTabStopId:_}=f;return D.useEffect(()=>{if(n)return g(),()=>k()},[n,g,k]),h.jsx(a1.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:h.jsx(Dr.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:fr(t.onMouseDown,N=>{n?f.onItemFocus(d):N.preventDefault()}),onFocus:fr(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:fr(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){f.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const E=uM(N,f.orientation,f.dir);if(E!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let P=y().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")P.reverse();else if(E==="prev"||E==="next"){E==="prev"&&P.reverse();const R=P.indexOf(N.currentTarget);P=f.loop?dM(P,R+1):P.slice(R+1)}setTimeout(()=>e3(P))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:_!=null}):o})})});X4.displayName=Z4;var lM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cM(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function uM(t,e,r){const n=cM(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return lM[n]}function e3(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function dM(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var fM=Q4,hM=X4,sv="Tabs",[pM,QG]=Cl(sv,[J4]),t3=J4(),[mM,Vb]=pM(sv),r3=D.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=t,f=Ub(l),[m,y]=Au({prop:n,onChange:i,defaultProp:a??"",caller:sv});return h.jsx(mM,{scope:r,baseId:xu(),value:m,onValueChange:y,orientation:o,dir:f,activationMode:u,children:h.jsx(Dr.div,{dir:f,"data-orientation":o,...d,ref:e})})});r3.displayName=sv;var n3="TabsList",i3=D.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=Vb(n3,r),o=t3(r);return h.jsx(fM,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:h.jsx(Dr.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});i3.displayName=n3;var a3="TabsTrigger",s3=D.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=Vb(a3,r),l=t3(r),u=c3(o.baseId,n),d=u3(o.baseId,n),f=n===o.value;return h.jsx(hM,{asChild:!0,...l,focusable:!i,active:f,children:h.jsx(Dr.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...a,ref:e,onMouseDown:fr(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:fr(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:fr(t.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!i&&m&&o.onValueChange(n)})})})});s3.displayName=a3;var o3="TabsContent",l3=D.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,l=Vb(o3,r),u=c3(l.baseId,n),d=u3(l.baseId,n),f=n===l.value,m=D.useRef(f);return D.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),h.jsx(Ru,{present:i||f,children:({present:y})=>h.jsx(Dr.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:y&&a})})});l3.displayName=o3;function c3(t,e){return`${t}-trigger-${e}`}function u3(t,e){return`${t}-content-${e}`}var gM=r3,d3=i3,f3=s3,h3=l3;const vM=gM,p3=D.forwardRef(({className:t,...e},r)=>h.jsx(d3,{ref:r,className:hr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));p3.displayName=d3.displayName;const s1=D.forwardRef(({className:t,...e},r)=>h.jsx(f3,{ref:r,className:hr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));s1.displayName=f3.displayName;const yM=D.forwardRef(({className:t,...e},r)=>h.jsx(h3,{ref:r,className:hr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));yM.displayName=h3.displayName;function m3({isOpen:t,onClose:e,onSelect:r,open:n,onOpenChange:i,onSelectExercise:a,currentDayId:o}){const l=t||n||!1,u=e||(i?()=>i(!1):()=>{}),d=r||a||(()=>{}),[f,m]=D.useState([]),[y,g]=D.useState(!0),[k,_]=D.useState(""),[N,E]=D.useState(null),[T,P]=D.useState(!1),{toast:R}=gs();D.useEffect(()=>{l&&M()},[l]);const M=async()=>{g(!0);try{const oe=await qn.getAllExerciseGlossary();m(oe)}catch(oe){console.error("Errore nel caricamento degli esercizi:",oe),R({title:"Errore",description:"Impossibile caricare gli esercizi dal glossario",variant:"destructive"})}finally{g(!1)}},Q=f.filter(oe=>oe.name.toLowerCase().includes(k.toLowerCase())||oe.description&&oe.description.toLowerCase().includes(k.toLowerCase())),K=oe=>{d(oe),u()},G=oe=>{E(oe),P(!0)},H=()=>{P(!1),E(null)};return T&&N?h.jsx(Fs,{open:l,onOpenChange:oe=>!oe&&u(),children:h.jsxs(hs,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[h.jsxs(ps,{children:[h.jsx(ms,{children:N.name}),h.jsx(Of,{children:"Dettagli dell'esercizio selezionato"})]}),h.jsxs("div",{className:"space-y-4",children:[N.description&&h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium mb-1",children:"Descrizione"}),h.jsx("p",{className:"text-sm",children:N.description})]}),N.images&&N.images.length>0&&h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium mb-2",children:"Immagini"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:N.images.map((oe,z)=>h.jsx("img",{src:oe,alt:`${N.name} - immagine ${z+1}`,className:"rounded object-cover w-full h-40"},z))})]}),h.jsxs("div",{className:"flex justify-between pt-4",children:[h.jsx(ht,{variant:"outline",onClick:H,children:"Indietro"}),h.jsx(ht,{onClick:()=>K(N),children:"Seleziona"})]})]})]})}):h.jsx(Fs,{open:l,onOpenChange:u,children:h.jsxs(hs,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[h.jsxs(ps,{children:[h.jsx(ms,{children:"Seleziona Esercizio dal Glossario"}),h.jsx(Of,{children:"Seleziona un esercizio dal glossario per aggiungerlo alla scheda"})]}),h.jsx(GN,{children:h.jsx("div",{className:"flex items-center gap-2 mb-2 text-sm text-muted-foreground",children:h.jsxs("span",{children:["Gli esercizi selezionati verranno inclusi nella scheda dal ",h.jsx("b",{children:"Glossario"})]})})}),h.jsx("div",{className:"mb-4",children:h.jsxs("div",{className:"relative",children:[h.jsx(Ir,{placeholder:"Cerca esercizio...",className:"pl-10",value:k,onChange:oe=>_(oe.target.value)}),k&&h.jsx(ht,{variant:"ghost",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:()=>_(""),children:h.jsx(gp,{className:"h-4 w-4"})})]})}),y?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx(iN,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):Q.length===0?h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nessun esercizio trovato"})}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Q.map(oe=>h.jsxs(xa,{className:"overflow-hidden hover:shadow-md transition-shadow",children:[h.jsx(wl,{className:"p-4 pb-2",children:h.jsx(Sl,{className:"text-lg flex justify-between items-center",children:h.jsx("span",{className:"truncate",children:oe.name})})}),h.jsxs(wa,{className:"p-4 pt-2",children:[oe.description&&h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:oe.description}),oe.images&&oe.images.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[oe.images.slice(0,2).map((z,U)=>h.jsx("div",{className:"relative w-12 h-12 rounded overflow-hidden bg-gray-100 dark:bg-gray-800",children:h.jsx("img",{src:z,alt:`${oe.name} - immagine ${U+1}`,className:"w-full h-full object-cover"})},U)),oe.images.length>2&&h.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded",children:h.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",oe.images.length-2]})})]}),h.jsxs("div",{className:"flex gap-2 mt-3",children:[h.jsx(ht,{variant:"outline",className:"flex-1",onClick:()=>G(oe),children:"Anteprima"}),h.jsx(ht,{className:"flex-1",onClick:()=>K(oe),children:"Seleziona"})]})]})]},oe.id))}),h.jsx(bl,{children:h.jsx(ht,{variant:"outline",onClick:u,children:"Annulla"})})]})})}function bd({open:t,onOpenChange:e,feature:r}){const[n,i]=D.useState(!1),a={workouts:"più di 3 schede di allenamento",clients:"più di 2 clienti","coach-settings":"le impostazioni Coach",glossary:"il Glossario degli Esercizi"};return h.jsx(h.Fragment,{children:h.jsx(Fs,{open:t,onOpenChange:e,children:h.jsxs(hs,{className:"sm:max-w-md",children:[h.jsxs(ps,{children:[h.jsx(ms,{className:"text-2xl font-bold bg-gradient-to-r from-indigo-500 to-purple-600 bg-clip-text text-transparent",children:"Funzionalità Premium"}),h.jsxs(Of,{className:"pt-4 text-base",children:["Per ",r?`utilizzare ${a[r]}`:"accedere a questa funzionalità premium",", è necessario creare un account ",h.jsx("b",{children:"Premium"}),"."]})]}),h.jsx("div",{className:"flex flex-col space-y-4 py-4",children:h.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-950/30 dark:to-purple-950/30 p-4 rounded-lg",children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Vantaggi dell'account"}),h.jsxs("ul",{className:"space-y-2",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"mr-2 text-indigo-600 dark:text-indigo-400",children:"✓"}),h.jsx("span",{children:"Schede di allenamento illimitate"})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"mr-2 text-indigo-600 dark:text-indigo-400",children:"✓"}),h.jsx("span",{children:"Clienti illimitati"})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"mr-2 text-indigo-600 dark:text-indigo-400",children:"✓"}),h.jsx("span",{children:"Personalizzazione completa delle impostazioni Coach"})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"mr-2 text-indigo-600 dark:text-indigo-400",children:"✓"}),h.jsxs("span",{children:["Backup in ",h.jsx("b",{children:"Cloud"})," dei ",h.jsx("b",{children:"tuoi Dati"})]})]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"mr-2 text-indigo-600 dark:text-indigo-400",children:"✓"}),h.jsxs("span",{children:["Inclusione degli esercizi dal ",h.jsx("b",{children:"Glossario"})," direttamente nelle tue Schede"]})]})]})]})}),h.jsxs(bl,{className:"flex flex-col sm:flex-row sm:justify-between gap-4",children:[h.jsx(ht,{variant:"outline",onClick:()=>e(!1),className:"sm:w-auto w-full",children:"Continua senza account"}),h.jsx(Zy,{trigger:h.jsx(ht,{className:"bg-gradient-primary hover:opacity-90 transition-opacity sm:w-auto w-full",children:"Crea account gratuito"})})]})]})})})}function bM({week:t,onUpdateWeek:e,onRemoveWeek:r}){const[n,i]=D.useState({...t,days:t.days||[]}),[a,o]=D.useState(!1),[l,u]=D.useState(null),[d,f]=D.useState(!1),{toast:m}=gs(),{user:y}=Fu(),g=()=>{const M={id:crypto.randomUUID(),name:`Giorno ${(n.days||[]).length+1}`,exercises:[]},Q={...n,days:[...n.days||[],M]};i(Q),e(Q)},k=(M,Q,K)=>{const G={...n,days:(n.days||[]).map(H=>H.id===M?{...H,[Q]:K}:H)};i(G),e(G)},_=M=>{const Q={...n,days:(n.days||[]).filter(K=>K.id!==M)};i(Q),e(Q)},N=M=>{const Q={id:crypto.randomUUID(),name:"",sets:"",reps:"",load:"",rest:"",notes:"",order:0},K=(n.days||[]).find(G=>G.id===M);if(K){const G=[...K.exercises||[],{...Q,order:(K.exercises||[]).length}];k(M,"exercises",G)}},E=M=>{if(!y){f(!0);return}u(M),o(!0)},T=M=>{if(!l)return;const Q={id:crypto.randomUUID(),name:M.name,sets:"3",reps:"10",load:"",rest:"",notes:"",order:0,glossaryId:M.id},K=(n.days||[]).find(G=>G.id===l);if(K){const G=[...K.exercises||[],{...Q,order:(K.exercises||[]).length}];k(l,"exercises",G),m({title:"Esercizio importato",description:`${M.name} aggiunto alla scheda`})}},P=(M,Q,K,G)=>{const H=(n.days||[]).find(oe=>oe.id===M);if(H){const oe=(H.exercises||[]).map(z=>z.id===Q?{...z,[K]:G}:z);k(M,"exercises",oe)}},R=(M,Q)=>{const K=(n.days||[]).find(G=>G.id===M);if(K){const G=(K.exercises||[]).filter(H=>H.id!==Q);k(M,"exercises",G)}};return h.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-xl p-4 bg-white/30 dark:bg-gray-800/30 animate-slide-up",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx(Ir,{value:n.name||`SETTIMANA ${n.number}`,onChange:M=>{const Q={...n,name:M.target.value};i(Q),e(Q)},className:"font-medium bg-transparent border-none p-0 text-lg text-gray-900 dark:text-white focus:bg-white/50 dark:focus:bg-gray-800/50 w-auto max-w-xs",placeholder:`SETTIMANA ${n.number}`}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(ht,{type:"button",size:"sm",variant:"ghost",onClick:g,className:"p-1 text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20",children:h.jsx(Gh,{size:14})}),h.jsx(ht,{size:"sm",variant:"ghost",onClick:r,className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:h.jsx(If,{size:14})})]})]}),h.jsx("div",{className:"mb-4",children:h.jsx(Co,{placeholder:"Note per la settimana...",value:n.notes||"",onChange:M=>{const Q={...n,notes:M.target.value};i(Q),e(Q)},rows:2,className:"text-sm bg-white/50 dark:bg-gray-800/50"})}),h.jsx("div",{className:"space-y-8 md:space-y-12",children:(n.days||[]).map(M=>h.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3 bg-white/40 dark:bg-gray-900/20",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx(Ir,{value:M.name,onChange:Q=>k(M.id,"name",Q.target.value),className:"font-medium bg-transparent border-none p-0 text-sm text-gray-900 dark:text-white focus:bg-white/50 dark:focus:bg-gray-800/50",placeholder:"Nome del giorno"}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsx(ht,{type:"button",size:"sm",variant:"ghost",onClick:()=>E(M.id),className:"p-1 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:h.jsx($g,{size:12})}),h.jsx(ht,{type:"button",size:"sm",variant:"ghost",onClick:()=>N(M.id),className:"p-1 text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20",children:h.jsx(Os,{size:12})}),h.jsx(ht,{type:"button",size:"sm",variant:"ghost",onClick:()=>_(M.id),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:h.jsx(If,{size:12})})]})]}),M.notes!==void 0&&h.jsx(Co,{placeholder:"Note per il giorno...",value:M.notes||"",onChange:Q=>k(M.id,"notes",Q.target.value),rows:2,className:"text-xs bg-white/30 dark:bg-gray-800/30 mb-3"}),h.jsx("div",{className:"space-y-3 md:space-y-2",children:(M.exercises||[]).map(Q=>h.jsxs("div",{className:"flex flex-col md:flex-col space-y-2 md:space-y-0 p-3 md:p-2 bg-white/40 dark:bg-gray-700/40 rounded-lg animate-fade-in",children:[h.jsx("div",{className:"flex md:flex-1 md:items-start",children:h.jsxs("div",{className:"flex-1 space-y-2 md:space-y-0 md:grid md:grid-cols-5 md:gap-1",children:[h.jsx("div",{className:"md:col-span-1",children:h.jsx(Ir,{placeholder:"Esercizio",value:Q.name,onChange:K=>P(M.id,Q.id,"name",K.target.value),className:`text-sm md:text-xs bg-white/50 dark:bg-gray-800/50 w-full touch-manipulation min-h-[44px] md:min-h-[32px] ${Q.glossaryId?"border-blue-300 dark:border-blue-700":""}`,style:{WebkitAppearance:"none"}})}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 md:contents",children:[h.jsx(Ir,{placeholder:"Serie",value:Q.sets,onChange:K=>P(M.id,Q.id,"sets",K.target.value),className:"text-sm md:text-xs bg-white/50 dark:bg-gray-800/50 touch-manipulation min-h-[44px] md:min-h-[32px]",style:{WebkitAppearance:"none"}}),h.jsx(Ir,{placeholder:"Reps",value:Q.reps,onChange:K=>P(M.id,Q.id,"reps",K.target.value),className:"text-sm md:text-xs bg-white/50 dark:bg-gray-800/50 touch-manipulation min-h-[44px] md:min-h-[32px]",style:{WebkitAppearance:"none"}}),h.jsx(Ir,{placeholder:"Carico",value:Q.load||"",onChange:K=>P(M.id,Q.id,"load",K.target.value),className:"text-sm md:text-xs bg-white/50 dark:bg-gray-800/50 touch-manipulation min-h-[44px] md:min-h-[32px]",style:{WebkitAppearance:"none"}}),h.jsx(Ir,{placeholder:"Recupero",value:Q.rest||"",onChange:K=>P(M.id,Q.id,"rest",K.target.value),className:"text-sm md:text-xs bg-white/50 dark:bg-gray-800/50 touch-manipulation min-h-[44px] md:min-h-[32px]",style:{WebkitAppearance:"none"}})]})]})}),h.jsxs(ht,{size:"sm",variant:"ghost",onClick:()=>R(M.id,Q.id),className:"w-full md:w-auto p-2 md:p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 min-h-[44px] md:min-h-[32px]",children:[h.jsx(Fm,{size:16,className:"md:w-3 md:h-3"}),h.jsx("span",{className:"ml-1 md:hidden text-sm",children:"Rimuovi"})]})]},Q.id))}),h.jsxs(ht,{type:"button",onClick:()=>N(M.id),variant:"outline",size:"sm",className:"mt-2 w-full py-1 text-xs text-indigo-500 border border-dashed border-indigo-300 dark:border-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-colors",children:[h.jsx(Os,{className:"mr-1",size:12}),"Aggiungi Esercizio"]})]},M.id))}),h.jsxs(ht,{type:"button",onClick:g,variant:"outline",className:"mt-4 w-full py-2 text-emerald-500 border-2 border-dashed border-emerald-300 dark:border-emerald-600 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors",children:[h.jsx(Gh,{className:"mr-2",size:16}),"Aggiungi Giorno"]}),h.jsx(m3,{open:a,onOpenChange:o,onSelectExercise:T,currentDayId:l||void 0}),h.jsx(bd,{open:d,onOpenChange:f,feature:"glossary"})]})}function o1(t,e){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},o1(t,e)}function g3(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o1(t,e)}function wr(){return wr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wr.apply(null,arguments)}function pn(t){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(t)}function xM(t,e){if(pn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wM(t){var e=xM(t,"string");return pn(e)=="symbol"?e:e+""}function SM(t,e,r){return(e=wM(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E5(Object(r),!0).forEach(function(n){SM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eo(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var j5=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),I5=function(){return Math.random().toString(36).substring(7).split("").join(".")},T5={INIT:"@@redux/INIT"+I5(),REPLACE:"@@redux/REPLACE"+I5()};function _M(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function v3(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(eo(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(eo(1));return r(v3)(t,e)}if(typeof t!="function")throw new Error(eo(2));var i=t,a=e,o=[],l=o,u=!1;function d(){l===o&&(l=o.slice())}function f(){if(u)throw new Error(eo(3));return a}function m(_){if(typeof _!="function")throw new Error(eo(4));if(u)throw new Error(eo(5));var N=!0;return d(),l.push(_),function(){if(N){if(u)throw new Error(eo(6));N=!1,d();var T=l.indexOf(_);l.splice(T,1),o=null}}}function y(_){if(!_M(_))throw new Error(eo(7));if(typeof _.type>"u")throw new Error(eo(8));if(u)throw new Error(eo(9));try{u=!0,a=i(a,_)}finally{u=!1}for(var N=o=l,E=0;E<N.length;E++){var T=N[E];T()}return _}function g(_){if(typeof _!="function")throw new Error(eo(10));i=_,y({type:T5.REPLACE})}function k(){var _,N=m;return _={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(eo(11));function P(){T.next&&T.next(f())}P();var R=N(P);return{unsubscribe:R}}},_[j5]=function(){return this},_}return y({type:T5.INIT}),n={dispatch:y,subscribe:m,getState:f,replaceReducer:g},n[j5]=k,n}function D5(t,e){return function(){return e(t.apply(this,arguments))}}function L5(t,e){if(typeof t=="function")return D5(t,e);if(typeof t!="object"||t===null)throw new Error(eo(16));var r={};for(var n in t){var i=t[n];typeof i=="function"&&(r[n]=D5(i,e))}return r}function y3(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function kM(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),a=function(){throw new Error(eo(15))},o={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=e.map(function(u){return u(o)});return a=y3.apply(void 0,l)(i.dispatch),P5(P5({},i),{},{dispatch:a})}}}var b3=Wt.createContext(null);function NM(t){t()}var x3=NM,CM=function(e){return x3=e},AM=function(){return x3};function EM(){var t=AM(),e=null,r=null;return{clear:function(){e=null,r=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],a=e;a;)i.push(a),a=a.next;return i},subscribe:function(i){var a=!0,o=r={callback:i,next:null,prev:r};return o.prev?o.prev.next=o:e=o,function(){!a||e===null||(a=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var R5={notify:function(){},get:function(){return[]}};function w3(t,e){var r,n=R5;function i(m){return u(),n.subscribe(m)}function a(){n.notify()}function o(){f.onStateChange&&f.onStateChange()}function l(){return!!r}function u(){r||(r=e?e.addNestedSub(o):t.subscribe(o),n=EM())}function d(){r&&(r(),r=void 0,n.clear(),n=R5)}var f={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:o,isSubscribed:l,trySubscribe:u,tryUnsubscribe:d,getListeners:function(){return n}};return f}var S3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?D.useLayoutEffect:D.useEffect;function PM(t){var e=t.store,r=t.context,n=t.children,i=D.useMemo(function(){var l=w3(e);return{store:e,subscription:l}},[e]),a=D.useMemo(function(){return e.getState()},[e]);S3(function(){var l=i.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==e.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[i,a]);var o=r||b3;return Wt.createElement(o.Provider,{value:i},n)}function gg(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var F0={exports:{}},kn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O5;function jM(){if(O5)return kn;O5=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,y=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,k=t?Symbol.for("react.lazy"):60116,_=t?Symbol.for("react.block"):60121,N=t?Symbol.for("react.fundamental"):60117,E=t?Symbol.for("react.responder"):60118,T=t?Symbol.for("react.scope"):60119;function P(M){if(typeof M=="object"&&M!==null){var Q=M.$$typeof;switch(Q){case e:switch(M=M.type,M){case u:case d:case n:case a:case i:case m:return M;default:switch(M=M&&M.$$typeof,M){case l:case f:case k:case g:case o:return M;default:return Q}}case r:return Q}}}function R(M){return P(M)===d}return kn.AsyncMode=u,kn.ConcurrentMode=d,kn.ContextConsumer=l,kn.ContextProvider=o,kn.Element=e,kn.ForwardRef=f,kn.Fragment=n,kn.Lazy=k,kn.Memo=g,kn.Portal=r,kn.Profiler=a,kn.StrictMode=i,kn.Suspense=m,kn.isAsyncMode=function(M){return R(M)||P(M)===u},kn.isConcurrentMode=R,kn.isContextConsumer=function(M){return P(M)===l},kn.isContextProvider=function(M){return P(M)===o},kn.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},kn.isForwardRef=function(M){return P(M)===f},kn.isFragment=function(M){return P(M)===n},kn.isLazy=function(M){return P(M)===k},kn.isMemo=function(M){return P(M)===g},kn.isPortal=function(M){return P(M)===r},kn.isProfiler=function(M){return P(M)===a},kn.isStrictMode=function(M){return P(M)===i},kn.isSuspense=function(M){return P(M)===m},kn.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===n||M===d||M===a||M===i||M===m||M===y||typeof M=="object"&&M!==null&&(M.$$typeof===k||M.$$typeof===g||M.$$typeof===o||M.$$typeof===l||M.$$typeof===f||M.$$typeof===N||M.$$typeof===E||M.$$typeof===T||M.$$typeof===_)},kn.typeOf=P,kn}var F5;function IM(){return F5||(F5=1,F0.exports=jM()),F0.exports}var M0,M5;function TM(){if(M5)return M0;M5=1;var t=IM(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=n,a[t.Memo]=i;function o(k){return t.isMemo(k)?i:a[k.$$typeof]||e}var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=Object.prototype;function g(k,_,N){if(typeof _!="string"){if(y){var E=m(_);E&&E!==y&&g(k,E,N)}var T=u(_);d&&(T=T.concat(d(_)));for(var P=o(k),R=o(_),M=0;M<T.length;++M){var Q=T[M];if(!r[Q]&&!(N&&N[Q])&&!(R&&R[Q])&&!(P&&P[Q])){var K=f(_,Q);try{l(k,Q,K)}catch{}}}}return k}return M0=g,M0}var DM=TM();const B5=dp(DM);var B0={exports:{}},On={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5;function LM(){if(z5)return On;z5=1;var t=60103,e=60106,r=60107,n=60108,i=60114,a=60109,o=60110,l=60112,u=60113,d=60120,f=60115,m=60116,y=60121,g=60122,k=60117,_=60129,N=60131;if(typeof Symbol=="function"&&Symbol.for){var E=Symbol.for;t=E("react.element"),e=E("react.portal"),r=E("react.fragment"),n=E("react.strict_mode"),i=E("react.profiler"),a=E("react.provider"),o=E("react.context"),l=E("react.forward_ref"),u=E("react.suspense"),d=E("react.suspense_list"),f=E("react.memo"),m=E("react.lazy"),y=E("react.block"),g=E("react.server.block"),k=E("react.fundamental"),_=E("react.debug_trace_mode"),N=E("react.legacy_hidden")}function T(W){if(typeof W=="object"&&W!==null){var Y=W.$$typeof;switch(Y){case t:switch(W=W.type,W){case r:case i:case n:case u:case d:return W;default:switch(W=W&&W.$$typeof,W){case o:case l:case m:case f:case a:return W;default:return Y}}case e:return Y}}}var P=a,R=t,M=l,Q=r,K=m,G=f,H=e,oe=i,z=n,U=u;return On.ContextConsumer=o,On.ContextProvider=P,On.Element=R,On.ForwardRef=M,On.Fragment=Q,On.Lazy=K,On.Memo=G,On.Portal=H,On.Profiler=oe,On.StrictMode=z,On.Suspense=U,On.isAsyncMode=function(){return!1},On.isConcurrentMode=function(){return!1},On.isContextConsumer=function(W){return T(W)===o},On.isContextProvider=function(W){return T(W)===a},On.isElement=function(W){return typeof W=="object"&&W!==null&&W.$$typeof===t},On.isForwardRef=function(W){return T(W)===l},On.isFragment=function(W){return T(W)===r},On.isLazy=function(W){return T(W)===m},On.isMemo=function(W){return T(W)===f},On.isPortal=function(W){return T(W)===e},On.isProfiler=function(W){return T(W)===i},On.isStrictMode=function(W){return T(W)===n},On.isSuspense=function(W){return T(W)===u},On.isValidElementType=function(W){return typeof W=="string"||typeof W=="function"||W===r||W===i||W===_||W===n||W===u||W===d||W===N||typeof W=="object"&&W!==null&&(W.$$typeof===m||W.$$typeof===f||W.$$typeof===a||W.$$typeof===o||W.$$typeof===l||W.$$typeof===k||W.$$typeof===y||W[0]===g)},On.typeOf=T,On}var U5;function RM(){return U5||(U5=1,B0.exports=LM()),B0.exports}var OM=RM(),FM=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],MM=["reactReduxForwardedRef"],BM=[],zM=[null,null];function UM(t,e){var r=t[1];return[e.payload,r+1]}function $5(t,e,r){S3(function(){return t.apply(void 0,e)},r)}function $M(t,e,r,n,i,a,o){t.current=n,e.current=i,r.current=!1,a.current&&(a.current=null,o())}function qM(t,e,r,n,i,a,o,l,u,d){if(t){var f=!1,m=null,y=function(){if(!f){var _=e.getState(),N,E;try{N=n(_,i.current)}catch(T){E=T,m=T}E||(m=null),N===a.current?o.current||u():(a.current=N,l.current=N,o.current=!0,d({type:"STORE_UPDATED",payload:{error:E}}))}};r.onStateChange=y,r.trySubscribe(),y();var g=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,m)throw m};return g}}var WM=function(){return[null,0]};function VM(t,e){e===void 0&&(e={});var r=e,n=r.getDisplayName,i=n===void 0?function(P){return"ConnectAdvanced("+P+")"}:n,a=r.methodName,o=a===void 0?"connectAdvanced":a,l=r.renderCountProp,u=l===void 0?void 0:l,d=r.shouldHandleStateChanges,f=d===void 0?!0:d,m=r.storeKey,y=m===void 0?"store":m;r.withRef;var g=r.forwardRef,k=g===void 0?!1:g,_=r.context,N=_===void 0?b3:_,E=gg(r,FM),T=N;return function(R){var M=R.displayName||R.name||"Component",Q=i(M),K=wr({},E,{getDisplayName:i,methodName:o,renderCountProp:u,shouldHandleStateChanges:f,storeKey:y,displayName:Q,wrappedComponentName:M,WrappedComponent:R}),G=E.pure;function H(Y){return t(Y.dispatch,K)}var oe=G?D.useMemo:function(Y){return Y()};function z(Y){var be=D.useMemo(function(){var gt=Y.reactReduxForwardedRef,pe=gg(Y,MM);return[Y.context,gt,pe]},[Y]),he=be[0],ge=be[1],ie=be[2],ve=D.useMemo(function(){return he&&he.Consumer&&OM.isContextConsumer(Wt.createElement(he.Consumer,null))?he:T},[he,T]),_e=D.useContext(ve),te=!!Y.store&&!!Y.store.getState&&!!Y.store.dispatch;_e&&_e.store;var O=te?Y.store:_e.store,ee=D.useMemo(function(){return H(O)},[O]),ne=D.useMemo(function(){if(!f)return zM;var gt=w3(O,te?null:_e.subscription),pe=gt.notifyNestedSubs.bind(gt);return[gt,pe]},[O,te,_e]),le=ne[0],we=ne[1],me=D.useMemo(function(){return te?_e:wr({},_e,{subscription:le})},[te,_e,le]),Ie=D.useReducer(UM,BM,WM),Se=Ie[0],ze=Se[0],rt=Ie[1];if(ze&&ze.error)throw ze.error;var it=D.useRef(),pt=D.useRef(ie),Je=D.useRef(),ye=D.useRef(!1),br=oe(function(){return Je.current&&ie===pt.current?Je.current:ee(O.getState(),ie)},[O,ze,ie]);$5($M,[pt,it,ye,ie,br,Je,we]),$5(qM,[f,O,le,ee,pt,it,ye,Je,we,rt],[O,le,ee]);var lr=D.useMemo(function(){return Wt.createElement(R,wr({},br,{ref:ge}))},[ge,R,br]),nr=D.useMemo(function(){return f?Wt.createElement(ve.Provider,{value:me},lr):lr},[ve,lr,me]);return nr}var U=G?Wt.memo(z):z;if(U.WrappedComponent=R,U.displayName=z.displayName=Q,k){var W=Wt.forwardRef(function(be,he){return Wt.createElement(U,wr({},be,{reactReduxForwardedRef:he}))});return W.displayName=Q,W.WrappedComponent=R,B5(W,R)}return B5(U,R)}}function q5(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function z0(t,e){if(q5(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!q5(t[r[i]],e[r[i]]))return!1;return!0}function HM(t,e){var r={},n=function(o){var l=t[o];typeof l=="function"&&(r[o]=function(){return e(l.apply(void 0,arguments))})};for(var i in t)n(i);return r}function Hb(t){return function(r,n){var i=t(r,n);function a(){return i}return a.dependsOnOwnProps=!1,a}}function W5(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function _3(t,e){return function(n,i){i.displayName;var a=function(l,u){return a.dependsOnOwnProps?a.mapToProps(l,u):a.mapToProps(l)};return a.dependsOnOwnProps=!0,a.mapToProps=function(l,u){a.mapToProps=t,a.dependsOnOwnProps=W5(t);var d=a(l,u);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=W5(d),d=a(l,u)),d},a}}function GM(t){return typeof t=="function"?_3(t):void 0}function KM(t){return t?void 0:Hb(function(e){return{dispatch:e}})}function YM(t){return t&&typeof t=="object"?Hb(function(e){return HM(t,e)}):void 0}const JM=[GM,KM,YM];function QM(t){return typeof t=="function"?_3(t):void 0}function ZM(t){return t?void 0:Hb(function(){return{}})}const XM=[QM,ZM];function eB(t,e,r){return wr({},r,t,e)}function tB(t){return function(r,n){n.displayName;var i=n.pure,a=n.areMergedPropsEqual,o=!1,l;return function(d,f,m){var y=t(d,f,m);return o?(!i||!a(y,l))&&(l=y):(o=!0,l=y),l}}}function rB(t){return typeof t=="function"?tB(t):void 0}function nB(t){return t?void 0:function(){return eB}}const iB=[rB,nB];var aB=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function sB(t,e,r,n){return function(a,o){return r(t(a,o),e(n,o),o)}}function oB(t,e,r,n,i){var a=i.areStatesEqual,o=i.areOwnPropsEqual,l=i.areStatePropsEqual,u=!1,d,f,m,y,g;function k(P,R){return d=P,f=R,m=t(d,f),y=e(n,f),g=r(m,y,f),u=!0,g}function _(){return m=t(d,f),e.dependsOnOwnProps&&(y=e(n,f)),g=r(m,y,f),g}function N(){return t.dependsOnOwnProps&&(m=t(d,f)),e.dependsOnOwnProps&&(y=e(n,f)),g=r(m,y,f),g}function E(){var P=t(d,f),R=!l(P,m);return m=P,R&&(g=r(m,y,f)),g}function T(P,R){var M=!o(R,f),Q=!a(P,d,R,f);return d=P,f=R,M&&Q?_():M?N():Q?E():g}return function(R,M){return u?T(R,M):k(R,M)}}function lB(t,e){var r=e.initMapStateToProps,n=e.initMapDispatchToProps,i=e.initMergeProps,a=gg(e,aB),o=r(t,a),l=n(t,a),u=i(t,a),d=a.pure?oB:sB;return d(o,l,u,t,a)}var cB=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function U0(t,e,r){for(var n=e.length-1;n>=0;n--){var i=e[n](t);if(i)return i}return function(a,o){throw new Error("Invalid value of type "+typeof t+" for "+r+" argument when connecting component "+o.wrappedComponentName+".")}}function uB(t,e){return t===e}function dB(t){var e=t===void 0?{}:t,r=e.connectHOC,n=r===void 0?VM:r,i=e.mapStateToPropsFactories,a=i===void 0?XM:i,o=e.mapDispatchToPropsFactories,l=o===void 0?JM:o,u=e.mergePropsFactories,d=u===void 0?iB:u,f=e.selectorFactory,m=f===void 0?lB:f;return function(g,k,_,N){N===void 0&&(N={});var E=N,T=E.pure,P=T===void 0?!0:T,R=E.areStatesEqual,M=R===void 0?uB:R,Q=E.areOwnPropsEqual,K=Q===void 0?z0:Q,G=E.areStatePropsEqual,H=G===void 0?z0:G,oe=E.areMergedPropsEqual,z=oe===void 0?z0:oe,U=gg(E,cB),W=U0(g,a,"mapStateToProps"),Y=U0(k,l,"mapDispatchToProps"),be=U0(_,d,"mergeProps");return n(m,wr({methodName:"connect",getDisplayName:function(ge){return"Connect("+ge+")"},shouldHandleStateChanges:!!g,initMapStateToProps:W,initMapDispatchToProps:Y,initMergeProps:be,pure:P,areStatesEqual:M,areOwnPropsEqual:K,areStatePropsEqual:H,areMergedPropsEqual:z},U))}}const k3=dB();CM(kd.unstable_batchedUpdates);function fB(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function N3(t,e){var r=D.useState(function(){return{inputs:e,result:t()}})[0],n=D.useRef(!0),i=D.useRef(r),a=n.current||!!(e&&i.current.inputs&&fB(e,i.current.inputs)),o=a?i.current:{inputs:e,result:t()};return D.useEffect(function(){n.current=!1,i.current=o},[o]),o.result}function hB(t,e){return N3(function(){return t},e)}var dn=N3,ur=hB,pB="Invariant failed";function mB(t,e){throw new Error(pB)}var xl=function(e){var r=e.top,n=e.right,i=e.bottom,a=e.left,o=n-a,l=i-r,u={top:r,right:n,bottom:i,left:a,width:o,height:l,x:a,y:r,center:{x:(n+a)/2,y:(i+r)/2}};return u},Gb=function(e,r){return{top:e.top-r.top,left:e.left-r.left,bottom:e.bottom+r.bottom,right:e.right+r.right}},V5=function(e,r){return{top:e.top+r.top,left:e.left+r.left,bottom:e.bottom-r.bottom,right:e.right-r.right}},gB=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},$0={top:0,right:0,bottom:0,left:0},Kb=function(e){var r=e.borderBox,n=e.margin,i=n===void 0?$0:n,a=e.border,o=a===void 0?$0:a,l=e.padding,u=l===void 0?$0:l,d=xl(Gb(r,i)),f=xl(V5(r,o)),m=xl(V5(f,u));return{marginBox:d,borderBox:xl(r),paddingBox:f,contentBox:m,margin:i,border:o,padding:u}},Wo=function(e){var r=e.slice(0,-2),n=e.slice(-2);if(n!=="px")return 0;var i=Number(r);return isNaN(i)&&mB(),i},vB=function(){return{x:window.pageXOffset,y:window.pageYOffset}},vg=function(e,r){var n=e.borderBox,i=e.border,a=e.margin,o=e.padding,l=gB(n,r);return Kb({borderBox:l,border:i,margin:a,padding:o})},yg=function(e,r){return r===void 0&&(r=vB()),vg(e,r)},C3=function(e,r){var n={top:Wo(r.marginTop),right:Wo(r.marginRight),bottom:Wo(r.marginBottom),left:Wo(r.marginLeft)},i={top:Wo(r.paddingTop),right:Wo(r.paddingRight),bottom:Wo(r.paddingBottom),left:Wo(r.paddingLeft)},a={top:Wo(r.borderTopWidth),right:Wo(r.borderRightWidth),bottom:Wo(r.borderBottomWidth),left:Wo(r.borderLeftWidth)};return Kb({borderBox:e,margin:n,padding:i,border:a})},A3=function(e){var r=e.getBoundingClientRect(),n=window.getComputedStyle(e);return C3(r,n)},H5=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function yB(t,e){return!!(t===e||H5(t)&&H5(e))}function bB(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!yB(t[r],e[r]))return!1;return!0}function Oa(t,e){e===void 0&&(e=bB);var r,n=[],i,a=!1;function o(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return a&&r===this&&e(l,n)||(i=t.apply(this,l),a=!0,r=this,n=l),i}return o}var ep=function(e){var r=[],n=null,i=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];r=l,!n&&(n=requestAnimationFrame(function(){n=null,e.apply(void 0,r)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i};function E3(t,e){}E3.bind(null,"warn");E3.bind(null,"error");function Su(){}function xB(t,e){return wr({},t,{},e)}function Ho(t,e,r){var n=e.map(function(i){var a=xB(r,i.options);return t.addEventListener(i.eventName,i.fn,a),function(){t.removeEventListener(i.eventName,i.fn,a)}});return function(){n.forEach(function(a){a()})}}var wB="Invariant failed";function bg(t){this.message=t}bg.prototype.toString=function(){return this.message};function jt(t,e){throw new bg(wB)}var SB=function(t){g3(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.callbacks=null,n.unbind=Su,n.onWindowError=function(l){var u=n.getCallbacks();u.isDragging()&&u.tryAbort();var d=l.error;d instanceof bg&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=e.prototype;return r.componentDidMount=function(){this.unbind=Ho(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(i){if(i instanceof bg){this.setState({});return}throw i},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},e}(Wt.Component),_B=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,xg=function(e){return e+1},kB=function(e){return`
  You have lifted an item in position `+xg(e.source.index)+`
`},P3=function(e,r){var n=e.droppableId===r.droppableId,i=xg(e.index),a=xg(r.index);return n?`
      You have moved the item from position `+i+`
      to position `+a+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+r.droppableId+`
    in position `+a+`
  `},j3=function(e,r,n){var i=r.droppableId===n.droppableId;return i?`
      The item `+e+`
      has been combined with `+n.draggableId:`
      The item `+e+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},NB=function(e){var r=e.destination;if(r)return P3(e.source,r);var n=e.combine;return n?j3(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},G5=function(e){return`
  The item has returned to its starting position
  of `+xg(e.index)+`
`},CB=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+G5(e.source)+`
    `;var r=e.destination,n=e.combine;return r?`
      You have dropped the item.
      `+P3(e.source,r)+`
    `:n?`
      You have dropped the item.
      `+j3(e.draggableId,e.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+G5(e.source)+`
  `},Hm={dragHandleUsageInstructions:_B,onDragStart:kB,onDragUpdate:NB,onDragEnd:CB},Fa={x:0,y:0},Va=function(e,r){return{x:e.x+r.x,y:e.y+r.y}},_o=function(e,r){return{x:e.x-r.x,y:e.y-r.y}},_u=function(e,r){return e.x===r.x&&e.y===r.y},Qf=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},xd=function(e,r,n){var i;return n===void 0&&(n=0),i={},i[e]=r,i[e==="x"?"y":"x"]=n,i},tp=function(e,r){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))},K5=function(e,r){return Math.min.apply(Math,r.map(function(n){return tp(e,n)}))},I3=function(e){return function(r){return{x:e(r.x),y:e(r.y)}}},AB=function(t,e){var r=xl({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return r.width<=0||r.height<=0?null:r},Sp=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},Y5=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},EB={top:0,right:0,bottom:0,left:0},PB=function(e,r){return r?Sp(e,r.scroll.diff.displacement):e},jB=function(e,r,n){if(n&&n.increasedBy){var i;return wr({},e,(i={},i[r.end]=e[r.end]+n.increasedBy[r.line],i))}return e},IB=function(e,r){return r&&r.shouldClipSubject?AB(r.pageMarginBox,e):xl(e)},Ff=function(t){var e=t.page,r=t.withPlaceholder,n=t.axis,i=t.frame,a=PB(e.marginBox,i),o=jB(a,n,r),l=IB(o,i);return{page:e,withPlaceholder:r,active:l}},Yb=function(t,e){t.frame||jt();var r=t.frame,n=_o(e,r.scroll.initial),i=Qf(n),a=wr({},r,{scroll:{initial:r.scroll.initial,current:e,diff:{value:n,displacement:i},max:r.scroll.max}}),o=Ff({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:a}),l=wr({},t,{frame:a,subject:o});return l};function wg(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function Jb(t,e){if(t.findIndex)return t.findIndex(e);for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function zu(t,e){if(t.find)return t.find(e);var r=Jb(t,e);if(r!==-1)return t[r]}function T3(t){return Array.prototype.slice.call(t)}var D3=Oa(function(t){return t.reduce(function(e,r){return e[r.descriptor.id]=r,e},{})}),L3=Oa(function(t){return t.reduce(function(e,r){return e[r.descriptor.id]=r,e},{})}),ov=Oa(function(t){return wg(t)}),TB=Oa(function(t){return wg(t)}),Zf=Oa(function(t,e){var r=TB(e).filter(function(n){return t===n.descriptor.droppableId}).sort(function(n,i){return n.descriptor.index-i.descriptor.index});return r});function Qb(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function lv(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var cv=Oa(function(t,e){return e.filter(function(r){return r.descriptor.id!==t.descriptor.id})}),DB=function(t){var e=t.isMovingForward,r=t.draggable,n=t.destination,i=t.insideDestination,a=t.previousImpact;if(!n.isCombineEnabled)return null;var o=Qb(a);if(!o)return null;function l(_){var N={type:"COMBINE",combine:{draggableId:_,droppableId:n.descriptor.id}};return wr({},a,{at:N})}var u=a.displaced.all,d=u.length?u[0]:null;if(e)return d?l(d):null;var f=cv(r,i);if(!d){if(!f.length)return null;var m=f[f.length-1];return l(m.descriptor.id)}var y=Jb(f,function(_){return _.descriptor.id===d});y===-1&&jt();var g=y-1;if(g<0)return null;var k=f[g];return l(k.descriptor.id)},Xf=function(t,e){return t.descriptor.droppableId===e.descriptor.id},R3={point:Fa,value:0},rp={invisible:{},visible:{},all:[]},LB={displaced:rp,displacedBy:R3,at:null},Go=function(t,e){return function(r){return t<=r&&r<=e}},O3=function(t){var e=Go(t.top,t.bottom),r=Go(t.left,t.right);return function(n){var i=e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right);if(i)return!0;var a=e(n.top)||e(n.bottom),o=r(n.left)||r(n.right),l=a&&o;if(l)return!0;var u=n.top<t.top&&n.bottom>t.bottom,d=n.left<t.left&&n.right>t.right,f=u&&d;if(f)return!0;var m=u&&o||d&&a;return m}},RB=function(t){var e=Go(t.top,t.bottom),r=Go(t.left,t.right);return function(n){var i=e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right);return i}},Zb={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},F3={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},OB=function(t){return function(e){var r=Go(e.top,e.bottom),n=Go(e.left,e.right);return function(i){return t===Zb?r(i.top)&&r(i.bottom):n(i.left)&&n(i.right)}}},FB=function(e,r){var n=r.frame?r.frame.scroll.diff.displacement:Fa;return Sp(e,n)},MB=function(e,r,n){return r.subject.active?n(r.subject.active)(e):!1},BB=function(e,r,n){return n(r)(e)},Xb=function(e){var r=e.target,n=e.destination,i=e.viewport,a=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,l=a?FB(r,n):r;return MB(l,n,o)&&BB(l,i,o)},zB=function(e){return Xb(wr({},e,{isVisibleThroughFrameFn:O3}))},M3=function(e){return Xb(wr({},e,{isVisibleThroughFrameFn:RB}))},UB=function(e){return Xb(wr({},e,{isVisibleThroughFrameFn:OB(e.destination.axis)}))},$B=function(e,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var i=r.invisible,a=r.visible;if(i[e])return!1;var o=a[e];return o?o.shouldAnimate:!0};function qB(t,e){var r=t.page.marginBox,n={top:e.point.y,right:0,bottom:0,left:e.point.x};return xl(Gb(r,n))}function np(t){var e=t.afterDragging,r=t.destination,n=t.displacedBy,i=t.viewport,a=t.forceShouldAnimate,o=t.last;return e.reduce(function(u,d){var f=qB(d,n),m=d.descriptor.id;u.all.push(m);var y=zB({target:f,destination:r,viewport:i,withDroppableDisplacement:!0});if(!y)return u.invisible[d.descriptor.id]=!0,u;var g=$B(m,o,a),k={draggableId:m,shouldAnimate:g};return u.visible[m]=k,u},{all:[],visible:{},invisible:{}})}function WB(t,e){if(!t.length)return 0;var r=t[t.length-1].descriptor.index;return e.inHomeList?r:r+1}function J5(t){var e=t.insideDestination,r=t.inHomeList,n=t.displacedBy,i=t.destination,a=WB(e,{inHomeList:r});return{displaced:rp,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:a}}}}function Sg(t){var e=t.draggable,r=t.insideDestination,n=t.destination,i=t.viewport,a=t.displacedBy,o=t.last,l=t.index,u=t.forceShouldAnimate,d=Xf(e,n);if(l==null)return J5({insideDestination:r,inHomeList:d,displacedBy:a,destination:n});var f=zu(r,function(_){return _.descriptor.index===l});if(!f)return J5({insideDestination:r,inHomeList:d,displacedBy:a,destination:n});var m=cv(e,r),y=r.indexOf(f),g=m.slice(y),k=np({afterDragging:g,destination:n,displacedBy:a,last:o,viewport:i.frame,forceShouldAnimate:u});return{displaced:k,displacedBy:a,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function ju(t,e){return!!e.effected[t]}var VB=function(t){var e=t.isMovingForward,r=t.destination,n=t.draggables,i=t.combine,a=t.afterCritical;if(!r.isCombineEnabled)return null;var o=i.draggableId,l=n[o],u=l.descriptor.index,d=ju(o,a);return d?e?u:u-1:e?u+1:u},HB=function(t){var e=t.isMovingForward,r=t.isInHomeList,n=t.insideDestination,i=t.location;if(!n.length)return null;var a=i.index,o=e?a+1:a-1,l=n[0].descriptor.index,u=n[n.length-1].descriptor.index,d=r?u:u+1;return o<l||o>d?null:o},GB=function(t){var e=t.isMovingForward,r=t.isInHomeList,n=t.draggable,i=t.draggables,a=t.destination,o=t.insideDestination,l=t.previousImpact,u=t.viewport,d=t.afterCritical,f=l.at;if(f||jt(),f.type==="REORDER"){var m=HB({isMovingForward:e,isInHomeList:r,location:f.destination,insideDestination:o});return m==null?null:Sg({draggable:n,insideDestination:o,destination:a,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:m})}var y=VB({isMovingForward:e,destination:a,displaced:l.displaced,draggables:i,combine:f.combine,afterCritical:d});return y==null?null:Sg({draggable:n,insideDestination:o,destination:a,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:y})},KB=function(t){var e=t.displaced,r=t.afterCritical,n=t.combineWith,i=t.displacedBy,a=!!(e.visible[n]||e.invisible[n]);return ju(n,r)?a?Fa:Qf(i.point):a?i.point:Fa},YB=function(t){var e=t.afterCritical,r=t.impact,n=t.draggables,i=lv(r);i||jt();var a=i.draggableId,o=n[a].page.borderBox.center,l=KB({displaced:r.displaced,afterCritical:e,combineWith:a,displacedBy:r.displacedBy});return Va(o,l)},B3=function(e,r){return r.margin[e.start]+r.borderBox[e.size]/2},JB=function(e,r){return r.margin[e.end]+r.borderBox[e.size]/2},e2=function(e,r,n){return r[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Q5=function(e){var r=e.axis,n=e.moveRelativeTo,i=e.isMoving;return xd(r.line,n.marginBox[r.end]+B3(r,i),e2(r,n.marginBox,i))},Z5=function(e){var r=e.axis,n=e.moveRelativeTo,i=e.isMoving;return xd(r.line,n.marginBox[r.start]-JB(r,i),e2(r,n.marginBox,i))},QB=function(e){var r=e.axis,n=e.moveInto,i=e.isMoving;return xd(r.line,n.contentBox[r.start]+B3(r,i),e2(r,n.contentBox,i))},ZB=function(t){var e=t.impact,r=t.draggable,n=t.draggables,i=t.droppable,a=t.afterCritical,o=Zf(i.descriptor.id,n),l=r.page,u=i.axis;if(!o.length)return QB({axis:u,moveInto:i.page,isMoving:l});var d=e.displaced,f=e.displacedBy,m=d.all[0];if(m){var y=n[m];if(ju(m,a))return Z5({axis:u,moveRelativeTo:y.page,isMoving:l});var g=vg(y.page,f.point);return Z5({axis:u,moveRelativeTo:g,isMoving:l})}var k=o[o.length-1];if(k.descriptor.id===r.descriptor.id)return l.borderBox.center;if(ju(k.descriptor.id,a)){var _=vg(k.page,Qf(a.displacedBy.point));return Q5({axis:u,moveRelativeTo:_,isMoving:l})}return Q5({axis:u,moveRelativeTo:k.page,isMoving:l})},l1=function(t,e){var r=t.frame;return r?Va(e,r.scroll.diff.displacement):e},XB=function(e){var r=e.impact,n=e.draggable,i=e.droppable,a=e.draggables,o=e.afterCritical,l=n.page.borderBox.center,u=r.at;return!i||!u?l:u.type==="REORDER"?ZB({impact:r,draggable:n,draggables:a,droppable:i,afterCritical:o}):YB({impact:r,draggables:a,afterCritical:o})},uv=function(t){var e=XB(t),r=t.droppable,n=r?l1(r,e):e;return n},z3=function(t,e){var r=_o(e,t.scroll.initial),n=Qf(r),i=xl({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),a={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:r,displacement:n}}};return a};function X5(t,e){return t.map(function(r){return e[r]})}function e9(t,e){for(var r=0;r<e.length;r++){var n=e[r].visible[t];if(n)return n}return null}var t9=function(t){var e=t.impact,r=t.viewport,n=t.destination,i=t.draggables,a=t.maxScrollChange,o=z3(r,Va(r.scroll.current,a)),l=n.frame?Yb(n,Va(n.frame.scroll.current,a)):n,u=e.displaced,d=np({afterDragging:X5(u.all,i),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:u,forceShouldAnimate:!1}),f=np({afterDragging:X5(u.all,i),destination:l,displacedBy:e.displacedBy,viewport:r.frame,last:u,forceShouldAnimate:!1}),m={},y={},g=[u,d,f];u.all.forEach(function(_){var N=e9(_,g);if(N){y[_]=N;return}m[_]=!0});var k=wr({},e,{displaced:{all:u.all,invisible:m,visible:y}});return k},r9=function(t,e){return Va(t.scroll.diff.displacement,e)},t2=function(t){var e=t.pageBorderBoxCenter,r=t.draggable,n=t.viewport,i=r9(n,e),a=_o(i,r.page.borderBox.center);return Va(r.client.borderBox.center,a)},U3=function(t){var e=t.draggable,r=t.destination,n=t.newPageBorderBoxCenter,i=t.viewport,a=t.withDroppableDisplacement,o=t.onlyOnMainAxis,l=o===void 0?!1:o,u=_o(n,e.page.borderBox.center),d=Sp(e.page.borderBox,u),f={target:d,destination:r,withDroppableDisplacement:a,viewport:i};return l?UB(f):M3(f)},n9=function(t){var e=t.isMovingForward,r=t.draggable,n=t.destination,i=t.draggables,a=t.previousImpact,o=t.viewport,l=t.previousPageBorderBoxCenter,u=t.previousClientSelection,d=t.afterCritical;if(!n.isEnabled)return null;var f=Zf(n.descriptor.id,i),m=Xf(r,n),y=DB({isMovingForward:e,draggable:r,destination:n,insideDestination:f,previousImpact:a})||GB({isMovingForward:e,isInHomeList:m,draggable:r,draggables:i,destination:n,insideDestination:f,previousImpact:a,viewport:o,afterCritical:d});if(!y)return null;var g=uv({impact:y,draggable:r,droppable:n,draggables:i,afterCritical:d}),k=U3({draggable:r,destination:n,newPageBorderBoxCenter:g,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(k){var _=t2({pageBorderBoxCenter:g,draggable:r,viewport:o});return{clientSelection:_,impact:y,scrollJumpRequest:null}}var N=_o(g,l),E=t9({impact:y,viewport:o,destination:n,draggables:i,maxScrollChange:N});return{clientSelection:u,impact:E,scrollJumpRequest:N}},Ds=function(e){var r=e.subject.active;return r||jt(),r},i9=function(t){var e=t.isMovingForward,r=t.pageBorderBoxCenter,n=t.source,i=t.droppables,a=t.viewport,o=n.subject.active;if(!o)return null;var l=n.axis,u=Go(o[l.start],o[l.end]),d=ov(i).filter(function(m){return m!==n}).filter(function(m){return m.isEnabled}).filter(function(m){return!!m.subject.active}).filter(function(m){return O3(a.frame)(Ds(m))}).filter(function(m){var y=Ds(m);return e?o[l.crossAxisEnd]<y[l.crossAxisEnd]:y[l.crossAxisStart]<o[l.crossAxisStart]}).filter(function(m){var y=Ds(m),g=Go(y[l.start],y[l.end]);return u(y[l.start])||u(y[l.end])||g(o[l.start])||g(o[l.end])}).sort(function(m,y){var g=Ds(m)[l.crossAxisStart],k=Ds(y)[l.crossAxisStart];return e?g-k:k-g}).filter(function(m,y,g){return Ds(m)[l.crossAxisStart]===Ds(g[0])[l.crossAxisStart]});if(!d.length)return null;if(d.length===1)return d[0];var f=d.filter(function(m){var y=Go(Ds(m)[l.start],Ds(m)[l.end]);return y(r[l.line])});return f.length===1?f[0]:f.length>1?f.sort(function(m,y){return Ds(m)[l.start]-Ds(y)[l.start]})[0]:d.sort(function(m,y){var g=K5(r,Y5(Ds(m))),k=K5(r,Y5(Ds(y)));return g!==k?g-k:Ds(m)[l.start]-Ds(y)[l.start]})[0]},eS=function(e,r){var n=e.page.borderBox.center;return ju(e.descriptor.id,r)?_o(n,r.displacedBy.point):n},a9=function(e,r){var n=e.page.borderBox;return ju(e.descriptor.id,r)?Sp(n,Qf(r.displacedBy.point)):n},s9=function(t){var e=t.pageBorderBoxCenter,r=t.viewport,n=t.destination,i=t.insideDestination,a=t.afterCritical,o=i.filter(function(l){return M3({target:a9(l,a),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,u){var d=tp(e,l1(n,eS(l,a))),f=tp(e,l1(n,eS(u,a)));return d<f?-1:f<d?1:l.descriptor.index-u.descriptor.index});return o[0]||null},_p=Oa(function(e,r){var n=r[e.line];return{value:n,point:xd(e.line,n)}}),o9=function(e,r,n){var i=e.axis;if(e.descriptor.mode==="virtual")return xd(i.line,r[i.line]);var a=e.subject.page.contentBox[i.size],o=Zf(e.descriptor.id,n),l=o.reduce(function(f,m){return f+m.client.marginBox[i.size]},0),u=l+r[i.line],d=u-a;return d<=0?null:xd(i.line,d)},$3=function(e,r){return wr({},e,{scroll:wr({},e.scroll,{max:r})})},q3=function(e,r,n){var i=e.frame;Xf(r,e)&&jt(),e.subject.withPlaceholder&&jt();var a=_p(e.axis,r.displaceBy).point,o=o9(e,a,n),l={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var u=Ff({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:e.frame});return wr({},e,{subject:u})}var d=o?Va(i.scroll.max,o):i.scroll.max,f=$3(i,d),m=Ff({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:f});return wr({},e,{subject:m,frame:f})},l9=function(e){var r=e.subject.withPlaceholder;r||jt();var n=e.frame;if(!n){var i=Ff({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return wr({},e,{subject:i})}var a=r.oldFrameMaxScroll;a||jt();var o=$3(n,a),l=Ff({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return wr({},e,{subject:l,frame:o})},c9=function(t){var e=t.previousPageBorderBoxCenter,r=t.moveRelativeTo,n=t.insideDestination,i=t.draggable,a=t.draggables,o=t.destination,l=t.viewport,u=t.afterCritical;if(!r){if(n.length)return null;var d={displaced:rp,displacedBy:R3,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=uv({impact:d,draggable:i,droppable:o,draggables:a,afterCritical:u}),m=Xf(i,o)?o:q3(o,i,a),y=U3({draggable:i,destination:m,newPageBorderBoxCenter:f,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return y?d:null}var g=e[o.axis.line]<=r.page.borderBox.center[o.axis.line],k=function(){var N=r.descriptor.index;return r.descriptor.id===i.descriptor.id||g?N:N+1}(),_=_p(o.axis,i.displaceBy);return Sg({draggable:i,insideDestination:n,destination:o,viewport:l,displacedBy:_,last:rp,index:k})},u9=function(t){var e=t.isMovingForward,r=t.previousPageBorderBoxCenter,n=t.draggable,i=t.isOver,a=t.draggables,o=t.droppables,l=t.viewport,u=t.afterCritical,d=i9({isMovingForward:e,pageBorderBoxCenter:r,source:i,droppables:o,viewport:l});if(!d)return null;var f=Zf(d.descriptor.id,a),m=s9({pageBorderBoxCenter:r,viewport:l,destination:d,insideDestination:f,afterCritical:u}),y=c9({previousPageBorderBoxCenter:r,destination:d,draggable:n,draggables:a,moveRelativeTo:m,insideDestination:f,viewport:l,afterCritical:u});if(!y)return null;var g=uv({impact:y,draggable:n,droppable:d,draggables:a,afterCritical:u}),k=t2({pageBorderBoxCenter:g,draggable:n,viewport:l});return{clientSelection:k,impact:y,scrollJumpRequest:null}},Ao=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},d9=function(e,r){var n=Ao(e);return n?r[n]:null},f9=function(t){var e=t.state,r=t.type,n=d9(e.impact,e.dimensions.droppables),i=!!n,a=e.dimensions.droppables[e.critical.droppable.id],o=n||a,l=o.axis.direction,u=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(u&&!i)return null;var d=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],m=e.current.page.borderBoxCenter,y=e.dimensions,g=y.draggables,k=y.droppables;return u?n9({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:f,destination:o,draggables:g,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):u9({isMovingForward:d,previousPageBorderBoxCenter:m,draggable:f,isOver:o,draggables:g,droppables:k,viewport:e.viewport,afterCritical:e.afterCritical})};function od(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function W3(t){var e=Go(t.top,t.bottom),r=Go(t.left,t.right);return function(i){return e(i.y)&&r(i.x)}}function h9(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function p9(t){var e=t.pageBorderBox,r=t.draggable,n=t.candidates,i=r.page.borderBox.center,a=n.map(function(o){var l=o.axis,u=xd(o.axis.line,e.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:tp(i,u)}}).sort(function(o,l){return l.distance-o.distance});return a[0]?a[0].id:null}function m9(t){var e=t.pageBorderBox,r=t.draggable,n=t.droppables,i=ov(n).filter(function(a){if(!a.isEnabled)return!1;var o=a.subject.active;if(!o||!h9(e,o))return!1;if(W3(o)(e.center))return!0;var l=a.axis,u=o.center[l.crossAxisLine],d=e[l.crossAxisStart],f=e[l.crossAxisEnd],m=Go(o[l.crossAxisStart],o[l.crossAxisEnd]),y=m(d),g=m(f);return!y&&!g?!0:y?d<u:f>u});return i.length?i.length===1?i[0].descriptor.id:p9({pageBorderBox:e,draggable:r,candidates:i}):null}var V3=function(e,r){return xl(Sp(e,r))},g9=function(t,e){var r=t.frame;return r?V3(e,r.scroll.diff.value):e};function H3(t){var e=t.displaced,r=t.id;return!!(e.visible[r]||e.invisible[r])}function v9(t){var e=t.draggable,r=t.closest,n=t.inHomeList;return r?n&&r.descriptor.index>e.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var y9=function(t){var e=t.pageBorderBoxWithDroppableScroll,r=t.draggable,n=t.destination,i=t.insideDestination,a=t.last,o=t.viewport,l=t.afterCritical,u=n.axis,d=_p(n.axis,r.displaceBy),f=d.value,m=e[u.start],y=e[u.end],g=cv(r,i),k=zu(g,function(N){var E=N.descriptor.id,T=N.page.borderBox.center[u.line],P=ju(E,l),R=H3({displaced:a,id:E});return P?R?y<=T:m<T-f:R?y<=T+f:m<T}),_=v9({draggable:r,closest:k,inHomeList:Xf(r,n)});return Sg({draggable:r,insideDestination:i,destination:n,viewport:o,last:a,displacedBy:d,index:_})},b9=4,x9=function(t){var e=t.draggable,r=t.pageBorderBoxWithDroppableScroll,n=t.previousImpact,i=t.destination,a=t.insideDestination,o=t.afterCritical;if(!i.isCombineEnabled)return null;var l=i.axis,u=_p(i.axis,e.displaceBy),d=u.value,f=r[l.start],m=r[l.end],y=cv(e,a),g=zu(y,function(_){var N=_.descriptor.id,E=_.page.borderBox,T=E[l.size],P=T/b9,R=ju(N,o),M=H3({displaced:n.displaced,id:N});return R?M?m>E[l.start]+P&&m<E[l.end]-P:f>E[l.start]-d+P&&f<E[l.end]-d-P:M?m>E[l.start]+d+P&&m<E[l.end]+d-P:f>E[l.start]+P&&f<E[l.end]-P});if(!g)return null;var k={displacedBy:u,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:i.descriptor.id}}};return k},G3=function(t){var e=t.pageOffset,r=t.draggable,n=t.draggables,i=t.droppables,a=t.previousImpact,o=t.viewport,l=t.afterCritical,u=V3(r.page.borderBox,e),d=m9({pageBorderBox:u,draggable:r,droppables:i});if(!d)return LB;var f=i[d],m=Zf(f.descriptor.id,n),y=g9(f,u);return x9({pageBorderBoxWithDroppableScroll:y,draggable:r,previousImpact:a,destination:f,insideDestination:m,afterCritical:l})||y9({pageBorderBoxWithDroppableScroll:y,draggable:r,destination:f,insideDestination:m,last:a.displaced,viewport:o,afterCritical:l})},r2=function(t,e){var r;return wr({},t,(r={},r[e.descriptor.id]=e,r))},w9=function(e){var r=e.previousImpact,n=e.impact,i=e.droppables,a=Ao(r),o=Ao(n);if(!a||a===o)return i;var l=i[a];if(!l.subject.withPlaceholder)return i;var u=l9(l);return r2(i,u)},S9=function(t){var e=t.draggable,r=t.draggables,n=t.droppables,i=t.previousImpact,a=t.impact,o=w9({previousImpact:i,impact:a,droppables:n}),l=Ao(a);if(!l)return o;var u=n[l];if(Xf(e,u)||u.subject.withPlaceholder)return o;var d=q3(u,e,r);return r2(o,d)},zh=function(t){var e=t.state,r=t.clientSelection,n=t.dimensions,i=t.viewport,a=t.impact,o=t.scrollJumpRequest,l=i||e.viewport,u=n||e.dimensions,d=r||e.current.client.selection,f=_o(d,e.initial.client.selection),m={offset:f,selection:d,borderBoxCenter:Va(e.initial.client.borderBoxCenter,f)},y={selection:Va(m.selection,l.scroll.current),borderBoxCenter:Va(m.borderBoxCenter,l.scroll.current),offset:Va(m.offset,l.scroll.diff.value)},g={client:m,page:y};if(e.phase==="COLLECTING")return wr({phase:"COLLECTING"},e,{dimensions:u,viewport:l,current:g});var k=u.draggables[e.critical.draggable.id],_=a||G3({pageOffset:y.offset,draggable:k,draggables:u.draggables,droppables:u.droppables,previousImpact:e.impact,viewport:l,afterCritical:e.afterCritical}),N=S9({draggable:k,impact:_,previousImpact:e.impact,draggables:u.draggables,droppables:u.droppables}),E=wr({},e,{current:g,dimensions:{draggables:u.draggables,droppables:N},impact:_,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null});return E};function _9(t,e){return t.map(function(r){return e[r]})}var K3=function(t){var e=t.impact,r=t.viewport,n=t.draggables,i=t.destination,a=t.forceShouldAnimate,o=e.displaced,l=_9(o.all,n),u=np({afterDragging:l,destination:i,displacedBy:e.displacedBy,viewport:r.frame,forceShouldAnimate:a,last:o});return wr({},e,{displaced:u})},Y3=function(t){var e=t.impact,r=t.draggable,n=t.droppable,i=t.draggables,a=t.viewport,o=t.afterCritical,l=uv({impact:e,draggable:r,draggables:i,droppable:n,afterCritical:o});return t2({pageBorderBoxCenter:l,draggable:r,viewport:a})},J3=function(t){var e=t.state,r=t.dimensions,n=t.viewport;e.movementMode!=="SNAP"&&jt();var i=e.impact,a=n||e.viewport,o=r||e.dimensions,l=o.draggables,u=o.droppables,d=l[e.critical.draggable.id],f=Ao(i);f||jt();var m=u[f],y=K3({impact:i,viewport:a,destination:m,draggables:l}),g=Y3({impact:y,draggable:d,droppable:m,draggables:l,viewport:a,afterCritical:e.afterCritical});return zh({impact:y,clientSelection:g,state:e,dimensions:o,viewport:a})},k9=function(t){return{index:t.index,droppableId:t.droppableId}},Q3=function(t){var e=t.draggable,r=t.home,n=t.draggables,i=t.viewport,a=_p(r.axis,e.displaceBy),o=Zf(r.descriptor.id,n),l=o.indexOf(e);l===-1&&jt();var u=o.slice(l+1),d=u.reduce(function(g,k){return g[k.descriptor.id]=!0,g},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:a,effected:d},m=np({afterDragging:u,destination:r,displacedBy:a,last:null,viewport:i.frame,forceShouldAnimate:!1}),y={displaced:m,displacedBy:a,at:{type:"REORDER",destination:k9(e.descriptor)}};return{impact:y,afterCritical:f}},N9=function(t,e){return{draggables:t.draggables,droppables:r2(t.droppables,e)}},C9=function(t){var e=t.draggable,r=t.offset,n=t.initialWindowScroll,i=vg(e.client,r),a=yg(i,n),o=wr({},e,{placeholder:wr({},e.placeholder,{client:i}),client:i,page:a});return o},A9=function(t){var e=t.frame;return e||jt(),e},E9=function(t){var e=t.additions,r=t.updatedDroppables,n=t.viewport,i=n.scroll.diff.value;return e.map(function(a){var o=a.descriptor.droppableId,l=r[o],u=A9(l),d=u.scroll.diff.value,f=Va(i,d),m=C9({draggable:a,offset:f,initialWindowScroll:n.scroll.initial});return m})},P9=function(t){var e=t.state,r=t.published,n=r.modified.map(function(P){var R=e.dimensions.droppables[P.droppableId],M=Yb(R,P.scroll);return M}),i=wr({},e.dimensions.droppables,{},D3(n)),a=L3(E9({additions:r.additions,updatedDroppables:i,viewport:e.viewport})),o=wr({},e.dimensions.draggables,{},a);r.removals.forEach(function(P){delete o[P]});var l={droppables:i,draggables:o},u=Ao(e.impact),d=u?l.droppables[u]:null,f=l.draggables[e.critical.draggable.id],m=l.droppables[e.critical.droppable.id],y=Q3({draggable:f,home:m,draggables:o,viewport:e.viewport}),g=y.impact,k=y.afterCritical,_=d&&d.isCombineEnabled?e.impact:g,N=G3({pageOffset:e.current.page.offset,draggable:l.draggables[e.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:_,viewport:e.viewport,afterCritical:k}),E=wr({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:N,onLiftImpact:g,dimensions:l,afterCritical:k,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return E;var T=wr({phase:"DROP_PENDING"},E,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return T},c1=function(e){return e.movementMode==="SNAP"},q0=function(e,r,n){var i=N9(e.dimensions,r);return!c1(e)||n?zh({state:e,dimensions:i}):J3({state:e,dimensions:i})};function W0(t){return t.isDragging&&t.movementMode==="SNAP"?wr({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var tS={phase:"IDLE",completed:null,shouldFlush:!1},j9=function(t,e){if(t===void 0&&(t=tS),e.type==="FLUSH")return wr({},tS,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&jt();var r=e.payload,n=r.critical,i=r.clientSelection,a=r.viewport,o=r.dimensions,l=r.movementMode,u=o.draggables[n.draggable.id],d=o.droppables[n.droppable.id],f={selection:i,borderBoxCenter:u.client.borderBox.center,offset:Fa},m={client:f,page:{selection:Va(f.selection,a.scroll.initial),borderBoxCenter:Va(f.selection,a.scroll.initial),offset:Va(f.selection,a.scroll.diff.value)}},y=ov(o.droppables).every(function(rt){return!rt.isFixedOnPage}),g=Q3({draggable:u,home:d,draggables:o.draggables,viewport:a}),k=g.impact,_=g.afterCritical,N={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:m,current:m,isWindowScrollAllowed:y,impact:k,afterCritical:_,onLiftImpact:k,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return N}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&jt();var E=wr({phase:"COLLECTING"},t,{phase:"COLLECTING"});return E}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||jt(),P9({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;od(t)||jt();var T=e.payload.client;return _u(T,t.current.client.selection)?t:zh({state:t,clientSelection:T,impact:c1(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return W0(t);od(t)||jt();var P=e.payload,R=P.id,M=P.newScroll,Q=t.dimensions.droppables[R];if(!Q)return t;var K=Yb(Q,M);return q0(t,K,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;od(t)||jt();var G=e.payload,H=G.id,oe=G.isEnabled,z=t.dimensions.droppables[H];z||jt(),z.isEnabled===oe&&jt();var U=wr({},z,{isEnabled:oe});return q0(t,U,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;od(t)||jt();var W=e.payload,Y=W.id,be=W.isCombineEnabled,he=t.dimensions.droppables[Y];he||jt(),he.isCombineEnabled===be&&jt();var ge=wr({},he,{isCombineEnabled:be});return q0(t,ge,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;od(t)||jt(),t.isWindowScrollAllowed||jt();var ie=e.payload.newScroll;if(_u(t.viewport.scroll.current,ie))return W0(t);var ve=z3(t.viewport,ie);return c1(t)?J3({state:t,viewport:ve}):zh({state:t,viewport:ve})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!od(t))return t;var _e=e.payload.maxScroll;if(_u(_e,t.viewport.scroll.max))return t;var te=wr({},t.viewport,{scroll:wr({},t.viewport.scroll,{max:_e})});return wr({phase:"DRAGGING"},t,{viewport:te})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&jt();var O=f9({state:t,type:e.type});return O?zh({state:t,impact:O.impact,clientSelection:O.clientSelection,scrollJumpRequest:O.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var ee=e.payload.reason;t.phase!=="COLLECTING"&&jt();var ne=wr({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:ee});return ne}if(e.type==="DROP_ANIMATE"){var le=e.payload,we=le.completed,me=le.dropDuration,Ie=le.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||jt();var Se={phase:"DROP_ANIMATING",completed:we,dropDuration:me,newHomeClientOffset:Ie,dimensions:t.dimensions};return Se}if(e.type==="DROP_COMPLETE"){var ze=e.payload.completed;return{phase:"IDLE",completed:ze,shouldFlush:!1}}return t},I9=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},T9=function(e){return{type:"LIFT",payload:e}},D9=function(e){return{type:"INITIAL_PUBLISH",payload:e}},L9=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},R9=function(){return{type:"COLLECTION_STARTING",payload:null}},O9=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},F9=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},M9=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Z3=function(e){return{type:"MOVE",payload:e}},B9=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},z9=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},U9=function(){return{type:"MOVE_UP",payload:null}},$9=function(){return{type:"MOVE_DOWN",payload:null}},q9=function(){return{type:"MOVE_RIGHT",payload:null}},W9=function(){return{type:"MOVE_LEFT",payload:null}},n2=function(){return{type:"FLUSH",payload:null}},V9=function(e){return{type:"DROP_ANIMATE",payload:e}},i2=function(e){return{type:"DROP_COMPLETE",payload:e}},X3=function(e){return{type:"DROP",payload:e}},H9=function(e){return{type:"DROP_PENDING",payload:e}},eA=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},G9=function(t){return function(e){var r=e.getState,n=e.dispatch;return function(i){return function(a){if(a.type!=="LIFT"){i(a);return}var o=a.payload,l=o.id,u=o.clientSelection,d=o.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(i2({completed:f.completed})),r().phase!=="IDLE"&&jt(),n(n2()),n(I9({draggableId:l,movementMode:d}));var m={shouldPublishImmediately:d==="SNAP"},y={draggableId:l,scrollOptions:m},g=t.startPublishing(y),k=g.critical,_=g.dimensions,N=g.viewport;n(D9({critical:k,dimensions:_,clientSelection:u,movementMode:d,viewport:N}))}}}},K9=function(t){return function(){return function(e){return function(r){r.type==="INITIAL_PUBLISH"&&t.dragging(),r.type==="DROP_ANIMATE"&&t.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&t.resting(),e(r)}}}},a2={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},ip={opacity:{drop:0,combining:.7},scale:{drop:.75}},s2={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ad=s2.outOfTheWay+"s "+a2.outOfTheWay,Uh={fluid:"opacity "+ad,snap:"transform "+ad+", opacity "+ad,drop:function(e){var r=e+"s "+a2.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+ad,placeholder:"height "+ad+", width "+ad+", margin "+ad},rS=function(e){return _u(e,Fa)?null:"translate("+e.x+"px, "+e.y+"px)"},u1={moveTo:rS,drop:function(e,r){var n=rS(e);return n?r?n+" scale("+ip.scale.drop+")":n:null}},d1=s2.minDropTime,tA=s2.maxDropTime,Y9=tA-d1,nS=1500,J9=.6,Q9=function(t){var e=t.current,r=t.destination,n=t.reason,i=tp(e,r);if(i<=0)return d1;if(i>=nS)return tA;var a=i/nS,o=d1+Y9*a,l=n==="CANCEL"?o*J9:o;return Number(l.toFixed(2))},Z9=function(t){var e=t.impact,r=t.draggable,n=t.dimensions,i=t.viewport,a=t.afterCritical,o=n.draggables,l=n.droppables,u=Ao(e),d=u?l[u]:null,f=l[r.descriptor.droppableId],m=Y3({impact:e,draggable:r,draggables:o,afterCritical:a,droppable:d||f,viewport:i}),y=_o(m,r.client.borderBox.center);return y},X9=function(t){var e=t.draggables,r=t.reason,n=t.lastImpact,i=t.home,a=t.viewport,o=t.onLiftImpact;if(!n.at||r!=="DROP"){var l=K3({draggables:e,impact:o,destination:i,viewport:a,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var u=wr({},n,{displaced:rp});return{impact:u,didDropInsideDroppable:!0}},ez=function(t){var e=t.getState,r=t.dispatch;return function(n){return function(i){if(i.type!=="DROP"){n(i);return}var a=e(),o=i.payload.reason;if(a.phase==="COLLECTING"){r(H9({reason:o}));return}if(a.phase!=="IDLE"){var l=a.phase==="DROP_PENDING"&&a.isWaiting;l&&jt(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||jt();var u=a.critical,d=a.dimensions,f=d.draggables[a.critical.draggable.id],m=X9({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),y=m.impact,g=m.didDropInsideDroppable,k=g?Qb(y):null,_=g?lv(y):null,N={index:u.draggable.index,droppableId:u.droppable.id},E={draggableId:f.descriptor.id,type:f.descriptor.type,source:N,reason:o,mode:a.movementMode,destination:k,combine:_},T=Z9({impact:y,draggable:f,dimensions:d,viewport:a.viewport,afterCritical:a.afterCritical}),P={critical:a.critical,afterCritical:a.afterCritical,result:E,impact:y},R=!_u(a.current.client.offset,T)||!!E.combine;if(!R){r(i2({completed:P}));return}var M=Q9({current:a.current.client.offset,destination:T,reason:o}),Q={newHomeClientOffset:T,dropDuration:M,completed:P};r(V9(Q))}}}},rA=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function tz(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||t()}}}function rz(t){var e=t.onWindowScroll;function r(){e(rA())}var n=ep(r),i=tz(n),a=Su;function o(){return a!==Su}function l(){o()&&jt(),a=Ho(window,[i])}function u(){o()||jt(),n.cancel(),a(),a=Su}return{start:l,stop:u,isActive:o}}var nz=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},iz=function(t){var e=rz({onWindowScroll:function(n){t.dispatch(B9({newScroll:n}))}});return function(r){return function(n){!e.isActive()&&n.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&nz(n)&&e.stop(),r(n)}}},az=function(t){var e=!1,r=!1,n=setTimeout(function(){r=!0}),i=function(o){e||r||(e=!0,t(o),clearTimeout(n))};return i.wasCalled=function(){return e},i},sz=function(){var t=[],e=function(a){var o=Jb(t,function(d){return d.timerId===a});o===-1&&jt();var l=t.splice(o,1),u=l[0];u.callback()},r=function(a){var o=setTimeout(function(){return e(o)}),l={timerId:o,callback:a};t.push(l)},n=function(){if(t.length){var a=[].concat(t);t.length=0,a.forEach(function(o){clearTimeout(o.timerId),o.callback()})}};return{add:r,flush:n}},oz=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.droppableId===r.droppableId&&e.index===r.index},lz=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.draggableId===r.draggableId&&e.droppableId===r.droppableId},cz=function(e,r){if(e===r)return!0;var n=e.draggable.id===r.draggable.id&&e.draggable.droppableId===r.draggable.droppableId&&e.draggable.type===r.draggable.type&&e.draggable.index===r.draggable.index,i=e.droppable.id===r.droppable.id&&e.droppable.type===r.droppable.type;return n&&i},kh=function(e,r){r()},Sm=function(e,r){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:r}},V0=function(e,r,n,i){if(!e){n(i(r));return}var a=az(n),o={announce:a};e(r,o),a.wasCalled()||n(i(r))},uz=function(t,e){var r=sz(),n=null,i=function(y,g){n&&jt(),kh("onBeforeCapture",function(){var k=t().onBeforeCapture;if(k){var _={draggableId:y,mode:g};k(_)}})},a=function(y,g){n&&jt(),kh("onBeforeDragStart",function(){var k=t().onBeforeDragStart;k&&k(Sm(y,g))})},o=function(y,g){n&&jt();var k=Sm(y,g);n={mode:g,lastCritical:y,lastLocation:k.source,lastCombine:null},r.add(function(){kh("onDragStart",function(){return V0(t().onDragStart,k,e,Hm.onDragStart)})})},l=function(y,g){var k=Qb(g),_=lv(g);n||jt();var N=!cz(y,n.lastCritical);N&&(n.lastCritical=y);var E=!oz(n.lastLocation,k);E&&(n.lastLocation=k);var T=!lz(n.lastCombine,_);if(T&&(n.lastCombine=_),!(!N&&!E&&!T)){var P=wr({},Sm(y,n.mode),{combine:_,destination:k});r.add(function(){kh("onDragUpdate",function(){return V0(t().onDragUpdate,P,e,Hm.onDragUpdate)})})}},u=function(){n||jt(),r.flush()},d=function(y){n||jt(),n=null,kh("onDragEnd",function(){return V0(t().onDragEnd,y,e,Hm.onDragEnd)})},f=function(){if(n){var y=wr({},Sm(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});d(y)}};return{beforeCapture:i,beforeStart:a,start:o,update:l,flush:u,drop:d,abort:f}},dz=function(t,e){var r=uz(t,e);return function(n){return function(i){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var o=a.payload.critical;r.beforeStart(o,a.payload.movementMode),i(a),r.start(o,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var l=a.payload.completed.result;r.flush(),i(a),r.drop(l);return}if(i(a),a.type==="FLUSH"){r.abort();return}var u=n.getState();u.phase==="DRAGGING"&&r.update(u.critical,u.impact)}}}},fz=function(t){return function(e){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){e(r);return}var n=t.getState();n.phase!=="DROP_ANIMATING"&&jt(),t.dispatch(i2({completed:n.completed}))}}},hz=function(t){var e=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),e&&(e(),e=null)}return function(i){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&n(),i(a),a.type==="DROP_ANIMATE"){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var u=t.getState();u.phase==="DROP_ANIMATING"&&t.dispatch(eA())}};r=requestAnimationFrame(function(){r=null,e=Ho(window,[o])})}}}},pz=function(t){return function(){return function(e){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&t.stopPublishing(),e(r)}}}},mz=function(t){var e=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(n.payload.critical.draggable.id),r(n),t.tryRestoreFocusRecorded();return}if(r(n),!!e){if(n.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){e=!1;var i=n.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},gz=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},vz=function(t){return function(e){return function(r){return function(n){if(gz(n)){t.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var i=e.getState();i.phase!=="DRAGGING"&&jt(),t.start(i);return}r(n),t.scroll(e.getState())}}}},yz=function(t){return function(e){return function(r){if(e(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=t.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||t.dispatch(X3({reason:n.reason})))}}}},bz=y3,xz=function(t){var e=t.dimensionMarshal,r=t.focusMarshal,n=t.styleMarshal,i=t.getResponders,a=t.announce,o=t.autoScroller;return v3(j9,bz(kM(K9(n),pz(e),G9(e),ez,fz,hz,yz,vz(o),iz,mz(r),dz(i,a))))},H0=function(){return{additions:{},removals:{},modified:{}}};function wz(t){var e=t.registry,r=t.callbacks,n=H0(),i=null,a=function(){i||(r.collectionStarting(),i=requestAnimationFrame(function(){i=null;var f=n,m=f.additions,y=f.removals,g=f.modified,k=Object.keys(m).map(function(E){return e.draggable.getById(E).getDimension(Fa)}).sort(function(E,T){return E.descriptor.index-T.descriptor.index}),_=Object.keys(g).map(function(E){var T=e.droppable.getById(E),P=T.callbacks.getScrollWhileDragging();return{droppableId:E,scroll:P}}),N={additions:k,removals:Object.keys(y),modified:_};n=H0(),r.publish(N)}))},o=function(f){var m=f.descriptor.id;n.additions[m]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[m]&&delete n.removals[m],a()},l=function(f){var m=f.descriptor;n.removals[m.id]=!0,n.modified[m.droppableId]=!0,n.additions[m.id]&&delete n.additions[m.id],a()},u=function(){i&&(cancelAnimationFrame(i),i=null,n=H0())};return{add:o,remove:l,stop:u}}var nA=function(t){var e=t.scrollHeight,r=t.scrollWidth,n=t.height,i=t.width,a=_o({x:r,y:e},{x:i,y:n}),o={x:Math.max(0,a.x),y:Math.max(0,a.y)};return o},iA=function(){var t=document.documentElement;return t||jt(),t},aA=function(){var t=iA(),e=nA({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},Sz=function(){var t=rA(),e=aA(),r=t.y,n=t.x,i=iA(),a=i.clientWidth,o=i.clientHeight,l=n+a,u=r+o,d=xl({top:r,left:n,right:l,bottom:u}),f={frame:d,scroll:{initial:t,current:t,max:e,diff:{value:Fa,displacement:Fa}}};return f},_z=function(t){var e=t.critical,r=t.scrollOptions,n=t.registry,i=Sz(),a=i.scroll.current,o=e.droppable,l=n.droppable.getAllByType(o.type).map(function(m){return m.callbacks.getDimensionAndWatchScroll(a,r)}),u=n.draggable.getAllByType(e.draggable.type).map(function(m){return m.getDimension(a)}),d={draggables:L3(u),droppables:D3(l)},f={dimensions:d,critical:e,viewport:i};return f};function iS(t,e,r){if(r.descriptor.id===e.id||r.descriptor.type!==e.type)return!1;var n=t.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var kz=function(t,e){var r=null,n=wz({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(g,k){t.droppable.exists(g)||jt(),r&&e.updateDroppableIsEnabled({id:g,isEnabled:k})},a=function(g,k){r&&(t.droppable.exists(g)||jt(),e.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:k}))},o=function(g,k){r&&(t.droppable.exists(g)||jt(),e.updateDroppableScroll({id:g,newScroll:k}))},l=function(g,k){r&&t.droppable.getById(g).callbacks.scroll(k)},u=function(){if(r){n.stop();var g=r.critical.droppable;t.droppable.getAllByType(g.type).forEach(function(k){return k.callbacks.dragStopped()}),r.unsubscribe(),r=null}},d=function(g){r||jt();var k=r.critical.draggable;g.type==="ADDITION"&&iS(t,k,g.value)&&n.add(g.value),g.type==="REMOVAL"&&iS(t,k,g.value)&&n.remove(g.value)},f=function(g){r&&jt();var k=t.draggable.getById(g.draggableId),_=t.droppable.getById(k.descriptor.droppableId),N={draggable:k.descriptor,droppable:_.descriptor},E=t.subscribe(d);return r={critical:N,unsubscribe:E},_z({critical:N,registry:t,scrollOptions:g.scrollOptions})},m={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:a,scrollDroppable:l,updateDroppableScroll:o,startPublishing:f,stopPublishing:u};return m},sA=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},Nz=function(t){window.scrollBy(t.x,t.y)},Cz=Oa(function(t){return ov(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),Az=function(e,r){var n=zu(Cz(r),function(i){return i.frame||jt(),W3(i.frame.pageMarginBox)(e)});return n},Ez=function(t){var e=t.center,r=t.destination,n=t.droppables;if(r){var i=n[r];return i.frame?i:null}var a=Az(e,n);return a},ku={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},Pz=function(t,e){var r=t[e.size]*ku.startFromPercentage,n=t[e.size]*ku.maxScrollAtPercentage,i={startScrollingFrom:r,maxScrollValueAt:n};return i},oA=function(t){var e=t.startOfRange,r=t.endOfRange,n=t.current,i=r-e;if(i===0)return 0;var a=n-e,o=a/i;return o},o2=1,jz=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return ku.maxPixelScroll;if(t===e.startScrollingFrom)return o2;var r=oA({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),n=1-r,i=ku.maxPixelScroll*ku.ease(n);return Math.ceil(i)},aS=ku.durationDampening.accelerateAt,sS=ku.durationDampening.stopDampeningAt,Iz=function(t,e){var r=e,n=sS,i=Date.now(),a=i-r;if(a>=sS)return t;if(a<aS)return o2;var o=oA({startOfRange:aS,endOfRange:n,current:a}),l=t*ku.ease(o);return Math.ceil(l)},oS=function(t){var e=t.distanceToEdge,r=t.thresholds,n=t.dragStartTime,i=t.shouldUseTimeDampening,a=jz(e,r);return a===0?0:i?Math.max(Iz(a,n),o2):a},lS=function(t){var e=t.container,r=t.distanceToEdges,n=t.dragStartTime,i=t.axis,a=t.shouldUseTimeDampening,o=Pz(e,i),l=r[i.end]<r[i.start];return l?oS({distanceToEdge:r[i.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a}):-1*oS({distanceToEdge:r[i.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:a})},Tz=function(t){var e=t.container,r=t.subject,n=t.proposedScroll,i=r.height>e.height,a=r.width>e.width;return!a&&!i?n:a&&i?null:{x:a?0:n.x,y:i?0:n.y}},Dz=I3(function(t){return t===0?0:t}),lA=function(t){var e=t.dragStartTime,r=t.container,n=t.subject,i=t.center,a=t.shouldUseTimeDampening,o={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},l=lS({container:r,distanceToEdges:o,dragStartTime:e,axis:Zb,shouldUseTimeDampening:a}),u=lS({container:r,distanceToEdges:o,dragStartTime:e,axis:F3,shouldUseTimeDampening:a}),d=Dz({x:u,y:l});if(_u(d,Fa))return null;var f=Tz({container:r,subject:n,proposedScroll:d});return f?_u(f,Fa)?null:f:null},Lz=I3(function(t){return t===0?0:t>0?1:-1}),l2=function(){var t=function(r,n){return r<0?r:r>n?r-n:0};return function(e){var r=e.current,n=e.max,i=e.change,a=Va(r,i),o={x:t(a.x,n.x),y:t(a.y,n.y)};return _u(o,Fa)?null:o}}(),cA=function(e){var r=e.max,n=e.current,i=e.change,a={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},o=Lz(i),l=l2({max:a,current:n,change:o});return!l||o.x!==0&&l.x===0||o.y!==0&&l.y===0},c2=function(e,r){return cA({current:e.scroll.current,max:e.scroll.max,change:r})},Rz=function(e,r){if(!c2(e,r))return null;var n=e.scroll.max,i=e.scroll.current;return l2({current:i,max:n,change:r})},u2=function(e,r){var n=e.frame;return n?cA({current:n.scroll.current,max:n.scroll.max,change:r}):!1},Oz=function(e,r){var n=e.frame;return!n||!u2(e,r)?null:l2({current:n.scroll.current,max:n.scroll.max,change:r})},Fz=function(t){var e=t.viewport,r=t.subject,n=t.center,i=t.dragStartTime,a=t.shouldUseTimeDampening,o=lA({dragStartTime:i,container:e.frame,subject:r,center:n,shouldUseTimeDampening:a});return o&&c2(e,o)?o:null},Mz=function(t){var e=t.droppable,r=t.subject,n=t.center,i=t.dragStartTime,a=t.shouldUseTimeDampening,o=e.frame;if(!o)return null;var l=lA({dragStartTime:i,container:o.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:a});return l&&u2(e,l)?l:null},cS=function(t){var e=t.state,r=t.dragStartTime,n=t.shouldUseTimeDampening,i=t.scrollWindow,a=t.scrollDroppable,o=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id],u=l.page.marginBox;if(e.isWindowScrollAllowed){var d=e.viewport,f=Fz({dragStartTime:r,viewport:d,subject:u,center:o,shouldUseTimeDampening:n});if(f){i(f);return}}var m=Ez({center:o,destination:Ao(e.impact),droppables:e.dimensions.droppables});if(m){var y=Mz({dragStartTime:r,droppable:m,subject:u,center:o,shouldUseTimeDampening:n});y&&a(m.descriptor.id,y)}},Bz=function(t){var e=t.scrollWindow,r=t.scrollDroppable,n=ep(e),i=ep(r),a=null,o=function(f){a||jt();var m=a,y=m.shouldUseTimeDampening,g=m.dragStartTime;cS({state:f,scrollWindow:n,scrollDroppable:i,dragStartTime:g,shouldUseTimeDampening:y})},l=function(f){a&&jt();var m=Date.now(),y=!1,g=function(){y=!0};cS({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g}),a={dragStartTime:m,shouldUseTimeDampening:y},y&&o(f)},u=function(){a&&(n.cancel(),i.cancel(),a=null)};return{start:l,stop:u,scroll:o}},zz=function(t){var e=t.move,r=t.scrollDroppable,n=t.scrollWindow,i=function(d,f){var m=Va(d.current.client.selection,f);e({client:m})},a=function(d,f){if(!u2(d,f))return f;var m=Oz(d,f);if(!m)return r(d.descriptor.id,f),null;var y=_o(f,m);r(d.descriptor.id,y);var g=_o(f,y);return g},o=function(d,f,m){if(!d||!c2(f,m))return m;var y=Rz(f,m);if(!y)return n(m),null;var g=_o(m,y);n(g);var k=_o(m,g);return k},l=function(d){var f=d.scrollJumpRequest;if(f){var m=Ao(d.impact);m||jt();var y=a(d.dimensions.droppables[m],f);if(y){var g=d.viewport,k=o(d.isWindowScrollAllowed,g,y);k&&i(d,k)}}};return l},Uz=function(t){var e=t.scrollDroppable,r=t.scrollWindow,n=t.move,i=Bz({scrollWindow:r,scrollDroppable:e}),a=zz({move:n,scrollWindow:r,scrollDroppable:e}),o=function(d){if(d.phase==="DRAGGING"){if(d.movementMode==="FLUID"){i.scroll(d);return}d.scrollJumpRequest&&a(d)}},l={scroll:o,start:i.start,stop:i.stop};return l},Mf="data-rbd",Bf=function(){var t=Mf+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),f1=function(){var t=Mf+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),$z=function(){var t=Mf+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),uS={contextId:Mf+"-scroll-container-context-id"},qz=function(e){return function(r){return"["+r+'="'+e+'"]'}},Nh=function(e,r){return e.map(function(n){var i=n.styles[r];return i?n.selector+" { "+i+" }":""}).join(" ")},Wz="pointer-events: none;",Vz=function(t){var e=qz(t),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Bf.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Wz,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+Uh.outOfTheWay+`;
    `;return{selector:e(f1.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),i={selector:e($z.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},o=[n,r,i,a];return{always:Nh(o,"always"),resting:Nh(o,"resting"),dragging:Nh(o,"dragging"),dropAnimating:Nh(o,"dropAnimating"),userCancel:Nh(o,"userCancel")}},Eo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?D.useLayoutEffect:D.useEffect,G0=function(){var e=document.querySelector("head");return e||jt(),e},dS=function(e){var r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.type="text/css",r};function Hz(t,e){var r=dn(function(){return Vz(t)},[t]),n=D.useRef(null),i=D.useRef(null),a=ur(Oa(function(m){var y=i.current;y||jt(),y.textContent=m}),[]),o=ur(function(m){var y=n.current;y||jt(),y.textContent=m},[]);Eo(function(){!n.current&&!i.current||jt();var m=dS(e),y=dS(e);return n.current=m,i.current=y,m.setAttribute(Mf+"-always",t),y.setAttribute(Mf+"-dynamic",t),G0().appendChild(m),G0().appendChild(y),o(r.always),a(r.resting),function(){var g=function(_){var N=_.current;N||jt(),G0().removeChild(N),_.current=null};g(n),g(i)}},[e,o,a,r.always,r.resting,t]);var l=ur(function(){return a(r.dragging)},[a,r.dragging]),u=ur(function(m){if(m==="DROP"){a(r.dropAnimating);return}a(r.userCancel)},[a,r.dropAnimating,r.userCancel]),d=ur(function(){i.current&&a(r.resting)},[a,r.resting]),f=dn(function(){return{dragging:l,dropping:u,resting:d}},[l,u,d]);return f}var uA=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function dv(t){return t instanceof uA(t).HTMLElement}function Gz(t,e){var r="["+Bf.contextId+'="'+t+'"]',n=T3(document.querySelectorAll(r));if(!n.length)return null;var i=zu(n,function(a){return a.getAttribute(Bf.draggableId)===e});return!i||!dv(i)?null:i}function Kz(t){var e=D.useRef({}),r=D.useRef(null),n=D.useRef(null),i=D.useRef(!1),a=ur(function(y,g){var k={id:y,focus:g};return e.current[y]=k,function(){var N=e.current,E=N[y];E!==k&&delete N[y]}},[]),o=ur(function(y){var g=Gz(t,y);g&&g!==document.activeElement&&g.focus()},[t]),l=ur(function(y,g){r.current===y&&(r.current=g)},[]),u=ur(function(){n.current||i.current&&(n.current=requestAnimationFrame(function(){n.current=null;var y=r.current;y&&o(y)}))},[o]),d=ur(function(y){r.current=null;var g=document.activeElement;g&&g.getAttribute(Bf.draggableId)===y&&(r.current=y)},[]);Eo(function(){return i.current=!0,function(){i.current=!1;var y=n.current;y&&cancelAnimationFrame(y)}},[]);var f=dn(function(){return{register:a,tryRecordFocus:d,tryRestoreFocusRecorded:u,tryShiftRecord:l}},[a,d,u,l]);return f}function Yz(){var t={draggables:{},droppables:{}},e=[];function r(m){return e.push(m),function(){var g=e.indexOf(m);g!==-1&&e.splice(g,1)}}function n(m){e.length&&e.forEach(function(y){return y(m)})}function i(m){return t.draggables[m]||null}function a(m){var y=i(m);return y||jt(),y}var o={register:function(y){t.draggables[y.descriptor.id]=y,n({type:"ADDITION",value:y})},update:function(y,g){var k=t.draggables[g.descriptor.id];k&&k.uniqueId===y.uniqueId&&(delete t.draggables[g.descriptor.id],t.draggables[y.descriptor.id]=y)},unregister:function(y){var g=y.descriptor.id,k=i(g);k&&y.uniqueId===k.uniqueId&&(delete t.draggables[g],n({type:"REMOVAL",value:y}))},getById:a,findById:i,exists:function(y){return!!i(y)},getAllByType:function(y){return wg(t.draggables).filter(function(g){return g.descriptor.type===y})}};function l(m){return t.droppables[m]||null}function u(m){var y=l(m);return y||jt(),y}var d={register:function(y){t.droppables[y.descriptor.id]=y},unregister:function(y){var g=l(y.descriptor.id);g&&y.uniqueId===g.uniqueId&&delete t.droppables[y.descriptor.id]},getById:u,findById:l,exists:function(y){return!!l(y)},getAllByType:function(y){return wg(t.droppables).filter(function(g){return g.descriptor.type===y})}};function f(){t.draggables={},t.droppables={},e.length=0}return{draggable:o,droppable:d,subscribe:r,clean:f}}function Jz(){var t=dn(Yz,[]);return D.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var d2=Wt.createContext(null),_g=function(){var t=document.body;return t||jt(),t},Qz={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Zz=function(e){return"rbd-announcement-"+e};function Xz(t){var e=dn(function(){return Zz(t)},[t]),r=D.useRef(null);D.useEffect(function(){var a=document.createElement("div");return r.current=a,a.id=e,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),wr(a.style,Qz),_g().appendChild(a),function(){setTimeout(function(){var u=_g();u.contains(a)&&u.removeChild(a),a===r.current&&(r.current=null)})}},[e]);var n=ur(function(i){var a=r.current;if(a){a.textContent=i;return}},[]);return n}var eU=0,tU={separator:"::"};function f2(t,e){return e===void 0&&(e=tU),dn(function(){return""+t+e.separator+eU++},[e.separator,t])}function rU(t){var e=t.contextId,r=t.uniqueId;return"rbd-hidden-text-"+e+"-"+r}function nU(t){var e=t.contextId,r=t.text,n=f2("hidden-text",{separator:"-"}),i=dn(function(){return rU({contextId:e,uniqueId:n})},[n,e]);return D.useEffect(function(){var o=document.createElement("div");return o.id=i,o.textContent=r,o.style.display="none",_g().appendChild(o),function(){var u=_g();u.contains(o)&&u.removeChild(o)}},[i,r]),i}var fv=Wt.createContext(null);function dA(t){var e=D.useRef(t);return D.useEffect(function(){e.current=t}),e}function iU(){var t=null;function e(){return!!t}function r(o){return o===t}function n(o){t&&jt();var l={abandon:o};return t=l,l}function i(){t||jt(),t=null}function a(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:r,claim:n,release:i,tryAbandon:a}}var aU=9,sU=13,h2=27,fA=32,oU=33,lU=34,cU=35,uU=36,dU=37,fU=38,hU=39,pU=40,_m,mU=(_m={},_m[sU]=!0,_m[aU]=!0,_m),hA=function(t){mU[t.keyCode]&&t.preventDefault()},hv=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],r=zu(e,function(n){return"on"+n in document});return r||t}(),pA=0,fS=5;function gU(t,e){return Math.abs(e.x-t.x)>=fS||Math.abs(e.y-t.y)>=fS}var hS={type:"IDLE"};function vU(t){var e=t.cancel,r=t.completed,n=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(o){var l=o.button,u=o.clientX,d=o.clientY;if(l===pA){var f={x:u,y:d},m=n();if(m.type==="DRAGGING"){o.preventDefault(),m.actions.move(f);return}m.type!=="PENDING"&&jt();var y=m.point;if(gU(y,f)){o.preventDefault();var g=m.actions.fluidLift(f);i({type:"DRAGGING",actions:g})}}}},{eventName:"mouseup",fn:function(o){var l=n();if(l.type!=="DRAGGING"){e();return}o.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(o){n().type==="DRAGGING"&&o.preventDefault(),e()}},{eventName:"keydown",fn:function(o){var l=n();if(l.type==="PENDING"){e();return}if(o.keyCode===h2){o.preventDefault(),e();return}hA(o)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(o){var l=n();if(l.type==="IDLE"&&jt(),l.actions.shouldRespectForcePress()){e();return}o.preventDefault()}},{eventName:hv,fn:e}]}function yU(t){var e=D.useRef(hS),r=D.useRef(Su),n=dn(function(){return{eventName:"mousedown",fn:function(m){if(!m.defaultPrevented&&m.button===pA&&!(m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)){var y=t.findClosestDraggableId(m);if(y){var g=t.tryGetLock(y,o,{sourceEvent:m});if(g){m.preventDefault();var k={x:m.clientX,y:m.clientY};r.current(),d(g,k)}}}}}},[t]),i=dn(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(m){if(!m.defaultPrevented){var y=t.findClosestDraggableId(m);if(y){var g=t.findOptionsForDraggable(y);g&&(g.shouldRespectForcePress||t.canGetLock(y)&&m.preventDefault())}}}}},[t]),a=ur(function(){var m={passive:!1,capture:!0};r.current=Ho(window,[i,n],m)},[i,n]),o=ur(function(){var f=e.current;f.type!=="IDLE"&&(e.current=hS,r.current(),a())},[a]),l=ur(function(){var f=e.current;o(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[o]),u=ur(function(){var m={capture:!0,passive:!1},y=vU({cancel:l,completed:o,getPhase:function(){return e.current},setPhase:function(k){e.current=k}});r.current=Ho(window,y,m)},[l,o]),d=ur(function(m,y){e.current.type!=="IDLE"&&jt(),e.current={type:"PENDING",point:y,actions:m},u()},[u]);Eo(function(){return a(),function(){r.current()}},[a])}var lf;function bU(){}var xU=(lf={},lf[lU]=!0,lf[oU]=!0,lf[uU]=!0,lf[cU]=!0,lf);function wU(t,e){function r(){e(),t.cancel()}function n(){e(),t.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===h2){a.preventDefault(),r();return}if(a.keyCode===fA){a.preventDefault(),n();return}if(a.keyCode===pU){a.preventDefault(),t.moveDown();return}if(a.keyCode===fU){a.preventDefault(),t.moveUp();return}if(a.keyCode===hU){a.preventDefault(),t.moveRight();return}if(a.keyCode===dU){a.preventDefault(),t.moveLeft();return}if(xU[a.keyCode]){a.preventDefault();return}hA(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:hv,fn:r}]}function SU(t){var e=D.useRef(bU),r=dn(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==fA)return;var o=t.findClosestDraggableId(a);if(!o)return;var l=t.tryGetLock(o,f,{sourceEvent:a});if(!l)return;a.preventDefault();var u=!0,d=l.snapLift();e.current();function f(){u||jt(),u=!1,e.current(),n()}e.current=Ho(window,wU(d,f),{capture:!0,passive:!1})}}},[t]),n=ur(function(){var a={passive:!1,capture:!0};e.current=Ho(window,[r],a)},[r]);Eo(function(){return n(),function(){e.current()}},[n])}var K0={type:"IDLE"},_U=120,kU=.15;function NU(t){var e=t.cancel,r=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(r().type!=="DRAGGING"){e();return}i.keyCode===h2&&i.preventDefault(),e()}},{eventName:hv,fn:e}]}function CU(t){var e=t.cancel,r=t.completed,n=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var o=n();if(o.type!=="DRAGGING"){e();return}o.hasMoved=!0;var l=a.touches[0],u=l.clientX,d=l.clientY,f={x:u,y:d};a.preventDefault(),o.actions.move(f)}},{eventName:"touchend",fn:function(a){var o=n();if(o.type!=="DRAGGING"){e();return}a.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(a){if(n().type!=="DRAGGING"){e();return}a.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(a){var o=n();o.type==="IDLE"&&jt();var l=a.touches[0];if(l){var u=l.force>=kU;if(u){var d=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){d&&e();return}if(d){if(o.hasMoved){a.preventDefault();return}e();return}a.preventDefault()}}}},{eventName:hv,fn:e}]}function AU(t){var e=D.useRef(K0),r=D.useRef(Su),n=ur(function(){return e.current},[]),i=ur(function(g){e.current=g},[]),a=dn(function(){return{eventName:"touchstart",fn:function(g){if(!g.defaultPrevented){var k=t.findClosestDraggableId(g);if(k){var _=t.tryGetLock(k,l,{sourceEvent:g});if(_){var N=g.touches[0],E=N.clientX,T=N.clientY,P={x:E,y:T};r.current(),m(_,P)}}}}}},[t]),o=ur(function(){var g={capture:!0,passive:!1};r.current=Ho(window,[a],g)},[a]),l=ur(function(){var y=e.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),i(K0),r.current(),o())},[o,i]),u=ur(function(){var y=e.current;l(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[l]),d=ur(function(){var g={capture:!0,passive:!1},k={cancel:u,completed:l,getPhase:n},_=Ho(window,CU(k),g),N=Ho(window,NU(k),g);r.current=function(){_(),N()}},[u,n,l]),f=ur(function(){var g=n();g.type!=="PENDING"&&jt();var k=g.actions.fluidLift(g.point);i({type:"DRAGGING",actions:k,hasMoved:!1})},[n,i]),m=ur(function(g,k){n().type!=="IDLE"&&jt();var _=setTimeout(f,_U);i({type:"PENDING",point:k,actions:g,longPressTimerId:_}),d()},[d,n,i,f]);Eo(function(){return o(),function(){r.current();var k=n();k.type==="PENDING"&&(clearTimeout(k.longPressTimerId),i(K0))}},[n,o,i]),Eo(function(){var g=Ho(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return g},[])}var EU={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function mA(t,e){if(e==null)return!1;var r=!!EU[e.tagName.toLowerCase()];if(r)return!0;var n=e.getAttribute("contenteditable");return n==="true"||n===""?!0:e===t?!1:mA(t,e.parentElement)}function PU(t,e){var r=e.target;return dv(r)?mA(t,r):!1}var jU=function(t){return xl(t.getBoundingClientRect()).center};function IU(t){return t instanceof uA(t).Element}var TU=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],r=zu(e,function(n){return n in Element.prototype});return r||t}();function gA(t,e){return t==null?null:t[TU](e)?t:gA(t.parentElement,e)}function DU(t,e){return t.closest?t.closest(e):gA(t,e)}function LU(t){return"["+Bf.contextId+'="'+t+'"]'}function RU(t,e){var r=e.target;if(!IU(r))return null;var n=LU(t),i=DU(r,n);return!i||!dv(i)?null:i}function OU(t,e){var r=RU(t,e);return r?r.getAttribute(Bf.draggableId):null}function FU(t,e){var r="["+f1.contextId+'="'+t+'"]',n=T3(document.querySelectorAll(r)),i=zu(n,function(a){return a.getAttribute(f1.id)===e});return!i||!dv(i)?null:i}function MU(t){t.preventDefault()}function km(t){var e=t.expected,r=t.phase,n=t.isLockActive;return t.shouldWarn,!(!n()||e!==r)}function vA(t){var e=t.lockAPI,r=t.store,n=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var a=n.draggable.findById(i);return!(!a||!a.options.isEnabled||!sA(r.getState(),i))}function BU(t){var e=t.lockAPI,r=t.contextId,n=t.store,i=t.registry,a=t.draggableId,o=t.forceSensorStop,l=t.sourceEvent,u=vA({lockAPI:e,store:n,registry:i,draggableId:a});if(!u)return null;var d=i.draggable.getById(a),f=FU(r,d.descriptor.id);if(!f||l&&!d.options.canDragInteractiveElements&&PU(f,l))return null;var m=e.claim(o||Su),y="PRE_DRAG";function g(){return d.options.shouldRespectForcePress}function k(){return e.isActive(m)}function _(Q,K){km({expected:Q,phase:y,isLockActive:k,shouldWarn:!0})&&n.dispatch(K())}var N=_.bind(null,"DRAGGING");function E(Q){function K(){e.release(),y="COMPLETED"}y!=="PRE_DRAG"&&(K(),y!=="PRE_DRAG"&&jt()),n.dispatch(T9(Q.liftActionArgs)),y="DRAGGING";function G(H,oe){if(oe===void 0&&(oe={shouldBlockNextClick:!1}),Q.cleanup(),oe.shouldBlockNextClick){var z=Ho(window,[{eventName:"click",fn:MU,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(z)}K(),n.dispatch(X3({reason:H}))}return wr({isActive:function(){return km({expected:"DRAGGING",phase:y,isLockActive:k,shouldWarn:!1})},shouldRespectForcePress:g,drop:function(oe){return G("DROP",oe)},cancel:function(oe){return G("CANCEL",oe)}},Q.actions)}function T(Q){var K=ep(function(H){N(function(){return Z3({client:H})})}),G=E({liftActionArgs:{id:a,clientSelection:Q,movementMode:"FLUID"},cleanup:function(){return K.cancel()},actions:{move:K}});return wr({},G,{move:K})}function P(){var Q={moveUp:function(){return N(U9)},moveRight:function(){return N(q9)},moveDown:function(){return N($9)},moveLeft:function(){return N(W9)}};return E({liftActionArgs:{id:a,clientSelection:jU(f),movementMode:"SNAP"},cleanup:Su,actions:Q})}function R(){var Q=km({expected:"PRE_DRAG",phase:y,isLockActive:k,shouldWarn:!0});Q&&e.release()}var M={isActive:function(){return km({expected:"PRE_DRAG",phase:y,isLockActive:k,shouldWarn:!1})},shouldRespectForcePress:g,fluidLift:T,snapLift:P,abort:R};return M}var zU=[yU,SU,AU];function UU(t){var e=t.contextId,r=t.store,n=t.registry,i=t.customSensors,a=t.enableDefaultSensors,o=[].concat(a?zU:[],i||[]),l=D.useState(function(){return iU()})[0],u=ur(function(T,P){T.isDragging&&!P.isDragging&&l.tryAbandon()},[l]);Eo(function(){var T=r.getState(),P=r.subscribe(function(){var R=r.getState();u(T,R),T=R});return P},[l,r,u]),Eo(function(){return l.tryAbandon},[l.tryAbandon]);for(var d=ur(function(E){return vA({lockAPI:l,registry:n,store:r,draggableId:E})},[l,n,r]),f=ur(function(E,T,P){return BU({lockAPI:l,registry:n,contextId:e,store:r,draggableId:E,forceSensorStop:T,sourceEvent:P&&P.sourceEvent?P.sourceEvent:null})},[e,l,n,r]),m=ur(function(E){return OU(e,E)},[e]),y=ur(function(E){var T=n.draggable.findById(E);return T?T.options:null},[n.draggable]),g=ur(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(n2()))},[l,r]),k=ur(l.isClaimed,[l]),_=dn(function(){return{canGetLock:d,tryGetLock:f,findClosestDraggableId:m,findOptionsForDraggable:y,tryReleaseLock:g,isLockClaimed:k}},[d,f,m,y,g,k]),N=0;N<o.length;N++)o[N](_)}var $U=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Ch(t){return t.current||jt(),t.current}function qU(t){var e=t.contextId,r=t.setCallbacks,n=t.sensors,i=t.nonce,a=t.dragHandleUsageInstructions,o=D.useRef(null),l=dA(t),u=ur(function(){return $U(l.current)},[l]),d=Xz(e),f=nU({contextId:e,text:a}),m=Hz(e,i),y=ur(function(H){Ch(o).dispatch(H)},[]),g=dn(function(){return L5({publishWhileDragging:L9,updateDroppableScroll:O9,updateDroppableIsEnabled:F9,updateDroppableIsCombineEnabled:M9,collectionStarting:R9},y)},[y]),k=Jz(),_=dn(function(){return kz(k,g)},[k,g]),N=dn(function(){return Uz(wr({scrollWindow:Nz,scrollDroppable:_.scrollDroppable},L5({move:Z3},y)))},[_.scrollDroppable,y]),E=Kz(e),T=dn(function(){return xz({announce:d,autoScroller:N,dimensionMarshal:_,focusMarshal:E,getResponders:u,styleMarshal:m})},[d,N,_,E,u,m]);o.current=T;var P=ur(function(){var H=Ch(o),oe=H.getState();oe.phase!=="IDLE"&&H.dispatch(n2())},[]),R=ur(function(){var H=Ch(o).getState();return H.isDragging||H.phase==="DROP_ANIMATING"},[]),M=dn(function(){return{isDragging:R,tryAbort:P}},[R,P]);r(M);var Q=ur(function(H){return sA(Ch(o).getState(),H)},[]),K=ur(function(){return od(Ch(o).getState())},[]),G=dn(function(){return{marshal:_,focus:E,contextId:e,canLift:Q,isMovementAllowed:K,dragHandleUsageInstructionsId:f,registry:k}},[e,_,f,E,Q,K,k]);return UU({contextId:e,store:T,registry:k,customSensors:n,enableDefaultSensors:t.enableDefaultSensors!==!1}),D.useEffect(function(){return P},[P]),Wt.createElement(fv.Provider,{value:G},Wt.createElement(PM,{context:d2,store:T},t.children))}var WU=0;function VU(){return dn(function(){return""+WU++},[])}function HU(t){var e=VU(),r=t.dragHandleUsageInstructions||Hm.dragHandleUsageInstructions;return Wt.createElement(SB,null,function(n){return Wt.createElement(qU,{nonce:t.nonce,contextId:e,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var yA=function(e){return function(r){return e===r}},GU=yA("scroll"),KU=yA("auto"),pS=function(e,r){return r(e.overflowX)||r(e.overflowY)},YU=function(e){var r=window.getComputedStyle(e),n={overflowX:r.overflowX,overflowY:r.overflowY};return pS(n,GU)||pS(n,KU)},JU=function(){return!1},QU=function t(e){return e==null?null:e===document.body?JU()?e:null:e===document.documentElement?null:YU(e)?e:t(e.parentElement)},h1=function(t){return{x:t.scrollLeft,y:t.scrollTop}},ZU=function t(e){if(!e)return!1;var r=window.getComputedStyle(e);return r.position==="fixed"?!0:t(e.parentElement)},XU=function(t){var e=QU(t),r=ZU(t);return{closestScrollable:e,isFixedOnPage:r}},e$=function(t){var e=t.descriptor,r=t.isEnabled,n=t.isCombineEnabled,i=t.isFixedOnPage,a=t.direction,o=t.client,l=t.page,u=t.closest,d=function(){if(!u)return null;var g=u.scrollSize,k=u.client,_=nA({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:k.paddingBox.height,width:k.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:k,scrollSize:g,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:_,diff:{value:Fa,displacement:Fa}}}}(),f=a==="vertical"?Zb:F3,m=Ff({page:l,withPlaceholder:null,axis:f,frame:d}),y={descriptor:e,isCombineEnabled:n,isFixedOnPage:i,axis:f,isEnabled:r,client:o,page:l,frame:d,subject:m};return y},t$=function(e,r){var n=A3(e);if(!r||e!==r)return n;var i=n.paddingBox.top-r.scrollTop,a=n.paddingBox.left-r.scrollLeft,o=i+r.scrollHeight,l=a+r.scrollWidth,u={top:i,right:l,bottom:o,left:a},d=Gb(u,n.border),f=Kb({borderBox:d,margin:n.margin,border:n.border,padding:n.padding});return f},r$=function(t){var e=t.ref,r=t.descriptor,n=t.env,i=t.windowScroll,a=t.direction,o=t.isDropDisabled,l=t.isCombineEnabled,u=t.shouldClipSubject,d=n.closestScrollable,f=t$(e,d),m=yg(f,i),y=function(){if(!d)return null;var k=A3(d),_={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:k,page:yg(k,i),scroll:h1(d),scrollSize:_,shouldClipSubject:u}}(),g=e$({descriptor:r,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:a,client:f,page:m,closest:y});return g},n$={passive:!1},i$={passive:!0},mS=function(t){return t.shouldPublishImmediately?n$:i$};function kg(t){var e=D.useContext(t);return e||jt(),e}var Nm=function(e){return e&&e.env.closestScrollable||null};function a$(t){var e=D.useRef(null),r=kg(fv),n=f2("droppable"),i=r.registry,a=r.marshal,o=dA(t),l=dn(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),u=D.useRef(l),d=dn(function(){return Oa(function(R,M){e.current||jt();var Q={x:R,y:M};a.updateDroppableScroll(l.id,Q)})},[l.id,a]),f=ur(function(){var R=e.current;return!R||!R.env.closestScrollable?Fa:h1(R.env.closestScrollable)},[]),m=ur(function(){var R=f();d(R.x,R.y)},[f,d]),y=dn(function(){return ep(m)},[m]),g=ur(function(){var R=e.current,M=Nm(R);R&&M||jt();var Q=R.scrollOptions;if(Q.shouldPublishImmediately){m();return}y()},[y,m]),k=ur(function(R,M){e.current&&jt();var Q=o.current,K=Q.getDroppableRef();K||jt();var G=XU(K),H={ref:K,descriptor:l,env:G,scrollOptions:M};e.current=H;var oe=r$({ref:K,descriptor:l,env:G,windowScroll:R,direction:Q.direction,isDropDisabled:Q.isDropDisabled,isCombineEnabled:Q.isCombineEnabled,shouldClipSubject:!Q.ignoreContainerClipping}),z=G.closestScrollable;return z&&(z.setAttribute(uS.contextId,r.contextId),z.addEventListener("scroll",g,mS(H.scrollOptions))),oe},[r.contextId,l,g,o]),_=ur(function(){var R=e.current,M=Nm(R);return R&&M||jt(),h1(M)},[]),N=ur(function(){var R=e.current;R||jt();var M=Nm(R);e.current=null,M&&(y.cancel(),M.removeAttribute(uS.contextId),M.removeEventListener("scroll",g,mS(R.scrollOptions)))},[g,y]),E=ur(function(R){var M=e.current;M||jt();var Q=Nm(M);Q||jt(),Q.scrollTop+=R.y,Q.scrollLeft+=R.x},[]),T=dn(function(){return{getDimensionAndWatchScroll:k,getScrollWhileDragging:_,dragStopped:N,scroll:E}},[N,k,_,E]),P=dn(function(){return{uniqueId:n,descriptor:l,callbacks:T}},[T,l,n]);Eo(function(){return u.current=P.descriptor,i.droppable.register(P),function(){e.current&&N(),i.droppable.unregister(P)}},[T,l,N,P,a,i.droppable]),Eo(function(){e.current&&a.updateDroppableIsEnabled(u.current.id,!t.isDropDisabled)},[t.isDropDisabled,a]),Eo(function(){e.current&&a.updateDroppableIsCombineEnabled(u.current.id,t.isCombineEnabled)},[t.isCombineEnabled,a])}function Y0(){}var gS={width:0,height:0,margin:EB},s$=function(e){var r=e.isAnimatingOpenOnMount,n=e.placeholder,i=e.animate;return r||i==="close"?gS:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},o$=function(e){var r=e.isAnimatingOpenOnMount,n=e.placeholder,i=e.animate,a=s$({isAnimatingOpenOnMount:r,placeholder:n,animate:i});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?Uh.placeholder:null}};function l$(t){var e=D.useRef(null),r=ur(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),n=t.animate,i=t.onTransitionEnd,a=t.onClose,o=t.contextId,l=D.useState(t.animate==="open"),u=l[0],d=l[1];D.useEffect(function(){return u?n!=="open"?(r(),d(!1),Y0):e.current?Y0:(e.current=setTimeout(function(){e.current=null,d(!1)}),r):Y0},[n,u,r]);var f=ur(function(y){y.propertyName==="height"&&(i(),n==="close"&&a())},[n,a,i]),m=o$({isAnimatingOpenOnMount:u,animate:t.animate,placeholder:t.placeholder});return Wt.createElement(t.placeholder.tagName,{style:m,"data-rbd-placeholder-context-id":o,onTransitionEnd:f,ref:t.innerRef})}var c$=Wt.memo(l$),p2=Wt.createContext(null),u$=function(t){g3(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}e.getDerivedStateFromProps=function(i,a){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var r=e.prototype;return r.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(Wt.PureComponent),vS={dragging:5e3,dropAnimating:4500},d$=function(e,r){return r?Uh.drop(r.duration):e?Uh.snap:Uh.fluid},f$=function(e,r){return e?r?ip.opacity.drop:ip.opacity.combining:null},h$=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function p$(t){var e=t.dimension,r=e.client,n=t.offset,i=t.combineWith,a=t.dropping,o=!!i,l=h$(t),u=!!a,d=u?u1.drop(n,o):u1.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:d$(l,a),transform:d,opacity:f$(o,u),zIndex:u?vS.dropAnimating:vS.dragging,pointerEvents:"none"};return f}function m$(t){return{transform:u1.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function g$(t){return t.type==="DRAGGING"?p$(t):m$(t)}function v$(t,e,r){r===void 0&&(r=Fa);var n=window.getComputedStyle(e),i=e.getBoundingClientRect(),a=C3(i,n),o=yg(a,r),l={client:a,tagName:e.tagName.toLowerCase(),display:n.display},u={x:a.marginBox.width,y:a.marginBox.height},d={descriptor:t,placeholder:l,displaceBy:u,client:a,page:o};return d}function y$(t){var e=f2("draggable"),r=t.descriptor,n=t.registry,i=t.getDraggableRef,a=t.canDragInteractiveElements,o=t.shouldRespectForcePress,l=t.isEnabled,u=dn(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:o,isEnabled:l}},[a,l,o]),d=ur(function(g){var k=i();return k||jt(),v$(r,k,g)},[r,i]),f=dn(function(){return{uniqueId:e,descriptor:r,options:u,getDimension:d}},[r,d,u,e]),m=D.useRef(f),y=D.useRef(!0);Eo(function(){return n.draggable.register(m.current),function(){return n.draggable.unregister(m.current)}},[n.draggable]),Eo(function(){if(y.current){y.current=!1;return}var g=m.current;m.current=f,n.draggable.update(f,g)},[f,n.draggable])}function b$(t){t.preventDefault()}function x$(t){var e=D.useRef(null),r=ur(function(H){e.current=H},[]),n=ur(function(){return e.current},[]),i=kg(fv),a=i.contextId,o=i.dragHandleUsageInstructionsId,l=i.registry,u=kg(p2),d=u.type,f=u.droppableId,m=dn(function(){return{id:t.draggableId,index:t.index,type:d,droppableId:f}},[t.draggableId,t.index,d,f]),y=t.children,g=t.draggableId,k=t.isEnabled,_=t.shouldRespectForcePress,N=t.canDragInteractiveElements,E=t.isClone,T=t.mapped,P=t.dropAnimationFinished;if(!E){var R=dn(function(){return{descriptor:m,registry:l,getDraggableRef:n,canDragInteractiveElements:N,shouldRespectForcePress:_,isEnabled:k}},[m,l,n,N,_,k]);y$(R)}var M=dn(function(){return k?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":g,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:b$}:null},[a,o,g,k]),Q=ur(function(H){T.type==="DRAGGING"&&T.dropping&&H.propertyName==="transform"&&P()},[P,T]),K=dn(function(){var H=g$(T),oe=T.type==="DRAGGING"&&T.dropping?Q:null,z={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":g,style:H,onTransitionEnd:oe},dragHandleProps:M};return z},[a,M,g,T,Q,r]),G=dn(function(){return{draggableId:m.id,type:m.type,source:{index:m.index,droppableId:m.droppableId}}},[m.droppableId,m.id,m.index,m.type]);return y(K,T.snapshot,G)}var bA=function(t,e){return t===e},xA=function(t){var e=t.combine,r=t.destination;return r?r.droppableId:e?e.droppableId:null},w$=function(e){return e.combine?e.combine.draggableId:null},S$=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function _$(){var t=Oa(function(i,a){return{x:i,y:a}}),e=Oa(function(i,a,o,l,u){return{isDragging:!0,isClone:a,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:o,combineWith:l,combineTargetFor:null}}),r=Oa(function(i,a,o,l,u,d,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:d,mode:a,offset:i,dimension:o,forceShouldAnimate:f,snapshot:e(a,l,u,d,null)}}}),n=function(a,o){if(a.isDragging){if(a.critical.draggable.id!==o.draggableId)return null;var l=a.current.client.offset,u=a.dimensions.draggables[o.draggableId],d=Ao(a.impact),f=S$(a.impact),m=a.forceShouldAnimate;return r(t(l.x,l.y),a.movementMode,u,o.isClone,d,f,m)}if(a.phase==="DROP_ANIMATING"){var y=a.completed;if(y.result.draggableId!==o.draggableId)return null;var g=o.isClone,k=a.dimensions.draggables[o.draggableId],_=y.result,N=_.mode,E=xA(_),T=w$(_),P=a.dropDuration,R={duration:P,curve:a2.drop,moveTo:a.newHomeClientOffset,opacity:T?ip.opacity.drop:null,scale:T?ip.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:k,dropping:R,draggingOver:E,combineWith:T,mode:N,forceShouldAnimate:null,snapshot:e(N,g,E,T,R)}}}return null};return n}function wA(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var k$={mapped:{type:"SECONDARY",offset:Fa,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:wA(null)}};function N$(){var t=Oa(function(o,l){return{x:o,y:l}}),e=Oa(wA),r=Oa(function(o,l,u){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:u,snapshot:e(l)}}}),n=function(l){return l?r(Fa,l,!0):null},i=function(l,u,d,f){var m=d.displaced.visible[l],y=!!(f.inVirtualList&&f.effected[l]),g=lv(d),k=g&&g.draggableId===l?u:null;if(!m){if(!y)return n(k);if(d.displaced.invisible[l])return null;var _=Qf(f.displacedBy.point),N=t(_.x,_.y);return r(N,k,!0)}if(y)return n(k);var E=d.displacedBy.point,T=t(E.x,E.y);return r(T,k,m.shouldAnimate)},a=function(l,u){if(l.isDragging)return l.critical.draggable.id===u.draggableId?null:i(u.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var d=l.completed;return d.result.draggableId===u.draggableId?null:i(u.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null};return a}var C$=function(){var e=_$(),r=N$(),n=function(a,o){return e(a,o)||r(a,o)||k$};return n},A$={dropAnimationFinished:eA},E$=k3(C$,A$,null,{context:d2,pure:!0,areStatePropsEqual:bA})(x$);function SA(t){var e=kg(p2),r=e.isUsingCloneFor;return r===t.draggableId&&!t.isClone?null:Wt.createElement(E$,t)}function J0(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,r=!!t.disableInteractiveElementBlocking,n=!!t.shouldRespectForcePress;return Wt.createElement(SA,wr({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function P$(t){var e=D.useContext(fv);e||jt();var r=e.contextId,n=e.isMovementAllowed,i=D.useRef(null),a=D.useRef(null),o=t.children,l=t.droppableId,u=t.type,d=t.mode,f=t.direction,m=t.ignoreContainerClipping,y=t.isDropDisabled,g=t.isCombineEnabled,k=t.snapshot,_=t.useClone,N=t.updateViewportMaxScroll,E=t.getContainerForClone,T=ur(function(){return i.current},[]),P=ur(function(z){i.current=z},[]);ur(function(){return a.current},[]);var R=ur(function(z){a.current=z},[]),M=ur(function(){n()&&N({maxScroll:aA()})},[n,N]);a$({droppableId:l,type:u,mode:d,direction:f,isDropDisabled:y,isCombineEnabled:g,ignoreContainerClipping:m,getDroppableRef:T});var Q=Wt.createElement(u$,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(z){var U=z.onClose,W=z.data,Y=z.animate;return Wt.createElement(c$,{placeholder:W,onClose:U,innerRef:R,animate:Y,contextId:r,onTransitionEnd:M})}),K=dn(function(){return{innerRef:P,placeholder:Q,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,Q,P]),G=_?_.dragging.draggableId:null,H=dn(function(){return{droppableId:l,type:u,isUsingCloneFor:G}},[l,G,u]);function oe(){if(!_)return null;var z=_.dragging,U=_.render,W=Wt.createElement(SA,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(Y,be){return U(Y,be,z)});return _k.createPortal(W,E())}return Wt.createElement(p2.Provider,{value:H},o(K,k),oe())}var Q0=function(e,r){return e===r.droppable.type},yS=function(e,r){return r.draggables[e.draggable.id]},j$=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=wr({},e,{shouldAnimatePlaceholder:!1}),n=Oa(function(o){return{draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}}}),i=Oa(function(o,l,u,d,f,m){var y=f.descriptor.id,g=f.descriptor.droppableId===o;if(g){var k=m?{render:m,dragging:n(f.descriptor)}:null,_={isDraggingOver:u,draggingOverWith:u?y:null,draggingFromThisWith:y,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:_,useClone:k}}if(!l)return r;if(!d)return e;var N={isDraggingOver:u,draggingOverWith:y,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:N,useClone:null}}),a=function(l,u){var d=u.droppableId,f=u.type,m=!u.isDropDisabled,y=u.renderClone;if(l.isDragging){var g=l.critical;if(!Q0(f,g))return r;var k=yS(g,l.dimensions),_=Ao(l.impact)===d;return i(d,m,_,_,k,y)}if(l.phase==="DROP_ANIMATING"){var N=l.completed;if(!Q0(f,N.critical))return r;var E=yS(N.critical,l.dimensions);return i(d,m,xA(N.result)===d,Ao(N.impact)===d,E,y)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var T=l.completed;if(!Q0(f,T.critical))return r;var P=Ao(T.impact)===d,R=!!(T.impact.at&&T.impact.at.type==="COMBINE"),M=T.critical.droppable.id===d;return P?R?e:r:M?e:r}return r};return a},I$={updateViewportMaxScroll:z9};function T$(){return document.body||jt(),document.body}var D$={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:T$},Gm=k3(j$,I$,null,{context:d2,pure:!0,areStatePropsEqual:bA})(P$);Gm.defaultProps=D$;function L$({weeks:t,clientName:e="Anteprima Cliente",coachName:r="Coach",workoutType:n="Scheda Personalizzata",description:i=""}){return h.jsxs("div",{className:"space-y-6 h-full overflow-y-auto",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:e}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n," • ",t.length," settiman",t.length===1?"a":"e"]})]}),h.jsxs(xa,{className:"glass-effect rounded-2xl",children:[h.jsx(wl,{children:h.jsx(Sl,{children:"Informazioni Generali"})}),h.jsxs(wa,{className:"grid grid-cols-1 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Coach"}),h.jsx("p",{className:"text-gray-900 dark:text-white",children:r})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo di Scheda"}),h.jsx("p",{className:"text-gray-900 dark:text-white",children:n})]}),i&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descrizione"}),h.jsx("p",{className:"text-gray-900 dark:text-white",children:i})]})]})]}),t.length>0&&h.jsxs(xa,{className:"glass-effect rounded-2xl",children:[h.jsx(wl,{children:h.jsxs(Sl,{className:"flex items-center",children:[h.jsx(Gh,{className:"mr-2 text-indigo-500",size:20}),"Progressione Settimanale"]})}),h.jsx(wa,{children:h.jsx("div",{className:"space-y-6",children:t.map(a=>h.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-xl p-4 bg-white/20 dark:bg-gray-800/20",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsx("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:a.name||`Settimana ${a.number}`})}),a.notes&&h.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:h.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:a.notes})}),h.jsxs("div",{className:"space-y-4",children:[(a.days||[]).map(o=>h.jsxs("div",{className:"border border-gray-100 dark:border-gray-700 rounded-lg p-3 bg-white/30 dark:bg-gray-900/30",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:o.name}),o.notes&&h.jsx("div",{className:"mb-3 p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o.notes})}),(o.exercises||[]).length>0?h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-600",children:[h.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Esercizio"}),h.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Serie"}),h.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Reps"}),h.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Carico"}),h.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Recupero"})]})}),h.jsx("tbody",{children:(o.exercises||[]).map(l=>h.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[h.jsx("td",{className:"py-2 px-2 align-top",children:h.jsx("span",{className:"text-gray-900 dark:text-white break-words",children:l.name||"Esercizio senza nome"})}),h.jsx("td",{className:"py-2 px-2 text-gray-700 dark:text-gray-300 align-top",children:l.sets}),h.jsx("td",{className:"py-2 px-2 text-gray-700 dark:text-gray-300 align-top",children:l.reps}),h.jsx("td",{className:"py-2 px-2 text-gray-700 dark:text-gray-300 align-top",children:l.load||"-"}),h.jsx("td",{className:"py-2 px-2 text-gray-700 dark:text-gray-300 align-top",children:l.rest||"-"})]},l.id))})]})}):h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm italic",children:"Nessun esercizio aggiunto"})]},o.id)),(a.days||[]).length===0&&h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm italic",children:"Nessun giorno aggiunto"})]})]},a.id))})})]}),t.length===0&&h.jsx(xa,{className:"glass-effect rounded-2xl",children:h.jsx(wa,{className:"py-8 text-center",children:h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Inizia aggiungendo una settimana per vedere l'anteprima"})})})]})}const R$=({weeks:t,onWeeksChange:e})=>{const{user:r}=Fu(),[n,i]=D.useState(!1),[a,o]=D.useState(null),[l,u]=D.useState(null),[d,f]=D.useState(!1),[m,y]=D.useState(()=>{try{return localStorage.getItem("dde_showPreview")==="true"}catch{return!1}}),[g,k]=D.useState(()=>{try{const he=localStorage.getItem("dde_collapsedWeeks");return he?JSON.parse(he):{}}catch{return{}}}),[_,N]=D.useState(()=>{try{const he=localStorage.getItem("dde_collapsedDays");return he?JSON.parse(he):{}}catch{return{}}}),[E,T]=D.useState(!1);D.useEffect(()=>{try{const he=window.matchMedia("(pointer: coarse), (max-width: 640px)"),ge=()=>T(he.matches);return ge(),he.addEventListener("change",ge),()=>he.removeEventListener("change",ge)}catch{T(window.innerWidth<=640)}},[]),D.useEffect(()=>{try{localStorage.setItem("dde_showPreview",m.toString())}catch{}},[m]);const P=()=>Math.random().toString(36).substr(2,9),R=()=>{if(!r){f(!0);return}const he={number:t.length+1,id:P(),name:`Settimana ${t.length+1}`,days:[],notes:""};e([...t,he])},M=(he,ge,ie)=>{if(!r){f(!0);return}const ve=t.map(_e=>_e.id===he?{..._e,[ge]:ie}:_e);e(ve)},Q=he=>{if(!r){f(!0);return}const ge=t.filter(ie=>ie.id!==he);e(ge)},K=he=>{if(!r){f(!0);return}const ge={id:P(),name:"Nuovo Giorno",exercises:[],notes:""},ie=t.map(ve=>ve.id===he?{...ve,days:[...ve.days||[],ge]}:ve);e(ie)},G=(he,ge,ie,ve)=>{if(!r){f(!0);return}const _e=t.map(te=>te.id===he?{...te,days:(te.days||[]).map(O=>O.id===ge?{...O,[ie]:ve}:O)}:te);e(_e)},H=(he,ge)=>{if(!r){f(!0);return}const ie=t.map(ve=>ve.id===he?{...ve,days:(ve.days||[]).filter(_e=>_e.id!==ge)}:ve);e(ie)},oe=(he,ge)=>{if(!r){f(!0);return}const ie={id:P(),name:"",sets:"3",reps:"10",order:0,rest:"60",notes:""},ve=t.map(_e=>_e.id===he?{..._e,days:(_e.days||[]).map(te=>te.id===ge?{...te,exercises:[...te.exercises||[],ie]}:te)}:_e);e(ve)},z=(he,ge)=>{if(!r){f(!0);return}o(he),u(ge),i(!0)},U=he=>{if(!a||!l)return;const ge={id:P(),name:he.name,sets:"3",reps:"10",order:0,rest:"60",notes:"",glossaryId:he.id},ie=t.map(ve=>ve.id===l?{...ve,days:(ve.days||[]).map(_e=>_e.id===a?{..._e,exercises:[..._e.exercises||[],ge]}:_e)}:ve);e(ie)},W=(he,ge,ie,ve,_e)=>{if(!r){f(!0);return}const te=t.map(O=>O.id===he?{...O,days:(O.days||[]).map(ee=>ee.id===ge?{...ee,exercises:(ee.exercises||[]).map(ne=>ne.id===ie?{...ne,[ve]:_e}:ne)}:ee)}:O);e(te)},Y=(he,ge,ie)=>{if(!r){f(!0);return}const ve=t.map(_e=>_e.id===he?{..._e,days:(_e.days||[]).map(te=>te.id===ge?{...te,exercises:(te.exercises||[]).filter(O=>O.id!==ie)}:te)}:_e);e(ve)},be=he=>{if(!r){setPremiumDialogOpen(!0);return}const{source:ge,destination:ie,type:ve}=he;if(ie&&!(ge.droppableId===ie.droppableId&&ge.index===ie.index)){if(ve==="week"){const _e=Array.from(t),[te]=_e.splice(ge.index,1);_e.splice(ie.index,0,te),e(_e);return}if(ve==="day"){const _e=ge.droppableId.split("::")[1],te=ie.droppableId.split("::")[1];if(_e===te){const O=t.findIndex(me=>me.id===_e);if(O===-1)return;const ee=t[O],ne=Array.from(ee.days||[]),[le]=ne.splice(ge.index,1);ne.splice(ie.index,0,le);const we=[...t];we[O]={...ee,days:ne},e(we)}else{const O=t.findIndex(ze=>ze.id===_e),ee=t.findIndex(ze=>ze.id===te);if(O===-1||ee===-1)return;const ne=t[O],le=t[ee],we=Array.from(ne.days||[]),me=Array.from(le.days||[]),[Ie]=we.splice(ge.index,1);me.splice(ie.index,0,Ie);const Se=[...t];Se[O]={...ne,days:we},Se[ee]={...le,days:me},e(Se)}return}if(ve==="exercise"){const[,_e,te]=ge.droppableId.split("::"),[,O,ee]=ie.droppableId.split("::");if(_e===O&&te===ee){const ne=t.findIndex(me=>me.id===_e);if(ne===-1)return;const le=t[ne].days?.findIndex(me=>me.id===te)||0,we=t[ne].days?.[le];if(we){const me=Array.from(we.exercises||[]),[Ie]=me.splice(ge.index,1);me.splice(ie.index,0,Ie);const Se=[...t],ze=[...Se[ne].days||[]];ze[le]={...we,exercises:me},Se[ne]={...Se[ne],days:ze},e(Se)}}else{const ne=t.findIndex(ze=>ze.id===_e),le=t[ne].days?.findIndex(ze=>ze.id===te)||0,we=t[ne].days?.[le],me=t.findIndex(ze=>ze.id===O),Ie=t[me].days?.findIndex(ze=>ze.id===ee)||0,Se=t[me].days?.[Ie];if(we&&Se){const ze=Array.from(we.exercises||[]),rt=Array.from(Se.exercises||[]),[it]=ze.splice(ge.index,1);rt.splice(ie.index,0,it);const pt=[...t],Je=[...pt[ne].days||[]];Je[le]={...we,exercises:ze},pt[ne]={...pt[ne],days:Je};const ye=[...pt[me].days||[]];ye[Ie]={...Se,exercises:rt},pt[me]={...pt[me],days:ye},e(pt)}}}}};return r?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:`flex ${m?"gap-4":""}`,children:[h.jsx("div",{className:`${m?"w-1/2":"w-full"} space-y-6 overflow-x-hidden px-2 sm:px-0`,children:h.jsxs(HU,{onDragEnd:be,children:[h.jsx(Gm,{droppableId:"weeks",type:"week",isDropDisabled:E,children:he=>h.jsxs("div",{...he.droppableProps,ref:he.innerRef,className:"space-y-6",children:[t.map((ge,ie)=>h.jsx(J0,{draggableId:ge.id,index:ie,isDragDisabled:E,children:ve=>h.jsxs("div",{ref:ve.innerRef,...ve.draggableProps,className:"glass-effect rounded-2xl p-3 sm:p-4 mb-6 shadow-sm border border-gray-100 dark:border-gray-800 animate-fade-in",children:[h.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center mb-4",children:[h.jsx("div",{...ve.dragHandleProps,className:"hidden sm:block mr-2 ml-0 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800 cursor-grab active:cursor-grabbing",children:h.jsx(v0,{size:20})}),h.jsx(Ir,{value:ge.name,onChange:_e=>M(ge.id,"name",_e.target.value),className:"flex-1 text-base sm:text-lg font-semibold glass-effect bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm",placeholder:"Nome Settimana"}),h.jsx(ht,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(_e=>{const te={..._e,[ge.id]:!_e[ge.id]};try{localStorage.setItem("dde_collapsedWeeks",JSON.stringify(te))}catch{}return te}),className:"ml-0 sm:ml-2",children:g[ge.id]?h.jsx(aw,{size:16}):h.jsx(rg,{size:16})}),h.jsx(ht,{type:"button",variant:"ghost",size:"sm",onClick:()=>Q(ge.id),className:"ml-2 text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-900/20",children:h.jsx(Fm,{size:16})})]}),!g[ge.id]&&h.jsx(Co,{value:ge.notes||"",onChange:_e=>M(ge.id,"notes",_e.target.value),placeholder:"Note per questa settimana...",className:"mb-4 glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm resize-none",rows:2}),!g[ge.id]&&h.jsx(Gm,{droppableId:`days::${ge.id}`,type:"day",isDropDisabled:E,children:_e=>h.jsxs("div",{..._e.droppableProps,ref:_e.innerRef,className:"space-y-4",children:[(ge.days||[]).map((te,O)=>h.jsx(J0,{draggableId:te.id,index:O,isDragDisabled:E,children:ee=>h.jsxs("div",{ref:ee.innerRef,...ee.draggableProps,className:"border border-gray-100 dark:border-gray-800 rounded-lg p-3 sm:p-4 bg-white/30 dark:bg-gray-900/30 shadow-sm",children:[h.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center mb-3",children:[h.jsx("div",{...ee.dragHandleProps,className:"hidden sm:block mr-2 ml-0 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800 cursor-grab active:cursor-grabbing",children:h.jsx(v0,{size:16})}),h.jsx(Gh,{size:16,className:"mr-2 text-indigo-500"}),h.jsx(Ir,{value:te.name,onChange:ne=>G(ge.id,te.id,"name",ne.target.value),className:"flex-1 glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",placeholder:"Nome Giorno"}),h.jsx(ht,{type:"button",variant:"ghost",size:"sm",onClick:()=>N(ne=>{const le={...ne,[te.id]:!ne[te.id]};try{localStorage.setItem("dde_collapsedDays",JSON.stringify(le))}catch{}return le}),className:"ml-0 sm:ml-2",children:_[te.id]?h.jsx(aw,{size:16}):h.jsx(rg,{size:16})}),h.jsx(ht,{type:"button",variant:"ghost",size:"sm",onClick:()=>H(ge.id,te.id),className:"ml-0 sm:ml-2 text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-900/20",children:h.jsx(Fm,{size:16})})]}),!_[te.id]&&h.jsx(Co,{value:te.notes||"",onChange:ne=>G(ge.id,te.id,"notes",ne.target.value),placeholder:"Note per questo giorno...",className:"mb-3 glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm resize-none",rows:2}),!_[te.id]&&h.jsx(Gm,{droppableId:`exercises::${ge.id}::${te.id}`,type:"exercise",isDropDisabled:E,children:ne=>h.jsxs("div",{...ne.droppableProps,ref:ne.innerRef,className:"space-y-3",children:[(te.exercises||[]).map((le,we)=>h.jsx(J0,{draggableId:le.id,index:we,isDragDisabled:E,children:me=>h.jsxs("div",{ref:me.innerRef,...me.draggableProps,className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-2.5 sm:p-3 border border-gray-100 dark:border-gray-800",children:[h.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3 mb-2",children:[h.jsx("div",{...me.dragHandleProps,className:"mr-2 -ml-1 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800 cursor-grab active:cursor-grabbing",children:h.jsx(v0,{size:16})}),h.jsx(Kh,{size:16,className:"mr-2 text-emerald-500"}),h.jsx(Ir,{value:le.name,onChange:Ie=>W(ge.id,te.id,le.id,"name",Ie.target.value),className:"w-full sm:flex-1 text-sm sm:text-base text-gray-900 dark:text-gray-100 glass-effect bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm",placeholder:"Nome Esercizio"}),h.jsxs(ht,{type:"button",variant:"outline",size:"sm",onClick:()=>z(te.id,ge.id),className:"ml-0 sm:ml-2 text-xs px-2 py-0 h-8",children:[h.jsx($g,{size:12,className:"mr-1"}),"Glossario"]}),h.jsx(ht,{variant:"ghost",size:"sm",onClick:()=>Y(ge.id,te.id,le.id),className:"ml-0 sm:ml-1 text-red-500 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-900/20",children:h.jsx(Fm,{size:16})})]}),h.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 block",children:"Serie"}),h.jsx(Ir,{type:"number",min:"1",value:le.sets,onChange:Ie=>W(ge.id,te.id,le.id,"sets",parseInt(Ie.target.value)),className:"glass-effect bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 block",children:"Reps"}),h.jsx(Ir,{value:le.reps,onChange:Ie=>W(ge.id,te.id,le.id,"reps",Ie.target.value),className:"glass-effect bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm",placeholder:"10-12"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 block",children:"Recupero (sec)"}),h.jsx(Ir,{value:le.rest,onChange:Ie=>W(ge.id,te.id,le.id,"rest",Ie.target.value),className:"glass-effect bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm",placeholder:"60"})]})]}),h.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100 dark:border-gray-800",children:h.jsx(Co,{value:le.notes||"",onChange:Ie=>W(ge.id,te.id,le.id,"notes",Ie.target.value),placeholder:"Note per questo esercizio...",className:"glass-effect bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm resize-none",rows:2})})]})},le.id)),ne.placeholder]})}),h.jsxs(ht,{type:"button",variant:"outline",size:"sm",onClick:()=>oe(ge.id,te.id),className:"mt-3 w-full text-emerald-600 border-emerald-200 hover:bg-emerald-50 dark:border-emerald-800 dark:hover:bg-emerald-900/20",children:[h.jsx(Os,{size:16,className:"mr-1"})," Aggiungi Esercizio"]})]})},te.id)),_e.placeholder]})}),h.jsxs(ht,{type:"button",variant:"outline",size:"sm",onClick:()=>K(ge.id),className:"mt-4 w-full text-indigo-600 border-indigo-200 hover:bg-indigo-50 dark:border-indigo-800 dark:hover:bg-indigo-900/20",children:[h.jsx(Os,{size:16,className:"mr-1"})," Aggiungi Giorno"]})]})},ge.id)),he.placeholder]})}),h.jsxs(ht,{type:"button",variant:"outline",onClick:R,className:"w-full text-blue-600 border-blue-200 hover:bg-blue-50 dark:border-blue-800 dark:hover:bg-blue-900/20",children:[h.jsx(Os,{size:16,className:"mr-1"})," Aggiungi Settimana"]})]})}),m&&h.jsx("div",{className:"w-1/2 border-l border-gray-200 dark:border-gray-700 pl-4",children:h.jsxs("div",{className:"sticky top-4",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Anteprima Workout"}),h.jsx(L$,{weeks:t})]})})]}),h.jsxs(ht,{type:"button",variant:"outline",size:"sm",onClick:()=>{const he=!m;y(he),localStorage.setItem("dde_showPreview",JSON.stringify(he))},className:"fixed bottom-4 right-4 z-50 bg-white dark:bg-gray-800 shadow-lg border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[m?h.jsx(rN,{size:16}):h.jsx(mp,{size:16}),h.jsx("span",{className:"ml-2",children:m?"Nascondi":"Anteprima"})]}),h.jsx(m3,{open:n,onOpenChange:i,onSelectExercise:U}),h.jsx(bd,{open:d,onOpenChange:f,feature:"glossary"})]}):h.jsxs("div",{className:"flex items-center justify-center min-h-[400px] bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"text-center p-8",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"w-16 h-16 mx-auto bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4",children:h.jsx(Kh,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Accesso Richiesto"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Per utilizzare l'editor Drag & Drop devi essere registrato e aver effettuato l'accesso."})]}),h.jsx(ht,{onClick:()=>setPremiumDialogOpen(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:"Accedi o Registrati"})]}),h.jsx(bd,{open:d,onOpenChange:f,feature:"drag-drop-editor"})]})};var Nl=Uint8Array,ko=Uint16Array,m2=Int32Array,g2=new Nl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),v2=new Nl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bS=new Nl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_A=function(t,e){for(var r=new ko(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new m2(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},kA=_A(g2,2),O$=kA.b,p1=kA.r;O$[28]=258,p1[258]=28;var F$=_A(v2,0),xS=F$.r,m1=new ko(32768);for(var Qn=0;Qn<32768;++Qn){var uu=(Qn&43690)>>1|(Qn&21845)<<1;uu=(uu&52428)>>2|(uu&13107)<<2,uu=(uu&61680)>>4|(uu&3855)<<4,m1[Qn]=((uu&65280)>>8|(uu&255)<<8)>>1}var $h=function(t,e,r){for(var n=t.length,i=0,a=new ko(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new ko(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new ko(1<<e);var u=15-e;for(i=0;i<n;++i)if(t[i])for(var d=i<<4|t[i],f=e-t[i],m=o[t[i]-1]++<<f,y=m|(1<<f)-1;m<=y;++m)l[m1[m]>>u]=d}else for(l=new ko(n),i=0;i<n;++i)t[i]&&(l[i]=m1[o[t[i]-1]++]>>15-t[i]);return l},wd=new Nl(288);for(var Qn=0;Qn<144;++Qn)wd[Qn]=8;for(var Qn=144;Qn<256;++Qn)wd[Qn]=9;for(var Qn=256;Qn<280;++Qn)wd[Qn]=7;for(var Qn=280;Qn<288;++Qn)wd[Qn]=8;var Ng=new Nl(32);for(var Qn=0;Qn<32;++Qn)Ng[Qn]=5;var M$=$h(wd,9,0),B$=$h(Ng,5,0),NA=function(t){return(t+7)/8|0},z$=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Nl(t.subarray(e,r))},Cc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Ah=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Z0=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:AA,l:0};if(i==1){var o=new Nl(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(M,Q){return M.f-Q.f}),r.push({s:-1,f:25001});var l=r[0],u=r[1],d=0,f=1,m=2;for(r[0]={s:-1,f:l.f+u.f,l,r:u};f!=i-1;)l=r[r[d].f<r[m].f?d++:m++],u=r[d!=f&&r[d].f<r[m].f?d++:m++],r[f++]={s:-1,f:l.f+u.f,l,r:u};for(var y=a[0].s,n=1;n<i;++n)a[n].s>y&&(y=a[n].s);var g=new ko(y+1),k=g1(r[f-1],g,0);if(k>e){var n=0,_=0,N=k-e,E=1<<N;for(a.sort(function(Q,K){return g[K.s]-g[Q.s]||Q.f-K.f});n<i;++n){var T=a[n].s;if(g[T]>e)_+=E-(1<<k-g[T]),g[T]=e;else break}for(_>>=N;_>0;){var P=a[n].s;g[P]<e?_-=1<<e-g[P]++-1:++n}for(;n>=0&&_;--n){var R=a[n].s;g[R]==e&&(--g[R],++_)}k=e}return{t:new Nl(g),l:k}},g1=function(t,e,r){return t.s==-1?Math.max(g1(t.l,e,r+1),g1(t.r,e,r+1)):e[t.s]=r},wS=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ko(++e),n=0,i=t[0],a=1,o=function(u){r[n++]=u},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[l]}return{c:r.subarray(0,n),n:e}},Eh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},CA=function(t,e,r){var n=r.length,i=NA(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},SS=function(t,e,r,n,i,a,o,l,u,d,f){Cc(e,f++,r),++i[256];for(var m=Z0(i,15),y=m.t,g=m.l,k=Z0(a,15),_=k.t,N=k.l,E=wS(y),T=E.c,P=E.n,R=wS(_),M=R.c,Q=R.n,K=new ko(19),G=0;G<T.length;++G)++K[T[G]&31];for(var G=0;G<M.length;++G)++K[M[G]&31];for(var H=Z0(K,7),oe=H.t,z=H.l,U=19;U>4&&!oe[bS[U-1]];--U);var W=d+5<<3,Y=Eh(i,wd)+Eh(a,Ng)+o,be=Eh(i,y)+Eh(a,_)+o+14+3*U+Eh(K,oe)+2*K[16]+3*K[17]+7*K[18];if(u>=0&&W<=Y&&W<=be)return CA(e,f,t.subarray(u,u+d));var he,ge,ie,ve;if(Cc(e,f,1+(be<Y)),f+=2,be<Y){he=$h(y,g,0),ge=y,ie=$h(_,N,0),ve=_;var _e=$h(oe,z,0);Cc(e,f,P-257),Cc(e,f+5,Q-1),Cc(e,f+10,U-4),f+=14;for(var G=0;G<U;++G)Cc(e,f+3*G,oe[bS[G]]);f+=3*U;for(var te=[T,M],O=0;O<2;++O)for(var ee=te[O],G=0;G<ee.length;++G){var ne=ee[G]&31;Cc(e,f,_e[ne]),f+=oe[ne],ne>15&&(Cc(e,f,ee[G]>>5&127),f+=ee[G]>>12)}}else he=M$,ge=wd,ie=B$,ve=Ng;for(var G=0;G<l;++G){var le=n[G];if(le>255){var ne=le>>18&31;Ah(e,f,he[ne+257]),f+=ge[ne+257],ne>7&&(Cc(e,f,le>>23&31),f+=g2[ne]);var we=le&31;Ah(e,f,ie[we]),f+=ve[we],we>3&&(Ah(e,f,le>>5&8191),f+=v2[we])}else Ah(e,f,he[le]),f+=ge[le]}return Ah(e,f,he[256]),f+ge[256]},U$=new m2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),AA=new Nl(0),$$=function(t,e,r,n,i,a){var o=a.z||t.length,l=new Nl(n+o+5*(1+Math.ceil(o/7e3))+i),u=l.subarray(n,l.length-i),d=a.l,f=(a.r||0)&7;if(e){f&&(u[0]=a.r>>3);for(var m=U$[e-1],y=m>>13,g=m&8191,k=(1<<r)-1,_=a.p||new ko(32768),N=a.h||new ko(k+1),E=Math.ceil(r/3),T=2*E,P=function(Je){return(t[Je]^t[Je+1]<<E^t[Je+2]<<T)&k},R=new m2(25e3),M=new ko(288),Q=new ko(32),K=0,G=0,H=a.i||0,oe=0,z=a.w||0,U=0;H+2<o;++H){var W=P(H),Y=H&32767,be=N[W];if(_[Y]=be,N[W]=Y,z<=H){var he=o-H;if((K>7e3||oe>24576)&&(he>423||!d)){f=SS(t,u,0,R,M,Q,G,oe,U,H-U,f),oe=K=G=0,U=H;for(var ge=0;ge<286;++ge)M[ge]=0;for(var ge=0;ge<30;++ge)Q[ge]=0}var ie=2,ve=0,_e=g,te=Y-be&32767;if(he>2&&W==P(H-te))for(var O=Math.min(y,he)-1,ee=Math.min(32767,H),ne=Math.min(258,he);te<=ee&&--_e&&Y!=be;){if(t[H+ie]==t[H+ie-te]){for(var le=0;le<ne&&t[H+le]==t[H+le-te];++le);if(le>ie){if(ie=le,ve=te,le>O)break;for(var we=Math.min(te,le-2),me=0,ge=0;ge<we;++ge){var Ie=H-te+ge&32767,Se=_[Ie],ze=Ie-Se&32767;ze>me&&(me=ze,be=Ie)}}}Y=be,be=_[Y],te+=Y-be&32767}if(ve){R[oe++]=268435456|p1[ie]<<18|xS[ve];var rt=p1[ie]&31,it=xS[ve]&31;G+=g2[rt]+v2[it],++M[257+rt],++Q[it],z=H+ie,++K}else R[oe++]=t[H],++M[t[H]]}}for(H=Math.max(H,z);H<o;++H)R[oe++]=t[H],++M[t[H]];f=SS(t,u,d,R,M,Q,G,oe,U,H-U,f),d||(a.r=f&7|u[f/8|0]<<3,f-=7,a.h=N,a.p=_,a.i=H,a.w=z)}else{for(var H=a.w||0;H<o+d;H+=65535){var pt=H+65535;pt>=o&&(u[f/8|0]=d,pt=o),f=CA(u,f+1,t.subarray(H,pt))}a.i=o}return z$(l,0,n+NA(f)+i)},EA=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},q$=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Nl(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return $$(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},PA=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},W$=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=EA();i.p(e.dictionary),PA(t,2,i.d())}};function v1(t,e){e||(e={});var r=EA();r.p(t);var n=q$(t,e,e.dictionary?6:2,4);return W$(n,e),PA(n,n.length-4,r.d()),n}var V$=typeof TextDecoder<"u"&&new TextDecoder,H$=0;try{V$.decode(AA,{stream:!0}),H$=1}catch{}function G$(t){if(Array.isArray(t))return t}function K$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],u=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(f){d=!0,i=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function _S(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Y$(t,e){if(t){if(typeof t=="string")return _S(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_S(t,e):void 0}}function J$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kS(t,e){return G$(t)||K$(t,e)||Y$(t,e)||J$()}function NS(t,e="utf8"){return new TextDecoder(e).decode(t)}const Q$=new TextEncoder;function Z$(t){return Q$.encode(t)}const X$=1024*8,eq=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),X0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class y2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=X$,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof y2)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=X0[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===eq&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const u=new X0[r](l.buffer);return this.offset+=n,u.reverse(),u}const o=new X0[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return NS(this.readBytes(e))}decodeText(e=1,r="utf8"){return NS(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Z$(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function eh(t){let e=t.length;for(;--e>=0;)t[e]=0}const tq=3,rq=258,jA=29,nq=256,iq=nq+1+jA,IA=30,aq=512,sq=new Array((iq+2)*2);eh(sq);const oq=new Array(IA*2);eh(oq);const lq=new Array(aq);eh(lq);const cq=new Array(rq-tq+1);eh(cq);const uq=new Array(jA);eh(uq);const dq=new Array(IA);eh(dq);const fq=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var y1=fq;const hq=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},pq=new Uint32Array(hq()),mq=(t,e,r,n)=>{const i=pq,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var ql=mq,b1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},TA={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const gq=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var vq=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)gq(r,n)&&(t[n]=r[n])}}return t},yq=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r},DA={assign:vq,flattenChunks:yq};let LA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{LA=!1}const ap=new Uint8Array(256);for(let t=0;t<256;t++)ap[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ap[254]=ap[254]=1;var bq=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,l=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const xq=(t,e)=>{if(e<65534&&t.subarray&&LA)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var wq=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let l=ap[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return xq(a,i)},Sq=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+ap[t[r]]>e?r:e},x1={string2buf:bq,buf2string:wq,utf8border:Sq};function _q(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kq=_q;const Cm=16209,Nq=16191;var Cq=function(e,r){let n,i,a,o,l,u,d,f,m,y,g,k,_,N,E,T,P,R,M,Q,K,G,H,oe;const z=e.state;n=e.next_in,H=e.input,i=n+(e.avail_in-5),a=e.next_out,oe=e.output,o=a-(r-e.avail_out),l=a+(e.avail_out-257),u=z.dmax,d=z.wsize,f=z.whave,m=z.wnext,y=z.window,g=z.hold,k=z.bits,_=z.lencode,N=z.distcode,E=(1<<z.lenbits)-1,T=(1<<z.distbits)-1;e:do{k<15&&(g+=H[n++]<<k,k+=8,g+=H[n++]<<k,k+=8),P=_[g&E];t:for(;;){if(R=P>>>24,g>>>=R,k-=R,R=P>>>16&255,R===0)oe[a++]=P&65535;else if(R&16){M=P&65535,R&=15,R&&(k<R&&(g+=H[n++]<<k,k+=8),M+=g&(1<<R)-1,g>>>=R,k-=R),k<15&&(g+=H[n++]<<k,k+=8,g+=H[n++]<<k,k+=8),P=N[g&T];r:for(;;){if(R=P>>>24,g>>>=R,k-=R,R=P>>>16&255,R&16){if(Q=P&65535,R&=15,k<R&&(g+=H[n++]<<k,k+=8,k<R&&(g+=H[n++]<<k,k+=8)),Q+=g&(1<<R)-1,Q>u){e.msg="invalid distance too far back",z.mode=Cm;break e}if(g>>>=R,k-=R,R=a-o,Q>R){if(R=Q-R,R>f&&z.sane){e.msg="invalid distance too far back",z.mode=Cm;break e}if(K=0,G=y,m===0){if(K+=d-R,R<M){M-=R;do oe[a++]=y[K++];while(--R);K=a-Q,G=oe}}else if(m<R){if(K+=d+m-R,R-=m,R<M){M-=R;do oe[a++]=y[K++];while(--R);if(K=0,m<M){R=m,M-=R;do oe[a++]=y[K++];while(--R);K=a-Q,G=oe}}}else if(K+=m-R,R<M){M-=R;do oe[a++]=y[K++];while(--R);K=a-Q,G=oe}for(;M>2;)oe[a++]=G[K++],oe[a++]=G[K++],oe[a++]=G[K++],M-=3;M&&(oe[a++]=G[K++],M>1&&(oe[a++]=G[K++]))}else{K=a-Q;do oe[a++]=oe[K++],oe[a++]=oe[K++],oe[a++]=oe[K++],M-=3;while(M>2);M&&(oe[a++]=oe[K++],M>1&&(oe[a++]=oe[K++]))}}else if((R&64)===0){P=N[(P&65535)+(g&(1<<R)-1)];continue r}else{e.msg="invalid distance code",z.mode=Cm;break e}break}}else if((R&64)===0){P=_[(P&65535)+(g&(1<<R)-1)];continue t}else if(R&32){z.mode=Nq;break e}else{e.msg="invalid literal/length code",z.mode=Cm;break e}break}}while(n<i&&a<l);M=k>>3,n-=M,k-=M<<3,g&=(1<<k)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),z.hold=g,z.bits=k};const cf=15,CS=852,AS=592,ES=0,ey=1,PS=2,Aq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Eq=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Pq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jq=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Iq=(t,e,r,n,i,a,o,l)=>{const u=l.bits;let d=0,f=0,m=0,y=0,g=0,k=0,_=0,N=0,E=0,T=0,P,R,M,Q,K,G=null,H;const oe=new Uint16Array(cf+1),z=new Uint16Array(cf+1);let U=null,W,Y,be;for(d=0;d<=cf;d++)oe[d]=0;for(f=0;f<n;f++)oe[e[r+f]]++;for(g=u,y=cf;y>=1&&oe[y]===0;y--);if(g>y&&(g=y),y===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<y&&oe[m]===0;m++);for(g<m&&(g=m),N=1,d=1;d<=cf;d++)if(N<<=1,N-=oe[d],N<0)return-1;if(N>0&&(t===ES||y!==1))return-1;for(z[1]=0,d=1;d<cf;d++)z[d+1]=z[d]+oe[d];for(f=0;f<n;f++)e[r+f]!==0&&(o[z[e[r+f]]++]=f);if(t===ES?(G=U=o,H=20):t===ey?(G=Aq,U=Eq,H=257):(G=Pq,U=jq,H=0),T=0,f=0,d=m,K=a,k=g,_=0,M=-1,E=1<<g,Q=E-1,t===ey&&E>CS||t===PS&&E>AS)return 1;for(;;){W=d-_,o[f]+1<H?(Y=0,be=o[f]):o[f]>=H?(Y=U[o[f]-H],be=G[o[f]-H]):(Y=96,be=0),P=1<<d-_,R=1<<k,m=R;do R-=P,i[K+(T>>_)+R]=W<<24|Y<<16|be|0;while(R!==0);for(P=1<<d-1;T&P;)P>>=1;if(P!==0?(T&=P-1,T+=P):T=0,f++,--oe[d]===0){if(d===y)break;d=e[r+o[f]]}if(d>g&&(T&Q)!==M){for(_===0&&(_=g),K+=m,k=d-_,N=1<<k;k+_<y&&(N-=oe[k+_],!(N<=0));)k++,N<<=1;if(E+=1<<k,t===ey&&E>CS||t===PS&&E>AS)return 1;M=T&Q,i[M]=g<<24|k<<16|K-a|0}}return T!==0&&(i[K+T]=d-_<<24|64<<16|0),l.bits=g,0};var qh=Iq;const Tq=0,RA=1,OA=2,{Z_FINISH:jS,Z_BLOCK:Dq,Z_TREES:Am,Z_OK:Sd,Z_STREAM_END:Lq,Z_NEED_DICT:Rq,Z_STREAM_ERROR:Yo,Z_DATA_ERROR:FA,Z_MEM_ERROR:MA,Z_BUF_ERROR:Oq,Z_DEFLATED:IS}=TA,pv=16180,TS=16181,DS=16182,LS=16183,RS=16184,OS=16185,FS=16186,MS=16187,BS=16188,zS=16189,Cg=16190,Ac=16191,ty=16192,US=16193,ry=16194,$S=16195,qS=16196,WS=16197,VS=16198,Em=16199,Pm=16200,HS=16201,GS=16202,KS=16203,YS=16204,JS=16205,ny=16206,QS=16207,ZS=16208,ii=16209,BA=16210,zA=16211,Fq=852,Mq=592,Bq=15,zq=Bq,XS=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Uq(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Cd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<pv||e.mode>zA?1:0},UA=t=>{if(Cd(t))return Yo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=pv,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Fq),e.distcode=e.distdyn=new Int32Array(Mq),e.sane=1,e.back=-1,Sd},$A=t=>{if(Cd(t))return Yo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,UA(t)},qA=(t,e)=>{let r;if(Cd(t))return Yo;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Yo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,$A(t))},WA=(t,e)=>{if(!t)return Yo;const r=new Uq;t.state=r,r.strm=t,r.window=null,r.mode=pv;const n=qA(t,e);return n!==Sd&&(t.state=null),n},$q=t=>WA(t,zq);let e_=!0,iy,ay;const qq=t=>{if(e_){iy=new Int32Array(512),ay=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(qh(RA,t.lens,0,288,iy,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;qh(OA,t.lens,0,32,ay,0,t.work,{bits:5}),e_=!1}t.lencode=iy,t.lenbits=9,t.distcode=ay,t.distbits=5},VA=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Wq=(t,e)=>{let r,n,i,a,o,l,u,d,f,m,y,g,k,_,N=0,E,T,P,R,M,Q,K,G;const H=new Uint8Array(4);let oe,z;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Cd(t)||!t.output||!t.input&&t.avail_in!==0)return Yo;r=t.state,r.mode===Ac&&(r.mode=ty),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,d=r.hold,f=r.bits,m=l,y=u,G=Sd;e:for(;;)switch(r.mode){case pv:if(r.wrap===0){r.mode=ty;break}for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,H[0]=d&255,H[1]=d>>>8&255,r.check=ql(r.check,H,2,0),d=0,f=0,r.mode=TS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",r.mode=ii;break}if((d&15)!==IS){t.msg="unknown compression method",r.mode=ii;break}if(d>>>=4,f-=4,K=(d&15)+8,r.wbits===0&&(r.wbits=K),K>15||K>r.wbits){t.msg="invalid window size",r.mode=ii;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=d&512?zS:Ac,d=0,f=0;break;case TS:for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.flags=d,(r.flags&255)!==IS){t.msg="unknown compression method",r.mode=ii;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=ii;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,r.check=ql(r.check,H,2,0)),d=0,f=0,r.mode=DS;case DS:for(;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,H[2]=d>>>16&255,H[3]=d>>>24&255,r.check=ql(r.check,H,4,0)),d=0,f=0,r.mode=LS;case LS:for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,r.check=ql(r.check,H,2,0)),d=0,f=0,r.mode=RS;case RS:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,r.check=ql(r.check,H,2,0)),d=0,f=0}else r.head&&(r.head.extra=null);r.mode=OS;case OS:if(r.flags&1024&&(g=r.length,g>l&&(g=l),g&&(r.head&&(K=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+g),K)),r.flags&512&&r.wrap&4&&(r.check=ql(r.check,n,g,a)),l-=g,a+=g,r.length-=g),r.length))break e;r.length=0,r.mode=FS;case FS:if(r.flags&2048){if(l===0)break e;g=0;do K=n[a+g++],r.head&&K&&r.length<65536&&(r.head.name+=String.fromCharCode(K));while(K&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=ql(r.check,n,g,a)),l-=g,a+=g,K)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=MS;case MS:if(r.flags&4096){if(l===0)break e;g=0;do K=n[a+g++],r.head&&K&&r.length<65536&&(r.head.comment+=String.fromCharCode(K));while(K&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=ql(r.check,n,g,a)),l-=g,a+=g,K)break e}else r.head&&(r.head.comment=null);r.mode=BS;case BS:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.wrap&4&&d!==(r.check&65535)){t.msg="header crc mismatch",r.mode=ii;break}d=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Ac;break;case zS:for(;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}t.adler=r.check=XS(d),d=0,f=0,r.mode=Cg;case Cg:if(r.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=l,r.hold=d,r.bits=f,Rq;t.adler=r.check=1,r.mode=Ac;case Ac:if(e===Dq||e===Am)break e;case ty:if(r.last){d>>>=f&7,f-=f&7,r.mode=ny;break}for(;f<3;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}switch(r.last=d&1,d>>>=1,f-=1,d&3){case 0:r.mode=US;break;case 1:if(qq(r),r.mode=Em,e===Am){d>>>=2,f-=2;break e}break;case 2:r.mode=qS;break;case 3:t.msg="invalid block type",r.mode=ii}d>>>=2,f-=2;break;case US:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ii;break}if(r.length=d&65535,d=0,f=0,r.mode=ry,e===Am)break e;case ry:r.mode=$S;case $S:if(g=r.length,g){if(g>l&&(g=l),g>u&&(g=u),g===0)break e;i.set(n.subarray(a,a+g),o),l-=g,a+=g,u-=g,o+=g,r.length-=g;break}r.mode=Ac;break;case qS:for(;f<14;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.nlen=(d&31)+257,d>>>=5,f-=5,r.ndist=(d&31)+1,d>>>=5,f-=5,r.ncode=(d&15)+4,d>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ii;break}r.have=0,r.mode=WS;case WS:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.lens[U[r.have++]]=d&7,d>>>=3,f-=3}for(;r.have<19;)r.lens[U[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,oe={bits:r.lenbits},G=qh(Tq,r.lens,0,19,r.lencode,0,r.work,oe),r.lenbits=oe.bits,G){t.msg="invalid code lengths set",r.mode=ii;break}r.have=0,r.mode=VS;case VS:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[d&(1<<r.lenbits)-1],E=N>>>24,T=N>>>16&255,P=N&65535,!(E<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(P<16)d>>>=E,f-=E,r.lens[r.have++]=P;else{if(P===16){for(z=E+2;f<z;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(d>>>=E,f-=E,r.have===0){t.msg="invalid bit length repeat",r.mode=ii;break}K=r.lens[r.have-1],g=3+(d&3),d>>>=2,f-=2}else if(P===17){for(z=E+3;f<z;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=E,f-=E,K=0,g=3+(d&7),d>>>=3,f-=3}else{for(z=E+7;f<z;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=E,f-=E,K=0,g=11+(d&127),d>>>=7,f-=7}if(r.have+g>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ii;break}for(;g--;)r.lens[r.have++]=K}}if(r.mode===ii)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=ii;break}if(r.lenbits=9,oe={bits:r.lenbits},G=qh(RA,r.lens,0,r.nlen,r.lencode,0,r.work,oe),r.lenbits=oe.bits,G){t.msg="invalid literal/lengths set",r.mode=ii;break}if(r.distbits=6,r.distcode=r.distdyn,oe={bits:r.distbits},G=qh(OA,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,oe),r.distbits=oe.bits,G){t.msg="invalid distances set",r.mode=ii;break}if(r.mode=Em,e===Am)break e;case Em:r.mode=Pm;case Pm:if(l>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=l,r.hold=d,r.bits=f,Cq(t,y),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,d=r.hold,f=r.bits,r.mode===Ac&&(r.back=-1);break}for(r.back=0;N=r.lencode[d&(1<<r.lenbits)-1],E=N>>>24,T=N>>>16&255,P=N&65535,!(E<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(T&&(T&240)===0){for(R=E,M=T,Q=P;N=r.lencode[Q+((d&(1<<R+M)-1)>>R)],E=N>>>24,T=N>>>16&255,P=N&65535,!(R+E<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=R,f-=R,r.back+=R}if(d>>>=E,f-=E,r.back+=E,r.length=P,T===0){r.mode=JS;break}if(T&32){r.back=-1,r.mode=Ac;break}if(T&64){t.msg="invalid literal/length code",r.mode=ii;break}r.extra=T&15,r.mode=HS;case HS:if(r.extra){for(z=r.extra;f<z;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=GS;case GS:for(;N=r.distcode[d&(1<<r.distbits)-1],E=N>>>24,T=N>>>16&255,P=N&65535,!(E<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if((T&240)===0){for(R=E,M=T,Q=P;N=r.distcode[Q+((d&(1<<R+M)-1)>>R)],E=N>>>24,T=N>>>16&255,P=N&65535,!(R+E<=f);){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}d>>>=R,f-=R,r.back+=R}if(d>>>=E,f-=E,r.back+=E,T&64){t.msg="invalid distance code",r.mode=ii;break}r.offset=P,r.extra=T&15,r.mode=KS;case KS:if(r.extra){for(z=r.extra;f<z;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ii;break}r.mode=YS;case YS:if(u===0)break e;if(g=y-u,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ii;break}g>r.wnext?(g-=r.wnext,k=r.wsize-g):k=r.wnext-g,g>r.length&&(g=r.length),_=r.window}else _=i,k=o-r.offset,g=r.length;g>u&&(g=u),u-=g,r.length-=g;do i[o++]=_[k++];while(--g);r.length===0&&(r.mode=Pm);break;case JS:if(u===0)break e;i[o++]=r.length,u--,r.mode=Pm;break;case ny:if(r.wrap){for(;f<32;){if(l===0)break e;l--,d|=n[a++]<<f,f+=8}if(y-=u,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?ql(r.check,i,y,o-y):y1(r.check,i,y,o-y)),y=u,r.wrap&4&&(r.flags?d:XS(d))!==r.check){t.msg="incorrect data check",r.mode=ii;break}d=0,f=0}r.mode=QS;case QS:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,d+=n[a++]<<f,f+=8}if(r.wrap&4&&d!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=ii;break}d=0,f=0}r.mode=ZS;case ZS:G=Lq;break e;case ii:G=FA;break e;case BA:return MA;case zA:default:return Yo}return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=l,r.hold=d,r.bits=f,(r.wsize||y!==t.avail_out&&r.mode<ii&&(r.mode<ny||e!==jS))&&VA(t,t.output,t.next_out,y-t.avail_out),m-=t.avail_in,y-=t.avail_out,t.total_in+=m,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?ql(r.check,i,y,t.next_out-y):y1(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Ac?128:0)+(r.mode===Em||r.mode===ry?256:0),(m===0&&y===0||e===jS)&&G===Sd&&(G=Oq),G},Vq=t=>{if(Cd(t))return Yo;let e=t.state;return e.window&&(e.window=null),t.state=null,Sd},Hq=(t,e)=>{if(Cd(t))return Yo;const r=t.state;return(r.wrap&2)===0?Yo:(r.head=e,e.done=!1,Sd)},Gq=(t,e)=>{const r=e.length;let n,i,a;return Cd(t)||(n=t.state,n.wrap!==0&&n.mode!==Cg)?Yo:n.mode===Cg&&(i=1,i=y1(i,e,r,0),i!==n.check)?FA:(a=VA(t,e,r,r),a?(n.mode=BA,MA):(n.havedict=1,Sd))};var Kq=$A,Yq=qA,Jq=UA,Qq=$q,Zq=WA,Xq=Wq,eW=Vq,tW=Hq,rW=Gq,nW="pako inflate (from Nodeca project)",jc={inflateReset:Kq,inflateReset2:Yq,inflateResetKeep:Jq,inflateInit:Qq,inflateInit2:Zq,inflate:Xq,inflateEnd:eW,inflateGetHeader:tW,inflateSetDictionary:rW,inflateInfo:nW};function iW(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var aW=iW;const HA=Object.prototype.toString,{Z_NO_FLUSH:sW,Z_FINISH:oW,Z_OK:sp,Z_STREAM_END:sy,Z_NEED_DICT:oy,Z_STREAM_ERROR:lW,Z_DATA_ERROR:t_,Z_MEM_ERROR:cW}=TA;function kp(t){this.options=DA.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kq,this.strm.avail_out=0;let r=jc.inflateInit2(this.strm,e.windowBits);if(r!==sp)throw new Error(b1[r]);if(this.header=new aW,jc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=x1.string2buf(e.dictionary):HA.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=jc.inflateSetDictionary(this.strm,e.dictionary),r!==sp)))throw new Error(b1[r])}kp.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?oW:sW,HA.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=jc.inflate(r,o),a===oy&&i&&(a=jc.inflateSetDictionary(r,i),a===sp?a=jc.inflate(r,o):a===t_&&(a=oy));r.avail_in>0&&a===sy&&r.state.wrap>0&&t[r.next_in]!==0;)jc.inflateReset(r),a=jc.inflate(r,o);switch(a){case lW:case t_:case oy:case cW:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===sy))if(this.options.to==="string"){let u=x1.utf8border(r.output,r.next_out),d=r.next_out-u,f=x1.buf2string(r.output,u);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(u,u+d),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===sp&&l===0)){if(a===sy)return a=jc.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};kp.prototype.onData=function(t){this.chunks.push(t)};kp.prototype.onEnd=function(t){t===sp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=DA.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function uW(t,e){const r=new kp(e);if(r.push(t),r.err)throw r.msg||b1[r.err];return r.result}var dW=kp,fW=uW,hW={Inflate:dW,inflate:fW};const{Inflate:pW,inflate:mW}=hW;var r_=pW,gW=mW;const GA=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;GA[t]=e}const n_=4294967295;function vW(t,e,r){let n=t;for(let i=0;i<r;i++)n=GA[(n^e[i])&255]^n>>>8;return n}function yW(t,e){return(vW(n_,t,e)^n_)>>>0}function i_(t,e,r){const n=t.readUint32(),i=yW(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function KA(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function YA(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function JA(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function QA(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function ZA(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+bW(e[a-i],r[a],r[a-i])&255}}function bW(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function xW(t,e,r,n,i,a){switch(t){case 0:KA(e,r,i);break;case 1:YA(e,r,i,a);break;case 2:JA(e,r,n,i);break;case 3:QA(e,r,n,i,a);break;case 4:ZA(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const wW=new Uint16Array([255]),SW=new Uint8Array(wW.buffer),_W=SW[0]===255;function kW(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,u=new Uint8Array(n*r*l);let d=0;for(let f=0;f<7;f++){const m=o[f],y=Math.ceil((r-m.x)/m.xStep),g=Math.ceil((n-m.y)/m.yStep);if(y<=0||g<=0)continue;const k=y*l,_=new Uint8Array(k);for(let N=0;N<g;N++){const E=e[d++],T=e.subarray(d,d+k);d+=k;const P=new Uint8Array(k);xW(E,T,P,_,k,l),_.set(P);for(let R=0;R<y;R++){const M=m.x+R*m.xStep,Q=m.y+N*m.yStep;if(!(M>=r||Q>=n))for(let K=0;K<l;K++)u[(Q*r+M)*l+K]=P[R*l+K]}}}if(a===16){const f=new Uint16Array(u.buffer);if(_W)for(let m=0;m<f.length;m++)f[m]=NW(f[m]);return f}else return u}function NW(t){return(t&255)<<8|t>>8&255}const CW=new Uint16Array([255]),AW=new Uint8Array(CW.buffer),EW=AW[0]===255,PW=new Uint8Array(0);function a_(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),u=new Uint8Array(n*l);let d=PW,f=0,m,y;for(let g=0;g<n;g++){switch(m=e.subarray(f+1,f+1+l),y=u.subarray(g*l,(g+1)*l),e[f]){case 0:KA(m,y,l);break;case 1:YA(m,y,l,o);break;case 2:JA(m,y,d,l);break;case 3:QA(m,y,d,l,o);break;case 4:ZA(m,y,d,l,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}d=y,f+=l+1}if(a===16){const g=new Uint16Array(u.buffer);if(EW)for(let k=0;k<g.length;k++)g[k]=jW(g[k]);return g}else return u}function jW(t){return(t&255)<<8|t>>8&255}const Km=Uint8Array.of(137,80,78,71,13,10,26,10);function s_(t){if(!IW(t.readBytes(Km.length)))throw new Error("wrong PNG signature")}function IW(t){if(t.length<Km.length)return!1;for(let e=0;e<Km.length;e++)if(t[e]!==Km[e])return!1;return!0}const TW="tEXt",DW=0,XA=new TextDecoder("latin1");function LW(t){if(OW(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const RW=/^[\u0000-\u00FF]*$/;function OW(t){if(!RW.test(t))throw new Error("invalid latin1 text")}function FW(t,e,r){const n=eE(e);t[n]=MW(e,r-n.length-1)}function eE(t){for(t.mark();t.readByte()!==DW;);const e=t.offset;t.reset();const r=XA.decode(t.readBytes(e-t.offset-1));return t.skip(1),LW(r),r}function MW(t,e){return XA.decode(t.readBytes(e))}const bo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ly={UNKNOWN:-1,DEFLATE:0},o_={UNKNOWN:-1,ADAPTIVE:0},cy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},jm={NONE:0,BACKGROUND:1,PREVIOUS:2},uy={SOURCE:0,OVER:1};class BW extends y2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new r_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ly.UNKNOWN,this._filterMethod=o_.UNKNOWN,this._interlaceMethod=cy.UNKNOWN,this._colorType=bo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(s_(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(s_(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case TW:FW(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?i_(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?i_(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=zW(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case bo.GREYSCALE:n=1;break;case bo.TRUECOLOUR:n=3;break;case bo.INDEXED_COLOUR:n=1;break;case bo.GREYSCALE_ALPHA:n=2;break;case bo.TRUECOLOUR_ALPHA:n=4;break;case bo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==ly.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case bo.GREYSCALE:case bo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case bo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case bo.UNKNOWN:case bo.GREYSCALE_ALPHA:case bo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=eE(this),n=this.readUint8();if(n!==ly.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:gW(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=a_({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case jm.NONE:break;case jm.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const o=(i*e.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[o+l]=0}break;case jm.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(a,o)=>{const l=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,u=(a*r.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case uy.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=i(a,o);for(let d=0;d<this._png.channels;d++)e.data[l+d]=r.data[u+d]}break;case uy.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:l,frameIndex:u}=i(a,o);for(let d=0;d<this._png.channels;d++){const f=r.data[u+this._png.channels-1]/n,m=d%(this._png.channels-1)===0?1:r.data[u+d],y=Math.floor(f*m+(1-f)*e.data[l+d]);e.data[l+d]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==o_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===cy.NO_INTERLACE)this._png.data=a_({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===cy.ADAM7)this._png.data=kW({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:jm.NONE,blendOp:uy.SOURCE,data:e}),this._inflator=new r_,this._writingDataChunks=!1}}function zW(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var l_;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(l_||(l_={}));function UW(t,e){return new BW(t,e).decode()}var Er=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function dy(){Er.console&&typeof Er.console.log=="function"&&Er.console.log.apply(Er.console,arguments)}var $n={log:dy,warn:function(t){Er.console&&(typeof Er.console.warn=="function"?Er.console.warn.apply(Er.console,arguments):dy.call(null,arguments))},error:function(t){Er.console&&(typeof Er.console.error=="function"?Er.console.error.apply(Er.console,arguments):dy(t))}};function fy(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ld(n.response,e,r)},n.onerror=function(){$n.error("could not download file")},n.send()}function c_(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Im(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ld=Er.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==Er?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Er.URL||Er.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?c_(i.href)?fy(t,e,r):Im(i,i.target="_blank"):Im(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Im(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(c_(t))fy(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Im(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:pn(a)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return fy(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Er.HTMLElement)||Er.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var u=Er.URL||Er.webkitURL,d=u.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function tE(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}var Ym=Er.atob.bind(Er),u_=Er.btoa.bind(Er);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function hy(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=cs(r,n,i,a,e[0],7,-680876936),a=cs(a,r,n,i,e[1],12,-389564586),i=cs(i,a,r,n,e[2],17,606105819),n=cs(n,i,a,r,e[3],22,-1044525330),r=cs(r,n,i,a,e[4],7,-176418897),a=cs(a,r,n,i,e[5],12,1200080426),i=cs(i,a,r,n,e[6],17,-1473231341),n=cs(n,i,a,r,e[7],22,-45705983),r=cs(r,n,i,a,e[8],7,1770035416),a=cs(a,r,n,i,e[9],12,-1958414417),i=cs(i,a,r,n,e[10],17,-42063),n=cs(n,i,a,r,e[11],22,-1990404162),r=cs(r,n,i,a,e[12],7,1804603682),a=cs(a,r,n,i,e[13],12,-40341101),i=cs(i,a,r,n,e[14],17,-1502002290),r=us(r,n=cs(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=us(a,r,n,i,e[6],9,-1069501632),i=us(i,a,r,n,e[11],14,643717713),n=us(n,i,a,r,e[0],20,-373897302),r=us(r,n,i,a,e[5],5,-701558691),a=us(a,r,n,i,e[10],9,38016083),i=us(i,a,r,n,e[15],14,-660478335),n=us(n,i,a,r,e[4],20,-405537848),r=us(r,n,i,a,e[9],5,568446438),a=us(a,r,n,i,e[14],9,-1019803690),i=us(i,a,r,n,e[3],14,-187363961),n=us(n,i,a,r,e[8],20,1163531501),r=us(r,n,i,a,e[13],5,-1444681467),a=us(a,r,n,i,e[2],9,-51403784),i=us(i,a,r,n,e[7],14,1735328473),r=ds(r,n=us(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=ds(a,r,n,i,e[8],11,-2022574463),i=ds(i,a,r,n,e[11],16,1839030562),n=ds(n,i,a,r,e[14],23,-35309556),r=ds(r,n,i,a,e[1],4,-1530992060),a=ds(a,r,n,i,e[4],11,1272893353),i=ds(i,a,r,n,e[7],16,-155497632),n=ds(n,i,a,r,e[10],23,-1094730640),r=ds(r,n,i,a,e[13],4,681279174),a=ds(a,r,n,i,e[0],11,-358537222),i=ds(i,a,r,n,e[3],16,-722521979),n=ds(n,i,a,r,e[6],23,76029189),r=ds(r,n,i,a,e[9],4,-640364487),a=ds(a,r,n,i,e[12],11,-421815835),i=ds(i,a,r,n,e[15],16,530742520),r=fs(r,n=ds(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=fs(a,r,n,i,e[7],10,1126891415),i=fs(i,a,r,n,e[14],15,-1416354905),n=fs(n,i,a,r,e[5],21,-57434055),r=fs(r,n,i,a,e[12],6,1700485571),a=fs(a,r,n,i,e[3],10,-1894986606),i=fs(i,a,r,n,e[10],15,-1051523),n=fs(n,i,a,r,e[1],21,-2054922799),r=fs(r,n,i,a,e[8],6,1873313359),a=fs(a,r,n,i,e[15],10,-30611744),i=fs(i,a,r,n,e[6],15,-1560198380),n=fs(n,i,a,r,e[13],21,1309151649),r=fs(r,n,i,a,e[4],6,-145523070),a=fs(a,r,n,i,e[11],10,-1120210379),i=fs(i,a,r,n,e[2],15,718787259),n=fs(n,i,a,r,e[9],21,-343485551),t[0]=vu(r,t[0]),t[1]=vu(n,t[1]),t[2]=vu(i,t[2]),t[3]=vu(a,t[3])}function mv(t,e,r,n,i,a){return e=vu(vu(e,t),vu(n,a)),vu(e<<i|e>>>32-i,r)}function cs(t,e,r,n,i,a,o){return mv(e&r|~e&n,t,e,i,a,o)}function us(t,e,r,n,i,a,o){return mv(e&n|r&~n,t,e,i,a,o)}function ds(t,e,r,n,i,a,o){return mv(e^r^n,t,e,i,a,o)}function fs(t,e,r,n,i,a,o){return mv(r^(e|~n),t,e,i,a,o)}function rE(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)hy(n,$W(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(hy(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,hy(n,i),n}function $W(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var d_="0123456789abcdef".split("");function qW(t){for(var e="",r=0;r<4;r++)e+=d_[t>>8*r+4&15]+d_[t>>8*r&15];return e}function WW(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function w1(t){return rE(t).map(WW).join("")}var VW=function(t){for(var e=0;e<t.length;e++)t[e]=qW(t[e]);return t.join("")}(rE("hello"))!="5d41402abc4b2a76b9719d911017c592";function vu(t,e){if(VW){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function S1(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var f=l[u];d=(d+f+o.charCodeAt(u))%256,l[u]=l[d],l[d]=f}r=t,n=l}else l=n;var m=e.length,y=0,g=0,k="";for(u=0;u<m;u++)g=(g+(f=l[y=(y+1)%256]))%256,l[y]=l[g],l[g]=f,o=l[(l[y]+l[g])%256],k+=String.fromCharCode(e.charCodeAt(u)^o);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var f_={print:4,modify:8,copy:16,"annot-forms":32};function pf(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(f_.perm!==void 0)throw new Error("Invalid permission: "+l);i+=f_[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=w1(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=S1(this.encryptionKey,this.padding)}function mf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function h_(t){if(pn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(l){Er.console&&$n.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ag(t){if(!(this instanceof Ag))return new Ag(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function nE(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ud(t,e,r,n,i){if(!(this instanceof ud))return new ud(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,nE.call(this,n,i)}function vf(t,e,r,n,i){if(!(this instanceof vf))return new vf(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,nE.call(this,n,i)}function sr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,u=16,d="S",f=null;pn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=h_;var k="1.3",_=g.__private__.getPdfVersion=function(){return k};g.__private__.setPdfVersion=function(A){k=A};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var E=g.__private__.getPageFormat=function(A){return N[A]};i=i||"a4";var T="compat",P="advanced",R=T;function M(){this.saveGraphicsState(),ye(new ir(Qt,0,0,-Qt,0,Ii()*Qt).toString()+" cm"),this.setFontSize(this.getFontSize()/Qt),d="n",R=P}function Q(){this.restoreGraphicsState(),d="S",R=T}var K=g.__private__.combineFontStyleAndFontWeight=function(A,q){if(A=="bold"&&q=="normal"||A=="bold"&&q==400||A=="normal"&&q=="italic"||A=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(A=q==400||q==="normal"?A==="italic"?"italic":"normal":q!=700&&q!=="bold"||A!=="normal"?(q==700?"bold":q)+""+A:"bold"),A};g.advancedAPI=function(A){var q=R===T;return q&&M.call(this),typeof A!="function"||(A(this),q&&Q.call(this)),this},g.compatAPI=function(A){var q=R===P;return q&&Q.call(this),typeof A!="function"||(A(this),q&&M.call(this)),this},g.isAdvancedAPI=function(){return R===P};var G,H=function(A){if(R!==P)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},oe=g.roundToPrecision=g.__private__.roundToPrecision=function(A,q){var fe=e||q;if(isNaN(A)||isNaN(fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(fe).replace(/0+$/,"")};G=g.hpf=g.__private__.hpf=typeof u=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(A,u)}:u==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(A,16)};var z=g.f2=g.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return oe(A,2)},U=g.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return oe(A,3)},W=g.scale=g.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return R===T?A*Qt:R===P?A:void 0},Y=function(A){return W(function(q){return R===T?Ii()-q:R===P?q:void 0}(A))};g.__private__.setPrecision=g.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var be,he="00000000000000000000000000000000",ge=g.__private__.getFileId=function(){return he},ie=g.__private__.setFileId=function(A){return he=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():he.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Mn=new pf(f.userPermissions,f.userPassword,f.ownerPassword,he)),he};g.setFileId=function(A){return ie(A),this},g.getFileId=function(){return ge()};var ve=g.__private__.convertDateToPDFDate=function(A){var q=A.getTimezoneOffset(),fe=q<0?"+":"-",Ee=Math.floor(Math.abs(q/60)),Be=Math.abs(q%60),lt=[fe,ne(Ee),"'",ne(Be),"'"].join("");return["D:",A.getFullYear(),ne(A.getMonth()+1),ne(A.getDate()),ne(A.getHours()),ne(A.getMinutes()),ne(A.getSeconds()),lt].join("")},_e=g.__private__.convertPDFDateToDate=function(A){var q=parseInt(A.substr(2,4),10),fe=parseInt(A.substr(6,2),10)-1,Ee=parseInt(A.substr(8,2),10),Be=parseInt(A.substr(10,2),10),lt=parseInt(A.substr(12,2),10),ft=parseInt(A.substr(14,2),10);return new Date(q,fe,Ee,Be,lt,ft,0)},te=g.__private__.setCreationDate=function(A){var q;if(A===void 0&&(A=new Date),A instanceof Date)q=ve(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=A}return be=q},O=g.__private__.getCreationDate=function(A){var q=be;return A==="jsDate"&&(q=_e(be)),q};g.setCreationDate=function(A){return te(A),this},g.getCreationDate=function(A){return O(A)};var ee,ne=g.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},le=g.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},we=0,me=[],Ie=[],Se=0,ze=[],rt=[],it=!1,pt=Ie;g.__private__.setCustomOutputDestination=function(A){it=!0,pt=A};var Je=function(A){it||(pt=A)};g.__private__.resetCustomOutputDestination=function(){it=!1,pt=Ie};var ye=g.__private__.out=function(A){return A=A.toString(),Se+=A.length+1,pt.push(A),pt},br=g.__private__.write=function(A){return ye(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},lr=g.__private__.getArrayBuffer=function(A){for(var q=A.length,fe=new ArrayBuffer(q),Ee=new Uint8Array(fe);q--;)Ee[q]=A.charCodeAt(q);return fe},nr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return nr};var gt=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(A){return gt=R===P?A/Qt:A,this};var pe,Ce=g.__private__.getFontSize=g.getFontSize=function(){return R===T?gt:gt*Qt},We=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(A){return We=A,this},g.__private__.getR2L=g.getR2L=function(){return We};var at,dt=g.__private__.setZoomMode=function(A){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))pe=A;else if(isNaN(A)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');pe=A}else pe=parseInt(A,10)};g.__private__.getZoomMode=function(){return pe};var tt,mt=g.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');at=A};g.__private__.getPageMode=function(){return at};var Mt=g.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');tt=A};g.__private__.getLayoutMode=function(){return tt},g.__private__.setDisplayMode=g.setDisplayMode=function(A,q,fe){return dt(A),Mt(q),mt(fe),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(A){if(Object.keys(Tt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[A]},g.__private__.getDocumentProperties=function(){return Tt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(A){for(var q in Tt)Tt.hasOwnProperty(q)&&A[q]&&(Tt[q]=A[q]);return this},g.__private__.setDocumentProperty=function(A,q){if(Object.keys(Tt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[A]=q};var Dt,Qt,Ot,Gr,zr,Ut={},cr={},_t=[],Zt={},Sr={},pr={},bt={},bn=null,Qr=0,mr=[],tn=new h_(g),Ms=t.hotfixes||[],Pi={},Bs={},ji=[],ir=function A(q,fe,Ee,Be,lt,ft){if(!(this instanceof A))return new A(q,fe,Ee,Be,lt,ft);isNaN(q)&&(q=1),isNaN(fe)&&(fe=0),isNaN(Ee)&&(Ee=0),isNaN(Be)&&(Be=1),isNaN(lt)&&(lt=0),isNaN(ft)&&(ft=0),this._matrix=[q,fe,Ee,Be,lt,ft]};Object.defineProperty(ir.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(ir.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(ir.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(ir.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(ir.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(ir.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(ir.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(ir.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(ir.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(ir.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(ir.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(ir.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(ir.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ir.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ir.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ir.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ir.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(A)},ir.prototype.multiply=function(A){var q=A.sx*this.sx+A.shy*this.shx,fe=A.sx*this.shy+A.shy*this.sy,Ee=A.shx*this.sx+A.sy*this.shx,Be=A.shx*this.shy+A.sy*this.sy,lt=A.tx*this.sx+A.ty*this.shx+this.tx,ft=A.tx*this.shy+A.ty*this.sy+this.ty;return new ir(q,fe,Ee,Be,lt,ft)},ir.prototype.decompose=function(){var A=this.sx,q=this.shy,fe=this.shx,Ee=this.sy,Be=this.tx,lt=this.ty,ft=Math.sqrt(A*A+q*q),Ft=(A/=ft)*fe+(q/=ft)*Ee;fe-=A*Ft,Ee-=q*Ft;var $t=Math.sqrt(fe*fe+Ee*Ee);return Ft/=$t,A*(Ee/=$t)<q*(fe/=$t)&&(A=-A,q=-q,Ft=-Ft,ft=-ft),{scale:new ir(ft,0,0,$t,0,0),translate:new ir(1,0,0,1,Be,lt),rotate:new ir(A,q,-q,A,0,0),skew:new ir(1,0,Ft,1,0,0)}},ir.prototype.toString=function(A){return this.join(" ")},ir.prototype.inversed=function(){var A=this.sx,q=this.shy,fe=this.shx,Ee=this.sy,Be=this.tx,lt=this.ty,ft=1/(A*Ee-q*fe),Ft=Ee*ft,$t=-q*ft,qt=-fe*ft,xr=A*ft;return new ir(Ft,$t,qt,xr,-Ft*Be-qt*lt,-$t*Be-xr*lt)},ir.prototype.applyToPoint=function(A){var q=A.x*this.sx+A.y*this.shx+this.tx,fe=A.x*this.shy+A.y*this.sy+this.ty;return new Ua(q,fe)},ir.prototype.applyToRectangle=function(A){var q=this.applyToPoint(A),fe=this.applyToPoint(new Ua(A.x+A.w,A.y+A.h));return new lo(q.x,q.y,fe.x-q.x,fe.y-q.y)},ir.prototype.clone=function(){var A=this.sx,q=this.shy,fe=this.shx,Ee=this.sy,Be=this.tx,lt=this.ty;return new ir(A,q,fe,Ee,Be,lt)},g.Matrix=ir;var na=g.matrixMult=function(A,q){return q.multiply(A)},Sa=new ir(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Sa;var Ur=function(A,q){if(!Sr[A]){var fe=(q instanceof ud?"Sh":"P")+(Object.keys(Zt).length+1).toString(10);q.id=fe,Sr[A]=fe,Zt[fe]=q,tn.publish("addPattern",q)}};g.ShadingPattern=ud,g.TilingPattern=vf,g.addShadingPattern=function(A,q){return H("addShadingPattern()"),Ur(A,q),this},g.beginTilingPattern=function(A){H("beginTilingPattern()"),Za(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},g.endTilingPattern=function(A,q){H("endTilingPattern()"),q.stream=rt[ee].join(`
`),Ur(A,q),tn.publish("endTilingPattern",q),ji.pop().restore()};var sn,xn=g.__private__.newObject=function(){var A=jn();return Fn(A,!0),A},jn=g.__private__.newObjectDeferred=function(){return we++,me[we]=function(){return Se},we},Fn=function(A,q){return q=typeof q=="boolean"&&q,me[A]=Se,q&&ye(A+" 0 obj"),A},Ga=g.__private__.newAdditionalObject=function(){var A={objId:jn(),content:""};return ze.push(A),A},jo=jn(),gi=jn(),ia=g.__private__.decodeColorString=function(A){var q=A.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var fe=parseFloat(q[0]);q=[fe,fe,fe,"r"]}for(var Ee="#",Be=0;Be<3;Be++)Ee+=("0"+Math.floor(255*parseFloat(q[Be])).toString(16)).slice(-2);return Ee},In=g.__private__.encodeColorString=function(A){var q;typeof A=="string"&&(A={ch1:A});var fe=A.ch1,Ee=A.ch2,Be=A.ch3,lt=A.ch4,ft=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof fe=="string"&&fe.charAt(0)!=="#"){var Ft=new tE(fe);if(Ft.ok)fe=Ft.toHex();else if(!/^\d*\.?\d*$/.test(fe))throw new Error('Invalid color "'+fe+'" passed to jsPDF.encodeColorString.')}if(typeof fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(fe)&&(fe="#"+fe[1]+fe[1]+fe[2]+fe[2]+fe[3]+fe[3]),typeof fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(fe)){var $t=parseInt(fe.substr(1),16);fe=$t>>16&255,Ee=$t>>8&255,Be=255&$t}if(Ee===void 0||lt===void 0&&fe===Ee&&Ee===Be)q=typeof fe=="string"?fe+" "+ft[0]:A.precision===2?z(fe/255)+" "+ft[0]:U(fe/255)+" "+ft[0];else if(lt===void 0||pn(lt)==="object"){if(lt&&!isNaN(lt.a)&&lt.a===0)return["1.","1.","1.",ft[1]].join(" ");q=typeof fe=="string"?[fe,Ee,Be,ft[1]].join(" "):A.precision===2?[z(fe/255),z(Ee/255),z(Be/255),ft[1]].join(" "):[U(fe/255),U(Ee/255),U(Be/255),ft[1]].join(" ")}else q=typeof fe=="string"?[fe,Ee,Be,lt,ft[2]].join(" "):A.precision===2?[z(fe),z(Ee),z(Be),z(lt),ft[2]].join(" "):[U(fe),U(Ee),U(Be),U(lt),ft[2]].join(" ");return q},aa=g.__private__.getFilters=function(){return o},Ma=g.__private__.putStream=function(A){var q=(A=A||{}).data||"",fe=A.filters||aa(),Ee=A.alreadyAppliedFilters||[],Be=A.addLength1||!1,lt=q.length,ft=A.objectId,Ft=function(Zn){return Zn};if(f!==null&&ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ft=Mn.encryptor(ft,0));var $t={};fe===!0&&(fe=["FlateEncode"]);var qt=A.additionalKeyValues||[],xr=($t=sr.API.processDataByFilters!==void 0?sr.API.processDataByFilters(q,fe):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if($t.data.length!==0&&(qt.push({key:"Length",value:$t.data.length}),Be===!0&&qt.push({key:"Length1",value:lt})),xr.length!=0)if(xr.split("/").length-1==1)qt.push({key:"Filter",value:xr});else{qt.push({key:"Filter",value:"["+xr+"]"});for(var Wr=0;Wr<qt.length;Wr+=1)if(qt[Wr].key==="DecodeParms"){for(var Tn=[],Bn=0;Bn<$t.reverseChain.split("/").length-1;Bn+=1)Tn.push("null");Tn.push(qt[Wr].value),qt[Wr].value="["+Tn.join(" ")+"]"}}ye("<<");for(var an=0;an<qt.length;an++)ye("/"+qt[an].key+" "+qt[an].value);ye(">>"),$t.data.length!==0&&(ye("stream"),ye(Ft($t.data)),ye("endstream"))},_a=g.__private__.putPage=function(A){var q=A.number,fe=A.data,Ee=A.objId,Be=A.contentsObjId;Fn(Ee,!0),ye("<</Type /Page"),ye("/Parent "+A.rootDictionaryObjId+" 0 R"),ye("/Resources "+A.resourceDictionaryObjId+" 0 R"),ye("/MediaBox ["+parseFloat(G(A.mediaBox.bottomLeftX))+" "+parseFloat(G(A.mediaBox.bottomLeftY))+" "+G(A.mediaBox.topRightX)+" "+G(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ye("/CropBox ["+G(A.cropBox.bottomLeftX)+" "+G(A.cropBox.bottomLeftY)+" "+G(A.cropBox.topRightX)+" "+G(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ye("/BleedBox ["+G(A.bleedBox.bottomLeftX)+" "+G(A.bleedBox.bottomLeftY)+" "+G(A.bleedBox.topRightX)+" "+G(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ye("/TrimBox ["+G(A.trimBox.bottomLeftX)+" "+G(A.trimBox.bottomLeftY)+" "+G(A.trimBox.topRightX)+" "+G(A.trimBox.topRightY)+"]"),A.artBox!==null&&ye("/ArtBox ["+G(A.artBox.bottomLeftX)+" "+G(A.artBox.bottomLeftY)+" "+G(A.artBox.topRightX)+" "+G(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ye("/UserUnit "+A.userUnit),tn.publish("putPage",{objId:Ee,pageContext:mr[q],pageNumber:q,page:fe}),ye("/Contents "+Be+" 0 R"),ye(">>"),ye("endobj");var lt=fe.join(`
`);return R===P&&(lt+=`
Q`),Fn(Be,!0),Ma({data:lt,filters:aa(),objectId:Be}),ye("endobj"),Ee},Ka=g.__private__.putPages=function(){var A,q,fe=[];for(A=1;A<=Qr;A++)mr[A].objId=jn(),mr[A].contentsObjId=jn();for(A=1;A<=Qr;A++)fe.push(_a({number:A,data:rt[A],objId:mr[A].objId,contentsObjId:mr[A].contentsObjId,mediaBox:mr[A].mediaBox,cropBox:mr[A].cropBox,bleedBox:mr[A].bleedBox,trimBox:mr[A].trimBox,artBox:mr[A].artBox,userUnit:mr[A].userUnit,rootDictionaryObjId:jo,resourceDictionaryObjId:gi}));Fn(jo,!0),ye("<</Type /Pages");var Ee="/Kids [";for(q=0;q<Qr;q++)Ee+=fe[q]+" 0 R ";ye(Ee+"]"),ye("/Count "+Qr),ye(">>"),ye("endobj"),tn.publish("postPutPages")},ka=function(A){tn.publish("putFont",{font:A,out:ye,newObject:xn,putStream:Ma}),A.isAlreadyPutted!==!0&&(A.objectNumber=xn(),ye("<<"),ye("/Type /Font"),ye("/BaseFont /"+mf(A.postScriptName)),ye("/Subtype /Type1"),typeof A.encoding=="string"&&ye("/Encoding /"+A.encoding),ye("/FirstChar 32"),ye("/LastChar 255"),ye(">>"),ye("endobj"))},Io=function(A){A.objectNumber=xn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[G(A.x),G(A.y),G(A.x+A.width),G(A.y+A.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var fe=A.pages[1].join(`
`);Ma({data:fe,additionalKeyValues:q,objectId:A.objectNumber}),ye("endobj")},no=function(A,q){q||(q=21);var fe=xn(),Ee=function(ft,Ft){var $t,qt=[],xr=1/(Ft-1);for($t=0;$t<1;$t+=xr)qt.push($t);if(qt.push(1),ft[0].offset!=0){var Wr={offset:0,color:ft[0].color};ft.unshift(Wr)}if(ft[ft.length-1].offset!=1){var Tn={offset:1,color:ft[ft.length-1].color};ft.push(Tn)}for(var Bn="",an=0,Zn=0;Zn<qt.length;Zn++){for($t=qt[Zn];$t>ft[an+1].offset;)an++;var zn=ft[an].offset,ci=($t-zn)/(ft[an+1].offset-zn),la=ft[an].color,Ws=ft[an+1].color;Bn+=le(Math.round((1-ci)*la[0]+ci*Ws[0]).toString(16))+le(Math.round((1-ci)*la[1]+ci*Ws[1]).toString(16))+le(Math.round((1-ci)*la[2]+ci*Ws[2]).toString(16))}return Bn.trim()}(A.colors,q),Be=[];Be.push({key:"FunctionType",value:"0"}),Be.push({key:"Domain",value:"[0.0 1.0]"}),Be.push({key:"Size",value:"["+q+"]"}),Be.push({key:"BitsPerSample",value:"8"}),Be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ma({data:Ee,additionalKeyValues:Be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:fe}),ye("endobj"),A.objectNumber=xn(),ye("<< /ShadingType "+A.type),ye("/ColorSpace /DeviceRGB");var lt="/Coords ["+G(parseFloat(A.coords[0]))+" "+G(parseFloat(A.coords[1]))+" ";A.type===2?lt+=G(parseFloat(A.coords[2]))+" "+G(parseFloat(A.coords[3])):lt+=G(parseFloat(A.coords[2]))+" "+G(parseFloat(A.coords[3]))+" "+G(parseFloat(A.coords[4]))+" "+G(parseFloat(A.coords[5])),ye(lt+="]"),A.matrix&&ye("/Matrix ["+A.matrix.toString()+"]"),ye("/Function "+fe+" 0 R"),ye("/Extend [true true]"),ye(">>"),ye("endobj")},wn=function(A,q){var fe=jn(),Ee=xn();q.push({resourcesOid:fe,objectOid:Ee}),A.objectNumber=Ee;var Be=[];Be.push({key:"Type",value:"/Pattern"}),Be.push({key:"PatternType",value:"1"}),Be.push({key:"PaintType",value:"1"}),Be.push({key:"TilingType",value:"1"}),Be.push({key:"BBox",value:"["+A.boundingBox.map(G).join(" ")+"]"}),Be.push({key:"XStep",value:G(A.xStep)}),Be.push({key:"YStep",value:G(A.yStep)}),Be.push({key:"Resources",value:fe+" 0 R"}),A.matrix&&Be.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Ma({data:A.stream,additionalKeyValues:Be,objectId:A.objectNumber}),ye("endobj")},io=function(A){for(var q in A.objectNumber=xn(),ye("<<"),A)switch(q){case"opacity":ye("/ca "+z(A[q]));break;case"stroke-opacity":ye("/CA "+z(A[q]))}ye(">>"),ye("endobj")},Zr=function(A){Fn(A.resourcesOid,!0),ye("<<"),ye("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var q in ye("/Font <<"),Ut)Ut.hasOwnProperty(q)&&(m===!1||m===!0&&y.hasOwnProperty(q))&&ye("/"+q+" "+Ut[q].objectNumber+" 0 R");ye(">>")}(),function(){if(Object.keys(Zt).length>0){for(var q in ye("/Shading <<"),Zt)Zt.hasOwnProperty(q)&&Zt[q]instanceof ud&&Zt[q].objectNumber>=0&&ye("/"+q+" "+Zt[q].objectNumber+" 0 R");tn.publish("putShadingPatternDict"),ye(">>")}}(),function(q){if(Object.keys(Zt).length>0){for(var fe in ye("/Pattern <<"),Zt)Zt.hasOwnProperty(fe)&&Zt[fe]instanceof g.TilingPattern&&Zt[fe].objectNumber>=0&&Zt[fe].objectNumber<q&&ye("/"+fe+" "+Zt[fe].objectNumber+" 0 R");tn.publish("putTilingPatternDict"),ye(">>")}}(A.objectOid),function(){if(Object.keys(pr).length>0){var q;for(q in ye("/ExtGState <<"),pr)pr.hasOwnProperty(q)&&pr[q].objectNumber>=0&&ye("/"+q+" "+pr[q].objectNumber+" 0 R");tn.publish("putGStateDict"),ye(">>")}}(),function(){for(var q in ye("/XObject <<"),Pi)Pi.hasOwnProperty(q)&&Pi[q].objectNumber>=0&&ye("/"+q+" "+Pi[q].objectNumber+" 0 R");tn.publish("putXobjectDict"),ye(">>")}(),ye(">>"),ye("endobj")},ic=function(A){cr[A.fontName]=cr[A.fontName]||{},cr[A.fontName][A.fontStyle]=A.id},vs=function(A,q,fe,Ee,Be){var lt={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:A,fontName:q,fontStyle:fe,encoding:Ee,isStandardFont:Be||!1,metadata:{}};return tn.publish("addFont",{font:lt,instance:this}),Ut[lt.id]=lt,ic(lt),lt.id},$i=g.__private__.pdfEscape=g.pdfEscape=function(A,q){return function(fe,Ee){var Be,lt,ft,Ft,$t,qt,xr,Wr,Tn;if(ft=(Ee=Ee||{}).sourceEncoding||"Unicode",$t=Ee.outputEncoding,(Ee.autoencode||$t)&&Ut[Dt].metadata&&Ut[Dt].metadata[ft]&&Ut[Dt].metadata[ft].encoding&&(Ft=Ut[Dt].metadata[ft].encoding,!$t&&Ut[Dt].encoding&&($t=Ut[Dt].encoding),!$t&&Ft.codePages&&($t=Ft.codePages[0]),typeof $t=="string"&&($t=Ft[$t]),$t)){for(xr=!1,qt=[],Be=0,lt=fe.length;Be<lt;Be++)(Wr=$t[fe.charCodeAt(Be)])?qt.push(String.fromCharCode(Wr)):qt.push(fe[Be]),qt[Be].charCodeAt(0)>>8&&(xr=!0);fe=qt.join("")}for(Be=fe.length;xr===void 0&&Be!==0;)fe.charCodeAt(Be-1)>>8&&(xr=!0),Be--;if(!xr)return fe;for(qt=Ee.noBOM?[]:[254,255],Be=0,lt=fe.length;Be<lt;Be++){if((Tn=(Wr=fe.charCodeAt(Be))>>8)>>8)throw new Error("Character at position "+Be+" of string '"+fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qt.push(Tn),qt.push(Wr-(Tn<<8))}return String.fromCharCode.apply(void 0,qt)}(A,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zs=g.__private__.beginPage=function(A){rt[++Qr]=[],mr[Qr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},To(Qr),Je(rt[ee])},jl=function(A,q){var fe,Ee,Be;switch(r=q||r,typeof A=="string"&&(fe=E(A.toLowerCase()),Array.isArray(fe)&&(Ee=fe[0],Be=fe[1])),Array.isArray(A)&&(Ee=A[0]*Qt,Be=A[1]*Qt),isNaN(Ee)&&(Ee=i[0],Be=i[1]),(Ee>14400||Be>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Be=Math.min(14400,Be)),i=[Ee,Be],r.substr(0,1)){case"l":Be>Ee&&(i=[Be,Ee]);break;case"p":Ee>Be&&(i=[Be,Ee])}zs(i),xs(on),ye(so),uc!==0&&ye(uc+" J"),dc!==0&&ye(dc+" j"),tn.publish("addPage",{pageNumber:Qr})},Ya=function(A){A>0&&A<=Qr&&(rt.splice(A,1),mr.splice(A,1),Qr--,ee>Qr&&(ee=Qr),this.setPage(ee))},To=function(A){A>0&&A<=Qr&&(ee=A)},qi=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return rt.length-1},ac=function(A,q,fe){var Ee,Be=void 0;return fe=fe||{},A=A!==void 0?A:Ut[Dt].fontName,q=q!==void 0?q:Ut[Dt].fontStyle,Ee=A.toLowerCase(),cr[Ee]!==void 0&&cr[Ee][q]!==void 0?Be=cr[Ee][q]:cr[A]!==void 0&&cr[A][q]!==void 0?Be=cr[A][q]:fe.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+A+"', '"+q+"'. Refer to getFontList() for available fonts."),Be||fe.noFallback||(Be=cr.times[q])==null&&(Be=cr.times.normal),Be},dr=g.__private__.putInfo=function(){var A=xn(),q=function(Ee){return Ee};for(var fe in f!==null&&(q=Mn.encryptor(A,0)),ye("<<"),ye("/Producer ("+$i(q("jsPDF "+sr.version))+")"),Tt)Tt.hasOwnProperty(fe)&&Tt[fe]&&ye("/"+fe.substr(0,1).toUpperCase()+fe.substr(1)+" ("+$i(q(Tt[fe]))+")");ye("/CreationDate ("+$i(q(be))+")"),ye(">>"),ye("endobj")},Uc=g.__private__.putCatalog=function(A){var q=(A=A||{}).rootDictionaryObjId||jo;switch(xn(),ye("<<"),ye("/Type /Catalog"),ye("/Pages "+q+" 0 R"),pe||(pe="fullwidth"),pe){case"fullwidth":ye("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ye("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ye("/OpenAction [3 0 R /Fit]");break;case"original":ye("/OpenAction [3 0 R /XYZ null null 1]");break;default:var fe=""+pe;fe.substr(fe.length-1)==="%"&&(pe=parseInt(pe)/100),typeof pe=="number"&&ye("/OpenAction [3 0 R /XYZ null null "+z(pe)+"]")}switch(tt||(tt="continuous"),tt){case"continuous":ye("/PageLayout /OneColumn");break;case"single":ye("/PageLayout /SinglePage");break;case"two":case"twoleft":ye("/PageLayout /TwoColumnLeft");break;case"tworight":ye("/PageLayout /TwoColumnRight")}at&&ye("/PageMode /"+at),tn.publish("putCatalog"),ye(">>"),ye("endobj")},Kn=g.__private__.putTrailer=function(){ye("trailer"),ye("<<"),ye("/Size "+(we+1)),ye("/Root "+we+" 0 R"),ye("/Info "+(we-1)+" 0 R"),f!==null&&ye("/Encrypt "+Mn.oid+" 0 R"),ye("/ID [ <"+he+"> <"+he+"> ]"),ye(">>")},sc=g.__private__.putHeader=function(){ye("%PDF-"+k),ye("%ºß¬à")},nn=g.__private__.putXRef=function(){var A="0000000000";ye("xref"),ye("0 "+(we+1)),ye("0000000000 65535 f ");for(var q=1;q<=we;q++)typeof me[q]=="function"?ye((A+me[q]()).slice(-10)+" 00000 n "):me[q]!==void 0?ye((A+me[q]).slice(-10)+" 00000 n "):ye("0000000000 00000 n ")},Wi=g.__private__.buildDocument=function(){var A;we=0,Se=0,Ie=[],me=[],ze=[],jo=jn(),gi=jn(),Je(Ie),tn.publish("buildDocument"),sc(),Ka(),function(){tn.publish("putAdditionalObjects");for(var fe=0;fe<ze.length;fe++){var Ee=ze[fe];Fn(Ee.objId,!0),ye(Ee.content),ye("endobj")}tn.publish("postPutAdditionalObjects")}(),A=[],function(){for(var fe in Ut)Ut.hasOwnProperty(fe)&&(m===!1||m===!0&&y.hasOwnProperty(fe))&&ka(Ut[fe])}(),function(){var fe;for(fe in pr)pr.hasOwnProperty(fe)&&io(pr[fe])}(),function(){for(var fe in Pi)Pi.hasOwnProperty(fe)&&Io(Pi[fe])}(),function(fe){var Ee;for(Ee in Zt)Zt.hasOwnProperty(Ee)&&(Zt[Ee]instanceof ud?no(Zt[Ee]):Zt[Ee]instanceof vf&&wn(Zt[Ee],fe))}(A),tn.publish("putResources"),A.forEach(Zr),Zr({resourcesOid:gi,objectOid:Number.MAX_SAFE_INTEGER}),tn.publish("postPutResources"),f!==null&&(Mn.oid=xn(),ye("<<"),ye("/Filter /Standard"),ye("/V "+Mn.v),ye("/R "+Mn.r),ye("/U <"+Mn.toHexString(Mn.U)+">"),ye("/O <"+Mn.toHexString(Mn.O)+">"),ye("/P "+Mn.P),ye(">>"),ye("endobj")),dr(),Uc();var q=Se;return nn(),Kn(),ye("startxref"),ye(""+q),ye("%%EOF"),Je(rt[ee]),Ie.join(`
`)},sa=g.__private__.getBlob=function(A){return new Blob([lr(A)],{type:"application/pdf"})},li=g.output=g.__private__.output=(sn=function(A,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",A){case void 0:return Wi();case"save":g.save(q.filename);break;case"arraybuffer":return lr(Wi());case"blob":return sa(Wi());case"bloburi":case"bloburl":if(Er.URL!==void 0&&typeof Er.URL.createObjectURL=="function")return Er.URL&&Er.URL.createObjectURL(sa(Wi()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var fe="",Ee=Wi();try{fe=u_(Ee)}catch{fe=u_(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+q.filename+";base64,"+fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Er)==="[object Window]"){var Be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Be=q.pdfObjectUrl,lt="");var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Be+'"'+lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",Ft=Er.open();return Ft!==null&&Ft.document.write(ft),Ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Er)==="[object Window]"){var $t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',qt=Er.open();if(qt!==null){qt.document.write($t);var xr=this;qt.document.documentElement.querySelector("#pdfViewer").onload=function(){qt.document.title=q.filename,qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Er)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Tn=Er.open();if(Tn!==null&&(Tn.document.write(Wr),Tn.document.title=q.filename),Tn||typeof safari>"u")return Tn;break;case"datauri":case"dataurl":return Er.document.location.href=this.output("datauristring",q);default:return null}},sn.foo=function(){try{return sn.apply(this,arguments)}catch(fe){var A=fe.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var q="Error in function "+A.split(`
`)[0].split("<")[0]+": "+fe.message;if(!Er.console)throw new Error(q);Er.console.error(q,fe),Er.alert&&alert(q)}},sn.foo.bar=sn,sn.foo),ao=function(A){return Array.isArray(Ms)===!0&&Ms.indexOf(A)>-1};switch(n){case"pt":Qt=1;break;case"mm":Qt=72/25.4;break;case"cm":Qt=72/2.54;break;case"in":Qt=72;break;case"px":Qt=ao("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qt=12;break;case"ex":Qt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Qt=n}var Mn=null;te(),ie();var Us=g.__private__.getPageInfo=g.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mr[A].objId,pageNumber:A,pageContext:mr[A]}},oc=g.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in mr)if(mr[q].objId===A)break;return Us(q)},Do=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:mr[ee].objId,pageNumber:ee,pageContext:mr[ee]}};g.addPage=function(){return jl.apply(this,arguments),this},g.setPage=function(){return To.apply(this,arguments),Je.call(this,rt[ee]),this},g.insertPage=function(A){return this.addPage(),this.movePage(ee,A),this},g.movePage=function(A,q){var fe,Ee;if(A>q){fe=rt[A],Ee=mr[A];for(var Be=A;Be>q;Be--)rt[Be]=rt[Be-1],mr[Be]=mr[Be-1];rt[q]=fe,mr[q]=Ee,this.setPage(q)}else if(A<q){fe=rt[A],Ee=mr[A];for(var lt=A;lt<q;lt++)rt[lt]=rt[lt+1],mr[lt]=mr[lt+1];rt[q]=fe,mr[q]=Ee,this.setPage(q)}return this},g.deletePage=function(){return Ya.apply(this,arguments),this},g.__private__.text=g.text=function(A,q,fe,Ee,Be){var lt,ft,Ft,$t,qt,xr,Wr,Tn,Bn,an=(Ee=Ee||{}).scope||this;if(typeof A=="number"&&typeof q=="number"&&(typeof fe=="string"||Array.isArray(fe))){var Zn=fe;fe=q,q=A,A=Zn}if(arguments[3]instanceof ir==0?(Ft=arguments[4],$t=arguments[5],pn(Wr=arguments[3])==="object"&&Wr!==null||(typeof Ft=="string"&&($t=Ft,Ft=null),typeof Wr=="string"&&($t=Wr,Wr=null),typeof Wr=="number"&&(Ft=Wr,Wr=null),Ee={flags:Wr,angle:Ft,align:$t})):(H("The transform parameter of text() with a Matrix value"),Bn=Be),isNaN(q)||isNaN(fe)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return an;var zn,ci="",la=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:oa,Ws=an.internal.scaleFactor;function Tl(xe){return xe=xe.split("	").join(Array(Ee.TabLen||9).join(" ")),$i(xe,Wr)}function el(xe){for(var Ae,Pe=xe.concat(),Le=[],Ne=Pe.length;Ne--;)typeof(Ae=Pe.shift())=="string"?Le.push(Ae):Array.isArray(xe)&&(Ae.length===1||Ae[1]===void 0&&Ae[2]===void 0)?Le.push(Ae[0]):Le.push([Ae[0],Ae[1],Ae[2]]);return Le}function uo(xe,Ae){var Pe;if(typeof xe=="string")Pe=Ae(xe)[0];else if(Array.isArray(xe)){for(var Le,Ne,Ue=xe.concat(),je=[],Me=Ue.length;Me--;)typeof(Le=Ue.shift())=="string"?je.push(Ae(Le)[0]):Array.isArray(Le)&&typeof Le[0]=="string"&&(Ne=Ae(Le[0],Le[1],Le[2]),je.push([Ne[0],Ne[1],Ne[2]]));Pe=je}return Pe}var Xa=!1,fc=!0;if(typeof A=="string")Xa=!0;else if(Array.isArray(A)){var Vs=A.concat();ft=[];for(var ks,bi=Vs.length;bi--;)(typeof(ks=Vs.shift())!="string"||Array.isArray(ks)&&typeof ks[0]!="string")&&(fc=!1);Xa=fc}if(Xa===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Ns=gt/an.internal.scaleFactor,es=Ns*(la-1);switch(Ee.baseline){case"bottom":fe-=es;break;case"top":fe+=Ns-es;break;case"hanging":fe+=Ns-2*es;break;case"middle":fe+=Ns/2-es}if((xr=Ee.maxWidth||0)>0&&(typeof A=="string"?A=an.splitTextToSize(A,xr):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(xe,Ae){return xe.concat(an.splitTextToSize(Ae,xr))},[]))),lt={text:A,x:q,y:fe,options:Ee,mutex:{pdfEscape:$i,activeFontKey:Dt,fonts:Ut,activeFontSize:gt}},tn.publish("preProcessText",lt),A=lt.text,Ft=(Ee=lt.options).angle,Bn instanceof ir==0&&Ft&&typeof Ft=="number"){Ft*=Math.PI/180,Ee.rotationDirection===0&&(Ft=-Ft),R===P&&(Ft=-Ft);var Dl=Math.cos(Ft),Ll=Math.sin(Ft);Bn=new ir(Dl,Ll,-Ll,Dl,0,0)}else Ft&&Ft instanceof ir&&(Bn=Ft);R!==P||Bn||(Bn=Sa),(qt=Ee.charSpace||_s)!==void 0&&(ci+=G(W(qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tn=Ee.horizontalScale)!==void 0&&(ci+=G(100*Tn)+` Tz
`),Ee.lang;var ca=-1,hc=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,tl=an.internal.getCurrentPageInfo().pageContext;switch(hc){case 0:case!1:case"fill":ca=0;break;case 1:case!0:case"stroke":ca=1;break;case 2:case"fillThenStroke":ca=2;break;case 3:case"invisible":ca=3;break;case 4:case"fillAndAddForClipping":ca=4;break;case 5:case"strokeAndAddPathForClipping":ca=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ca=6;break;case 7:case"addToPathForClipping":ca=7}var qc=tl.usedRenderingMode!==void 0?tl.usedRenderingMode:-1;ca!==-1?ci+=ca+` Tr
`:qc!==-1&&(ci+=`0 Tr
`),ca!==-1&&(tl.usedRenderingMode=ca),$t=Ee.align||"left";var Xn,Gi=gt*la,Hs=an.internal.pageSize.getWidth(),Rl=Ut[Dt];qt=Ee.charSpace||_s,xr=Ee.maxWidth||0,Wr=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var fo=[],rl=function(xe){return an.getStringUnitWidth(xe,{font:Rl,charSpace:qt,fontSize:gt,doKerning:!1})*gt/Ws};if(Object.prototype.toString.call(A)==="[object Array]"){var ua;ft=el(A),$t!=="left"&&(Xn=ft.map(rl));var xi,Ki=0;if($t==="right"){q-=Xn[0],A=[],bi=ft.length;for(var Vr=0;Vr<bi;Vr++)Vr===0?(xi=Ba(q),ua=yi(fe)):(xi=W(Ki-Xn[Vr]),ua=-Gi),A.push([ft[Vr],xi,ua]),Ki=Xn[Vr]}else if($t==="center"){q-=Xn[0]/2,A=[],bi=ft.length;for(var Cs=0;Cs<bi;Cs++)Cs===0?(xi=Ba(q),ua=yi(fe)):(xi=W((Ki-Xn[Cs])/2),ua=-Gi),A.push([ft[Cs],xi,ua]),Ki=Xn[Cs]}else if($t==="left"){A=[],bi=ft.length;for(var Yi=0;Yi<bi;Yi++)A.push(ft[Yi])}else if($t==="justify"&&Rl.encoding==="Identity-H"){A=[],bi=ft.length,xr=xr!==0?xr:Hs;for(var Fo=0,Dn=0;Dn<bi;Dn++)if(ua=Dn===0?yi(fe):-Gi,xi=Dn===0?Ba(q):Fo,Dn<bi-1){var pc=W((xr-Xn[Dn])/(ft[Dn].split(" ").length-1)),ei=ft[Dn].split(" ");A.push([ei[0]+" ",xi,ua]),Fo=0;for(var Ji=1;Ji<ei.length;Ji++){var As=(rl(ei[Ji-1]+" "+ei[Ji])-rl(ei[Ji]))*Ws+pc;Ji==ei.length-1?A.push([ei[Ji],As,0]):A.push([ei[Ji]+" ",As,0]),Fo-=As}}else A.push([ft[Dn],xi,ua]);A.push(["",Fo,0])}else{if($t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],bi=ft.length,xr=xr!==0?xr:Hs,Dn=0;Dn<bi;Dn++)ua=Dn===0?yi(fe):-Gi,xi=Dn===0?Ba(q):0,Dn<bi-1?fo.push(G(W((xr-Xn[Dn])/(ft[Dn].split(" ").length-1)))):fo.push(0),A.push([ft[Dn],xi,ua])}}(typeof Ee.R2L=="boolean"?Ee.R2L:We)===!0&&(A=uo(A,function(xe,Ae,Pe){return[xe.split("").reverse().join(""),Ae,Pe]})),lt={text:A,x:q,y:fe,options:Ee,mutex:{pdfEscape:$i,activeFontKey:Dt,fonts:Ut,activeFontSize:gt}},tn.publish("postProcessText",lt),A=lt.text,zn=lt.mutex.isHex||!1;var da=Ut[Dt].encoding;da!=="WinAnsiEncoding"&&da!=="StandardEncoding"||(A=uo(A,function(xe,Ae,Pe){return[Tl(xe),Ae,Pe]})),ft=el(A),A=[];for(var nl,b,S,I=Array.isArray(ft[0])?1:0,B="",$=function(xe,Ae,Pe){var Le="";return Pe instanceof ir?(Pe=typeof Ee.angle=="number"?na(Pe,new ir(1,0,0,1,xe,Ae)):na(new ir(1,0,0,1,xe,Ae),Pe),R===P&&(Pe=na(new ir(1,0,0,-1,0,0),Pe)),Le=Pe.join(" ")+` Tm
`):Le=G(xe)+" "+G(Ae)+` Td
`,Le},Z=0;Z<ft.length;Z++){switch(B="",I){case 1:S=(zn?"<":"(")+ft[Z][0]+(zn?">":")"),nl=parseFloat(ft[Z][1]),b=parseFloat(ft[Z][2]);break;case 0:S=(zn?"<":"(")+ft[Z]+(zn?">":")"),nl=Ba(q),b=yi(fe)}fo!==void 0&&fo[Z]!==void 0&&(B=fo[Z]+` Tw
`),Z===0?A.push(B+$(nl,b,Bn)+S):I===0?A.push(B+S):I===1&&A.push(B+$(nl,b,Bn)+S)}A=I===0?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var ce=`BT
/`;return ce+=Dt+" "+gt+` Tf
`,ce+=G(gt*la)+` TL
`,ce+=za+`
`,ce+=ci,ce+=A,ye(ce+="ET"),y[Dt]=!0,an};var Lo=g.__private__.clip=g.clip=function(A){return ye(A==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Lo("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ye("n"),this};var Na=g.__private__.isValidStyle=function(A){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(q=!0),q};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(A){return Na(A)&&(d=A),this};var Qo=g.__private__.getStyle=g.getStyle=function(A){var q=d;switch(A){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=A}return q},rn=g.close=function(){return ye("h"),this};g.stroke=function(){return ye("S"),this},g.fill=function(A){return Lr("f",A),this},g.fillEvenOdd=function(A){return Lr("f*",A),this},g.fillStroke=function(A){return Lr("B",A),this},g.fillStrokeEvenOdd=function(A){return Lr("B*",A),this};var Lr=function(A,q){pn(q)==="object"?$c(q,A):ye(A)},Ro=function(A){A===null||R===P&&A===void 0||(A=Qo(A),ye(A))};function lc(A,q,fe,Ee,Be){var lt=new vf(q||this.boundingBox,fe||this.xStep,Ee||this.yStep,this.gState,Be||this.matrix);lt.stream=this.stream;var ft=A+"$$"+this.cloneIndex+++"$$";return Ur(ft,lt),lt}var $c=function(A,q){var fe=Sr[A.key],Ee=Zt[fe];if(Ee instanceof ud)ye("q"),ye(Vi(q)),Ee.gState&&g.setGState(Ee.gState),ye(A.matrix.toString()+" cm"),ye("/"+fe+" sh"),ye("Q");else if(Ee instanceof vf){var Be=new ir(1,0,0,-1,0,Ii());A.matrix&&(Be=Be.multiply(A.matrix||Sa),fe=lc.call(Ee,A.key,A.boundingBox,A.xStep,A.yStep,Be).id),ye("q"),ye("/Pattern cs"),ye("/"+fe+" scn"),Ee.gState&&g.setGState(Ee.gState),ye(q),ye("Q")}},Vi=function(A){switch(A){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ys=g.moveTo=function(A,q){return ye(G(W(A))+" "+G(Y(q))+" m"),this},Ja=g.lineTo=function(A,q){return ye(G(W(A))+" "+G(Y(q))+" l"),this},vi=g.curveTo=function(A,q,fe,Ee,Be,lt){return ye([G(W(A)),G(Y(q)),G(W(fe)),G(Y(Ee)),G(W(Be)),G(Y(lt)),"c"].join(" ")),this};g.__private__.line=g.line=function(A,q,fe,Ee,Be){if(isNaN(A)||isNaN(q)||isNaN(fe)||isNaN(Ee)||!Na(Be))throw new Error("Invalid arguments passed to jsPDF.line");return R===T?this.lines([[fe-A,Ee-q]],A,q,[1,1],Be||"S"):this.lines([[fe-A,Ee-q]],A,q,[1,1]).stroke()},g.__private__.lines=g.lines=function(A,q,fe,Ee,Be,lt){var ft,Ft,$t,qt,xr,Wr,Tn,Bn,an,Zn,zn,ci;if(typeof A=="number"&&(ci=fe,fe=q,q=A,A=ci),Ee=Ee||[1,1],lt=lt||!1,isNaN(q)||isNaN(fe)||!Array.isArray(A)||!Array.isArray(Ee)||!Na(Be)||typeof lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ys(q,fe),ft=Ee[0],Ft=Ee[1],qt=A.length,Zn=q,zn=fe,$t=0;$t<qt;$t++)(xr=A[$t]).length===2?(Zn=xr[0]*ft+Zn,zn=xr[1]*Ft+zn,Ja(Zn,zn)):(Wr=xr[0]*ft+Zn,Tn=xr[1]*Ft+zn,Bn=xr[2]*ft+Zn,an=xr[3]*Ft+zn,Zn=xr[4]*ft+Zn,zn=xr[5]*Ft+zn,vi(Wr,Tn,Bn,an,Zn,zn));return lt&&rn(),Ro(Be),this},g.path=function(A){for(var q=0;q<A.length;q++){var fe=A[q],Ee=fe.c;switch(fe.op){case"m":ys(Ee[0],Ee[1]);break;case"l":Ja(Ee[0],Ee[1]);break;case"c":vi.apply(this,Ee);break;case"h":rn()}}return this},g.__private__.rect=g.rect=function(A,q,fe,Ee,Be){if(isNaN(A)||isNaN(q)||isNaN(fe)||isNaN(Ee)||!Na(Be))throw new Error("Invalid arguments passed to jsPDF.rect");return R===T&&(Ee=-Ee),ye([G(W(A)),G(Y(q)),G(W(fe)),G(W(Ee)),"re"].join(" ")),Ro(Be),this},g.__private__.triangle=g.triangle=function(A,q,fe,Ee,Be,lt,ft){if(isNaN(A)||isNaN(q)||isNaN(fe)||isNaN(Ee)||isNaN(Be)||isNaN(lt)||!Na(ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[fe-A,Ee-q],[Be-fe,lt-Ee],[A-Be,q-lt]],A,q,[1,1],ft,!0),this},g.__private__.roundedRect=g.roundedRect=function(A,q,fe,Ee,Be,lt,ft){if(isNaN(A)||isNaN(q)||isNaN(fe)||isNaN(Ee)||isNaN(Be)||isNaN(lt)||!Na(ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ft=4/3*(Math.SQRT2-1);return Be=Math.min(Be,.5*fe),lt=Math.min(lt,.5*Ee),this.lines([[fe-2*Be,0],[Be*Ft,0,Be,lt-lt*Ft,Be,lt],[0,Ee-2*lt],[0,lt*Ft,-Be*Ft,lt,-Be,lt],[2*Be-fe,0],[-Be*Ft,0,-Be,-lt*Ft,-Be,-lt],[0,2*lt-Ee],[0,-lt*Ft,Be*Ft,-lt,Be,-lt]],A+Be,q,[1,1],ft,!0),this},g.__private__.ellipse=g.ellipse=function(A,q,fe,Ee,Be){if(isNaN(A)||isNaN(q)||isNaN(fe)||isNaN(Ee)||!Na(Be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var lt=4/3*(Math.SQRT2-1)*fe,ft=4/3*(Math.SQRT2-1)*Ee;return ys(A+fe,q),vi(A+fe,q-ft,A+lt,q-Ee,A,q-Ee),vi(A-lt,q-Ee,A-fe,q-ft,A-fe,q),vi(A-fe,q+ft,A-lt,q+Ee,A,q+Ee),vi(A+lt,q+Ee,A+fe,q+ft,A+fe,q),Ro(Be),this},g.__private__.circle=g.circle=function(A,q,fe,Ee){if(isNaN(A)||isNaN(q)||isNaN(fe)||!Na(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,q,fe,fe,Ee)},g.setFont=function(A,q,fe){return fe&&(q=K(q,fe)),Dt=ac(A,q,{disableWarning:!1}),this};var bs=g.__private__.getFont=g.getFont=function(){return Ut[ac.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var A,q,fe={};for(A in cr)if(cr.hasOwnProperty(A))for(q in fe[A]=[],cr[A])cr[A].hasOwnProperty(q)&&fe[A].push(q);return fe},g.addFont=function(A,q,fe,Ee,Be){var lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&lt.indexOf(arguments[3])!==-1?Be=arguments[3]:arguments[3]&&lt.indexOf(arguments[3])==-1&&(fe=K(fe,Ee)),vs.call(this,A,q,fe,Be=Be||"Identity-H")};var oa,on=t.lineWidth||.200025,Xt=g.__private__.getLineWidth=g.getLineWidth=function(){return on},xs=g.__private__.setLineWidth=g.setLineWidth=function(A){return on=A,ye(G(W(A))+" w"),this};g.__private__.setLineDash=sr.API.setLineDash=sr.API.setLineDashPattern=function(A,q){if(A=A||[],q=q||0,isNaN(q)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(fe){return G(W(fe))}).join(" "),q=G(W(q)),ye("["+A+"] "+q+" d"),this};var Ca=g.__private__.getLineHeight=g.getLineHeight=function(){return gt*oa};g.__private__.getLineHeight=g.getLineHeight=function(){return gt*oa};var cc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(oa=A),this},ws=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return oa};cc(t.lineHeight);var Ba=g.__private__.getHorizontalCoordinate=function(A){return W(A)},yi=g.__private__.getVerticalCoordinate=function(A){return R===P?A:mr[ee].mediaBox.topRightY-mr[ee].mediaBox.bottomLeftY-W(A)},Il=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(A){return G(Ba(A))},Zo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(A){return G(yi(A))},so=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ia(so)},g.__private__.setStrokeColor=g.setDrawColor=function(A,q,fe,Ee){return so=In({ch1:A,ch2:q,ch3:fe,ch4:Ee,pdfColorType:"draw",precision:2}),ye(so),this};var oo=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ia(oo)},g.__private__.setFillColor=g.setFillColor=function(A,q,fe,Ee){return oo=In({ch1:A,ch2:q,ch3:fe,ch4:Ee,pdfColorType:"fill",precision:2}),ye(oo),this};var za=t.textColor||"0 g",Ss=g.__private__.getTextColor=g.getTextColor=function(){return ia(za)};g.__private__.setTextColor=g.setTextColor=function(A,q,fe,Ee){return za=In({ch1:A,ch2:q,ch3:fe,ch4:Ee,pdfColorType:"text",precision:3}),this};var _s=t.charSpace,$s=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(_s||0)};g.__private__.setCharSpace=g.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _s=A,this};var uc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(A){var q=g.CapJoinStyles[A];if(q===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uc=q,ye(q+" J"),this};var dc=0;g.__private__.setLineJoin=g.setLineJoin=function(A){var q=g.CapJoinStyles[A];if(q===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dc=q,ye(q+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ye(G(W(A))+" M"),this},g.GState=Ag,g.setGState=function(A){(A=typeof A=="string"?pr[bt[A]]:Qa(null,A)).equals(bn)||(ye("/"+A.id+" gs"),bn=A)};var Qa=function(A,q){if(!A||!bt[A]){var fe=!1;for(var Ee in pr)if(pr.hasOwnProperty(Ee)&&pr[Ee].equals(q)){fe=!0;break}if(fe)q=pr[Ee];else{var Be="GS"+(Object.keys(pr).length+1).toString(10);pr[Be]=q,q.id=Be}return A&&(bt[A]=q.id),tn.publish("addGState",q),q}};g.addGState=function(A,q){return Qa(A,q),this},g.saveGraphicsState=function(){return ye("q"),_t.push({key:Dt,size:gt,color:za}),this},g.restoreGraphicsState=function(){ye("Q");var A=_t.pop();return Dt=A.key,gt=A.size,za=A.color,bn=null,this},g.setCurrentTransformationMatrix=function(A){return ye(A.toString()+" cm"),this},g.comment=function(A){return ye("#"+A),this};var Ua=function(A,q){var fe=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return fe},set:function(lt){isNaN(lt)||(fe=parseFloat(lt))}});var Ee=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(lt){isNaN(lt)||(Ee=parseFloat(lt))}});var Be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Be},set:function(lt){Be=lt.toString()}}),this},lo=function(A,q,fe,Ee){Ua.call(this,A,q),this.type="rect";var Be=fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Be},set:function(ft){isNaN(ft)||(Be=parseFloat(ft))}});var lt=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return lt},set:function(ft){isNaN(ft)||(lt=parseFloat(ft))}}),this},Xo=function(){this.page=Qr,this.currentPage=ee,this.pages=rt.slice(0),this.pagesContext=mr.slice(0),this.x=Ot,this.y=Gr,this.matrix=zr,this.width=qs(ee),this.height=Ii(ee),this.outputDestination=pt,this.id="",this.objectNumber=-1};Xo.prototype.restore=function(){Qr=this.page,ee=this.currentPage,mr=this.pagesContext,rt=this.pages,Ot=this.x,Gr=this.y,zr=this.matrix,Oo(ee,this.width),Hi(ee,this.height),pt=this.outputDestination};var Za=function(A,q,fe,Ee,Be){ji.push(new Xo),Qr=ee=0,rt=[],Ot=A,Gr=q,zr=Be,zs([fe,Ee])};for(var co in g.beginFormObject=function(A,q,fe,Ee,Be){return Za(A,q,fe,Ee,Be),this},g.endFormObject=function(A){return function(q){if(Bs[q])ji.pop().restore();else{var fe=new Xo,Ee="Xo"+(Object.keys(Pi).length+1).toString(10);fe.id=Ee,Bs[q]=Ee,Pi[Ee]=fe,tn.publish("addFormObject",fe),ji.pop().restore()}}(A),this},g.doFormObject=function(A,q){var fe=Pi[Bs[A]];return ye("q"),ye(q.toString()+" cm"),ye("/"+fe.id+" Do"),ye("Q"),this},g.getFormObject=function(A){var q=Pi[Bs[A]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},g.save=function(A,q){return A=A||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(ld(sa(Wi()),A),typeof ld.unload=="function"&&Er.setTimeout&&setTimeout(ld.unload,911),this):new Promise(function(fe,Ee){try{var Be=ld(sa(Wi()),A);typeof ld.unload=="function"&&Er.setTimeout&&setTimeout(ld.unload,911),fe(Be)}catch(lt){Ee(lt.message)}})},sr.API)sr.API.hasOwnProperty(co)&&(co==="events"&&sr.API.events.length?function(A,q){var fe,Ee,Be;for(Be=q.length-1;Be!==-1;Be--)fe=q[Be][0],Ee=q[Be][1],A.subscribe.apply(A,[fe].concat(typeof Ee=="function"?[Ee]:Ee))}(tn,sr.API.events):g[co]=sr.API[co]);var qs=g.getPageWidth=function(A){return(mr[A=A||ee].mediaBox.topRightX-mr[A].mediaBox.bottomLeftX)/Qt},Oo=g.setPageWidth=function(A,q){mr[A].mediaBox.topRightX=q*Qt+mr[A].mediaBox.bottomLeftX},Ii=g.getPageHeight=function(A){return(mr[A=A||ee].mediaBox.topRightY-mr[A].mediaBox.bottomLeftY)/Qt},Hi=g.setPageHeight=function(A,q){mr[A].mediaBox.topRightY=q*Qt+mr[A].mediaBox.bottomLeftY};return g.internal={pdfEscape:$i,getStyle:Qo,getFont:bs,getFontSize:Ce,getCharSpace:$s,getTextColor:Ss,getLineHeight:Ca,getLineHeightFactor:ws,getLineWidth:Xt,write:br,getHorizontalCoordinate:Ba,getVerticalCoordinate:yi,getCoordinateString:Il,getVerticalCoordinateString:Zo,collections:{},newObject:xn,newAdditionalObject:Ga,newObjectDeferred:jn,newObjectDeferredBegin:Fn,getFilters:aa,putStream:Ma,events:tn,scaleFactor:Qt,pageSize:{getWidth:function(){return qs(ee)},setWidth:function(A){Oo(ee,A)},getHeight:function(){return Ii(ee)},setHeight:function(A){Hi(ee,A)}},encryptionOptions:f,encryption:Mn,getEncryptor:function(A){return f!==null?Mn.encryptor(A,0):function(q){return q}},output:li,getNumberOfPages:qi,pages:rt,out:ye,f2:z,f3:U,getPageInfo:Us,getPageInfoByObjId:oc,getCurrentPageInfo:Do,getPDFVersion:_,Point:Ua,Rectangle:lo,Matrix:ir,hasHotfix:ao},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return qs(ee)},set:function(A){Oo(ee,A)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ii(ee)},set:function(A){Hi(ee,A)},enumerable:!0,configurable:!0}),(function(A){for(var q=0,fe=nr.length;q<fe;q++){var Ee=vs.call(this,A[q][0],A[q][1],A[q][2],nr[q][3],!0);m===!1&&(y[Ee]=!0);var Be=A[q][0].split("-");ic({id:Ee,fontName:Be[0],fontStyle:Be[1]||""})}tn.publish("addFonts",{fonts:Ut,dictionary:cr})}).call(g,nr),Dt="F1",jl(i,r),tn.publish("initialized"),g}pf.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},pf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},pf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},pf.prototype.processOwnerPassword=function(t,e){return S1(w1(e).substr(0,5),t)},pf.prototype.encryptor=function(t,e){var r=w1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return S1(r,n)}},Ag.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||pn(t)!==pn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},sr.API={events:[]},sr.version="3.0.2";var Ai=sr.API,b2=1,Ad=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fr=function(t){return t.toFixed(2)},du=function(t){return t.toFixed(5)};Ai.__acroform__={};var ro=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},p_=function(t){return t*b2},Wl=function(t){var e=new aE,r=Jt.internal.getHeight(t)||0,n=Jt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Fr(n)),Number(Fr(r))],e},HW=Ai.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},GW=Ai.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},KW=Ai.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Mi=Ai.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return KW(t,e-1)},Bi=Ai.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return HW(t,e-1)},zi=Ai.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GW(t,e-1)},YW=Ai.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],l=t[3],u={};return u.lowerLeft_X=r(i)||0,u.lowerLeft_Y=n(a+l)||0,u.upperRight_X=r(i+o)||0,u.upperRight_Y=n(a)||0,[Number(Fr(u.lowerLeft_X)),Number(Fr(u.lowerLeft_Y)),Number(Fr(u.upperRight_X)),Number(Fr(u.upperRight_Y))]},JW=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=_1(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Fr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Wl(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},_1=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(z){return z.split(`
`)}):i.map(function(z){return[z]});var a=r,o=Jt.internal.getHeight(t)||0;o=o<0?-o:o;var l=Jt.internal.getWidth(t)||0;l=l<0?-l:l;var u=function(z,U,W){if(z+1<i.length){var Y=U+" "+i[z+1][0];return Tm(Y,t,W).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var d,f,m=Tm("3",t,a).height,y=t.multiline?o-a:(o-m)/2,g=y+=2,k=0,_=0,N=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Tm(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var E="",T=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var R=!1;if(i[P].length!==1&&N!==i[P].length-1){if((m+2)*(T+2)+2>o)continue e;E+=i[P][N],R=!0,_=P,P--}else{E=(E+=i[P][N]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var M=parseInt(P),Q=u(M,E,a),K=P>=i.length-1;if(Q&&!K){E+=" ",N=0;continue}if(Q||K){if(K)_=M;else if(t.multiline&&(m+2)*(T+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(T+2)+2>o)continue e;_=M}}for(var G="",H=k;H<=_;H++){var oe=i[H];if(t.multiline){if(H===_){G+=oe[N]+" ",N=(N+1)%oe.length;continue}if(H===k){G+=oe[oe.length-1]+" ";continue}}G+=oe[0]+" "}switch(G=G.substr(G.length-1)==" "?G.substr(0,G.length-1):G,f=Tm(G,t,a).width,t.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}e+=Fr(d)+" "+Fr(g)+` Td
`,e+="("+Ad(G)+`) Tj
`,e+=-Fr(d)+` 0 Td
`,g=-(a+2),f=0,k=R?_:_+1,T++,E=""}break}return n.text=e,n.fontSize=a,n},Tm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},QW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ZW=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},XW=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(El.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(QW)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");b2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new sE,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&ZW(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],u=[],d=l.Rect;if(l.Rect&&(l.Rect=YW(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Jt.createDefaultAppearanceStream(l),pn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=JW(l);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var y in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(y)){var g=l.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var k=g[o];typeof k=="function"&&(k=k.call(i,l)),m+="/"+o+" "+k+" ",i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k)}}else typeof(k=g)=="function"&&(k=k.call(i,l)),m+="/"+o+" "+k,i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k);m+=">>"}u.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}a&&function(_,N){for(var E in _)if(_.hasOwnProperty(E)){var T=E,P=_[E];N.internal.newObjectDeferredBegin(P.objId,!0),pn(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete _[T]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},iE=Ai.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),pn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Ad(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},py=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Ad(n(t))+")"},Ql=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ql.prototype.toString=function(){return this.objId+" 0 R"},Ql.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ql.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:iE(i,this.objId,this.scope)}):i instanceof Ql?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var aE=function(){Ql.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ro(aE,Ql);var sE=function(){Ql.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ad(r(t))+")"}},set:function(r){t=r}})};ro(sE,Ql);var El=function t(){Ql.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Mi(e,3)},set:function(E){E?this.F=Bi(e,3):this.F=zi(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');r=E}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(E){n=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(E){n[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(E){n[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(E){n[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(E){n[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Eg)return;a="FieldObject"+t.FieldNum++}var E=function(T){return T};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Ad(E(a))+")"},set:function(E){a=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(E){a=E}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/b2:d},set:function(E){d=E}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(E){f=E}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Eg||this instanceof fd))return py(m,this.objId,this.scope)},set:function(E){E=E.toString(),m=E}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof La==0?py(y,this.objId,this.scope):y},set:function(E){E=E.toString(),y=this instanceof La==0?E.substr(0,1)==="("?uf(E.substr(1,E.length-2)):uf(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof La==1?uf(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof La==1?"/"+E:E}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof La==0?py(g,this.objId,this.scope):g},set:function(E){E=E.toString(),g=this instanceof La==0?E.substr(0,1)==="("?uf(E.substr(1,E.length-2)):uf(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof La==1?uf(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof La==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(E){E=!!E,_=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(E){k=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,1)},set:function(E){E?this.Ff=Bi(this.Ff,1):this.Ff=zi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,2)},set:function(E){E?this.Ff=Bi(this.Ff,2):this.Ff=zi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,3)},set:function(E){E?this.Ff=Bi(this.Ff,3):this.Ff=zi(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');N=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(N){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};ro(El,Ql);var _f=function(){El.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return iE(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,l){l||(l=1);for(var u,d=[];u=o.exec(a);)d.push(u[l]);return d}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,18)},set:function(r){r?this.Ff=Bi(this.Ff,18):this.Ff=zi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Bi(this.Ff,19):this.Ff=zi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,20)},set:function(r){r?(this.Ff=Bi(this.Ff,20),e.sort()):this.Ff=zi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,22)},set:function(r){r?this.Ff=Bi(this.Ff,22):this.Ff=zi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,23)},set:function(r){r?this.Ff=Bi(this.Ff,23):this.Ff=zi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,27)},set:function(r){r?this.Ff=Bi(this.Ff,27):this.Ff=zi(this.Ff,27)}}),this.hasAppearanceStream=!1};ro(_f,El);var kf=function(){_f.call(this),this.fontName="helvetica",this.combo=!1};ro(kf,_f);var Nf=function(){kf.call(this),this.combo=!0};ro(Nf,kf);var Jm=function(){Nf.call(this),this.edit=!0};ro(Jm,Nf);var La=function(){El.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,15)},set:function(r){r?this.Ff=Bi(this.Ff,15):this.Ff=zi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,16)},set:function(r){r?this.Ff=Bi(this.Ff,16):this.Ff=zi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,17)},set:function(r){r?this.Ff=Bi(this.Ff,17):this.Ff=zi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,26)},set:function(r){r?this.Ff=Bi(this.Ff,26):this.Ff=zi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Ad(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){pn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ro(La,El);var Qm=function(){La.call(this),this.pushButton=!0};ro(Qm,La);var Cf=function(){La.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ro(Cf,La);var Eg=function(){var t,e;El.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Ad(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){pn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ro(Eg,El),Cf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Cf.prototype.createOption=function(t){var e=new Eg;return e.Parent=this,e.optionName=t,this.Kids.push(e),eV.call(this.scope,e),e};var Zm=function(){La.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};ro(Zm,La);var fd=function(){El.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,13)},set:function(e){e?this.Ff=Bi(this.Ff,13):this.Ff=zi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,21)},set:function(e){e?this.Ff=Bi(this.Ff,21):this.Ff=zi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,23)},set:function(e){e?this.Ff=Bi(this.Ff,23):this.Ff=zi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,24)},set:function(e){e?this.Ff=Bi(this.Ff,24):this.Ff=zi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,25)},set:function(e){e?this.Ff=Bi(this.Ff,25):this.Ff=zi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,26)},set:function(e){e?this.Ff=Bi(this.Ff,26):this.Ff=zi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ro(fd,El);var Xm=function(){fd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,14)},set:function(t){t?this.Ff=Bi(this.Ff,14):this.Ff=zi(this.Ff,14)}}),this.password=!0};ro(Xm,fd);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=_1(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Fr(Jt.internal.getWidth(t))+" "+Fr(Jt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Fr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Jt.internal.getHeight(t),o=Jt.internal.getWidth(t),l=_1(t,t.caption);return i.push("1 g"),i.push("0 0 "+Fr(o)+" "+Fr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Fr(o-1)+" "+Fr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Fr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(Jt.internal.getWidth(t))+" "+Fr(Jt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Jt.RadioButton.Circle.YesNormal,e.D[t]=Jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=Jt.internal.getWidth(t)<=Jt.internal.getHeight(t)?Jt.internal.getWidth(t)/4:Jt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Jt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+du(Jt.internal.getWidth(t)/2)+" "+du(Jt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=Jt.internal.getWidth(t)<=Jt.internal.getHeight(t)?Jt.internal.getWidth(t)/4:Jt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Jt.internal.Bezier_C).toFixed(5)),o=Number((n*Jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+du(Jt.internal.getWidth(t)/2)+" "+du(Jt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+du(Jt.internal.getWidth(t)/2)+" "+du(Jt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=Jt.internal.getWidth(t)<=Jt.internal.getHeight(t)?Jt.internal.getWidth(t)/4:Jt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+du(Jt.internal.getWidth(t)/2)+" "+du(Jt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Jt.RadioButton.Cross.YesNormal,e.D[t]=Jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Wl(t);e.scope=t.scope;var r=[],n=Jt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Fr(Jt.internal.getWidth(t)-2)+" "+Fr(Jt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Fr(n.x1.x)+" "+Fr(n.x1.y)+" m"),r.push(Fr(n.x2.x)+" "+Fr(n.x2.y)+" l"),r.push(Fr(n.x4.x)+" "+Fr(n.x4.y)+" m"),r.push(Fr(n.x3.x)+" "+Fr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=Jt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Fr(Jt.internal.getWidth(t))+" "+Fr(Jt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Fr(Jt.internal.getWidth(t)-2)+" "+Fr(Jt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Fr(r.x1.x)+" "+Fr(r.x1.y)+" m"),n.push(Fr(r.x2.x)+" "+Fr(r.x2.y)+" l"),n.push(Fr(r.x4.x)+" "+Fr(r.x4.y)+" m"),n.push(Fr(r.x3.x)+" "+Fr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Wl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(Jt.internal.getWidth(t))+" "+Fr(Jt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Jt.internal.getWidth(t),r=Jt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Jt.internal.getWidth=function(t){var e=0;return pn(t)==="object"&&(e=p_(t.Rect[2])),e},Jt.internal.getHeight=function(t){var e=0;return pn(t)==="object"&&(e=p_(t.Rect[3])),e};var eV=Ai.addField=function(t){if(XW(this,t),!(t instanceof El))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ai.AcroFormChoiceField=_f,Ai.AcroFormListBox=kf,Ai.AcroFormComboBox=Nf,Ai.AcroFormEditBox=Jm,Ai.AcroFormButton=La,Ai.AcroFormPushButton=Qm,Ai.AcroFormRadioButton=Cf,Ai.AcroFormCheckBox=Zm,Ai.AcroFormTextField=fd,Ai.AcroFormPasswordField=Xm,Ai.AcroFormAppearance=Jt,Ai.AcroForm={ChoiceField:_f,ListBox:kf,ComboBox:Nf,EditBox:Jm,Button:La,PushButton:Qm,RadioButton:Cf,CheckBox:Zm,TextField:fd,PasswordField:Xm,Appearance:Jt},sr.AcroForm={ChoiceField:_f,ListBox:kf,ComboBox:Nf,EditBox:Jm,Button:La,PushButton:Qm,RadioButton:Cf,CheckBox:Zm,TextField:fd,PasswordField:Xm,Appearance:Jt};sr.AcroForm;function oE(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(z,U){var W,Y,be,he,ge,ie=r;if((U=U||r)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if(Q(z))for(ge in n)for(be=n[ge],W=0;W<be.length;W+=1){for(he=!0,Y=0;Y<be[W].length;Y+=1)if(be[W][Y]!==void 0&&be[W][Y]!==z[Y]){he=!1;break}if(he===!0){ie=ge;break}}else for(ge in n)for(be=n[ge],W=0;W<be.length;W+=1){for(he=!0,Y=0;Y<be[W].length;Y+=1)if(be[W][Y]!==void 0&&be[W][Y]!==z.charCodeAt(Y)){he=!1;break}if(he===!0){ie=ge;break}}return ie===r&&U!==r&&(ie=U),ie},a=function z(U){for(var W=this.internal.write,Y=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var he=[];if(he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Image"}),he.push({key:"Width",value:U.width}),he.push({key:"Height",value:U.height}),U.colorSpace===E.INDEXED?he.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(he.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===E.DEVICE_CMYK&&he.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),he.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&he.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var ge="",ie=0,ve=U.transparency.length;ie<ve;ie++)ge+=U.transparency[ie]+" "+U.transparency[ie]+" ";he.push({key:"Mask",value:"["+ge+"]"})}U.sMask!==void 0&&he.push({key:"SMask",value:U.objectId+1+" 0 R"});var _e=U.filter!==void 0?["/"+U.filter]:void 0;if(Y({data:U.data,additionalKeyValues:he,alreadyAppliedFilters:_e,objectId:U.objectId}),W("endobj"),"sMask"in U&&U.sMask!==void 0){var te=(U.predictor!=null?"/Predictor "+U.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+U.width,O={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:te,data:U.sMask};"filter"in U&&(O.filter=U.filter),z.call(this,O)}if(U.colorSpace===E.INDEXED){var ee=this.internal.newObject();Y({data:G(new Uint8Array(U.palette)),objectId:ee}),W("endobj")}},o=function(){var z=this.internal.collections[e+"images"];for(var U in z)a.call(this,z[U])},l=function(){var z,U=this.internal.collections[e+"images"],W=this.internal.write;for(var Y in U)W("/I"+(z=U[Y]).index,z.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var z=this.internal.collections[e+"images"];return u.call(this),z},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(z){return typeof t["process"+z.toUpperCase()]=="function"},y=function(z){return pn(z)==="object"&&z.nodeType===1},g=function(z,U){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var W=""+z.getAttribute("src");if(W.indexOf("data:image/")===0)return Ym(unescape(W).split("base64,").pop());var Y=t.loadFile(W,!0);if(Y!==void 0)return Y}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var be;switch(U){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return Ym(z.toDataURL(be,1).split("base64,").pop())}},k=function(z){var U=this.internal.collections[e+"images"];if(U){for(var W in U)if(z===U[W].alias)return U[W]}},_=function(z,U,W){return z||U||(z=-96,U=-96),z<0&&(z=-1*W.width*72/z/this.internal.scaleFactor),U<0&&(U=-1*W.height*72/U/this.internal.scaleFactor),z===0&&(z=U*W.width/W.height),U===0&&(U=z*W.height/W.width),[z,U]},N=function(z,U,W,Y,be,he){var ge=_.call(this,W,Y,be),ie=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,_e=d.call(this);if(W=ge[0],Y=ge[1],_e[be.index]=be,he){he*=Math.PI/180;var te=Math.cos(he),O=Math.sin(he),ee=function(le){return le.toFixed(4)},ne=[ee(te),ee(O),ee(-1*O),ee(te),0,0,"cm"]}this.internal.write("q"),he?(this.internal.write([1,"0","0",1,ie(z),ve(U+Y),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([ie(W),"0","0",ie(Y),"0","0","cm"].join(" "))):this.internal.write([ie(W),"0","0",ie(Y),ie(z),ve(U+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=t.__addimage__.sHashCode=function(z){var U,W,Y=0;if(typeof z=="string")for(W=z.length,U=0;U<W;U++)Y=(Y<<5)-Y+z.charCodeAt(U),Y|=0;else if(Q(z))for(W=z.byteLength/2,U=0;U<W;U++)Y=(Y<<5)-Y+z[U],Y|=0;return Y},R=t.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var U=!0;return z.length===0&&(U=!1),z.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(U=!1),U},M=t.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var U=z.indexOf(",");return U<0?null:z.substring(0,U).trim().endsWith("base64")?z.substring(U+1):null};t.__addimage__.isArrayBuffer=function(z){return z instanceof ArrayBuffer};var Q=t.__addimage__.isArrayBufferView=function(z){return z instanceof Int8Array||z instanceof Uint8Array||z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array},K=t.__addimage__.binaryStringToUint8Array=function(z){for(var U=z.length,W=new Uint8Array(U),Y=0;Y<U;Y++)W[Y]=z.charCodeAt(Y);return W},G=t.__addimage__.arrayBufferToBinaryString=function(z){for(var U="",W=Q(z)?z:new Uint8Array(z),Y=0;Y<W.length;Y+=8192)U+=String.fromCharCode.apply(null,W.subarray(Y,Y+8192));return U};t.addImage=function(){var z,U,W,Y,be,he,ge,ie,ve;if(typeof arguments[1]=="number"?(U=r,W=arguments[1],Y=arguments[2],be=arguments[3],he=arguments[4],ge=arguments[5],ie=arguments[6],ve=arguments[7]):(U=arguments[1],W=arguments[2],Y=arguments[3],be=arguments[4],he=arguments[5],ge=arguments[6],ie=arguments[7],ve=arguments[8]),pn(z=arguments[0])==="object"&&!y(z)&&"imageData"in z){var _e=z;z=_e.imageData,U=_e.format||U||r,W=_e.x||W||0,Y=_e.y||Y||0,be=_e.w||_e.width||be,he=_e.h||_e.height||he,ge=_e.alias||ge,ie=_e.compression||ie,ve=_e.rotation||_e.angle||ve}var te=this.internal.getFilters();if(ie===void 0&&te.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(W)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var O=H.call(this,z,U,ge,ie);return N.call(this,W,Y,be,he,O,ve),this};var H=function(z,U,W,Y){var be,he,ge;if(typeof z=="string"&&i(z)===r){z=unescape(z);var ie=oe(z,!1);(ie!==""||(ie=t.loadFile(z,!0))!==void 0)&&(z=ie)}if(y(z)&&(z=g(z,U)),U=i(z,U),!m(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ge=W)==null||ge.length===0)&&(W=function(ve){return typeof ve=="string"||Q(ve)?P(ve):Q(ve.data)?P(ve.data):null}(z)),(be=k.call(this,W))||(z instanceof Uint8Array||U==="RGBA"||(he=z,z=K(z)),be=this["process"+U.toUpperCase()](z,f.call(this),W,function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in t.image_compression?ve:T.NONE}(Y),he)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},oe=t.__addimage__.convertBase64ToBinaryString=function(z,U){U=typeof U!="boolean"||U;var W,Y="";if(typeof z=="string"){var be;W=(be=M(z))!==null&&be!==void 0?be:z;try{Y=Ym(W)}catch(he){if(U)throw R(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+he.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};t.getImageProperties=function(z){var U,W,Y="";if(y(z)&&(z=g(z)),typeof z=="string"&&i(z)===r&&((Y=oe(z,!1))===""&&(Y=t.loadFile(z)||""),z=Y),W=i(z),!m(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(z instanceof Uint8Array||(z=K(z)),!(U=this["process"+W.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=W,U}})(sr.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};sr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,m=0;m<d.length&&!f;m++)switch((n=d[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){n=d[y];var g=this.internal.pdfEscape,k=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(_.objId),T=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(E(n.contents))+")",a+=" /Popup "+N.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+g(E(T))+") >>",_.content=a;var P=_.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+P,n.open&&(a+=" /Open true"),a+=" >>",N.content=a,this.internal.write(_.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(k(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(k(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var Q=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+Q+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(r),y:d(n),w:u(r+i),h:d(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,l,u=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(d*f)}else l=u,o=d;return this.text(r,n,i,a),i+=.2*d,a.align==="center"&&(n-=u/2),a.align==="right"&&(n-=u),this.link(n,i-d,l,o,a),u},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(sr.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},l=t.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&a(_)&&e[_.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&a(_)&&e[_.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&a(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&a(_)&&e[_.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&a(_)&&e[_.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(_){var N=0,E=r,T="",P=0;for(N=0;N<_.length;N+=1)E[_.charCodeAt(N)]!==void 0?(P++,typeof(E=E[_.charCodeAt(N)])=="number"&&(T+=String.fromCharCode(E),E=r,P=0),N===_.length-1&&(E=r,T+=_.charAt(N-(P-1)),N-=P-1,P=0)):(E=r,T+=_.charAt(N-P),N-=P,P=0);return T};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(_,N,E){return o(_)?a(_)===!1?-1:!d(_)||!o(N)&&!o(E)||!o(E)&&l(N)||l(_)&&!o(N)||l(_)&&u(N)||l(_)&&l(N)?0:f(_)&&o(N)&&!l(N)&&o(E)&&d(E)?3:l(_)||!o(E)?1:2:-1},g=function(_){var N=0,E=0,T=0,P="",R="",M="",Q=(_=_||"").split("\\s+"),K=[];for(N=0;N<Q.length;N+=1){for(K.push(""),E=0;E<Q[N].length;E+=1)P=Q[N][E],R=Q[N][E-1],M=Q[N][E+1],o(P)?(T=y(P,R,M),K[N]+=T!==-1?String.fromCharCode(e[P.charCodeAt(0)][T]):P):K[N]+=P;K[N]=m(K[N])}return K.join(" ")},k=t.__arabicParser__.processArabic=t.processArabic=function(){var _,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(N)){var T=0;for(E=[],T=0;T<N.length;T+=1)Array.isArray(N[T])?E.push([g(N[T][0]),N[T][1],N[T][2]]):E.push([g(N[T])]);_=E}else _=g(N);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",k])}(sr.API),sr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(sr.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(_){k=_}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,g=0,k=0,_=0,N=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var E=d.maxWidth;E>0?typeof u=="string"?u=this.splitTextToSize(u,E):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(P,R){return P.concat(N.splitTextToSize(R,E))},[])):u=Array.isArray(u)?u:[u];for(var T=0;T<u.length;T++)g<(_=this.getStringUnitWidth(u[T],{font:m})*f)&&(g=_);return g!==0&&(k=u.length),{w:g/=y,h:Math.max((k*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=m.top,g&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};t.table=function(u,d,f,m,y){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,k,_,N,E=[],T=[],P=[],R={},M={},Q=[],K=[],G=(y=y||{}).autoSize||!1,H=y.printHeaders!==!1,oe=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,z=y.margins||Object.assign({width:this.getPageWidth()},e),U=typeof y.padding=="number"?y.padding:3,W=y.headerBackgroundColor||"#c8c8c8",Y=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=oe,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=Y,this.setFontSize(oe),m==null)T=E=Object.keys(f[0]),P=E.map(function(){return"left"});else if(Array.isArray(m)&&pn(m[0])==="object")for(E=m.map(function(_e){return _e.name}),T=m.map(function(_e){return _e.prompt||_e.name||""}),P=m.map(function(_e){return _e.align||"left"}),g=0;g<m.length;g+=1)M[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(T=E=m,P=E.map(function(){return"left"}));if(G||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<E.length;g+=1){for(R[N=E[g]]=f.map(function(_e){return _e[N]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(T[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=R[N],this.setFont(void 0,"normal"),_=0;_<k.length;_+=1)Q.push(this.getTextDimensions(k[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[N]=Math.max.apply(null,Q)+U+U,Q=[]}if(H){var be={};for(g=0;g<E.length;g+=1)be[E[g]]={},be[E[g]].text=T[g],be[E[g]].align=P[g];var he=l.call(this,be,M);K=E.map(function(_e){return new a(u,d,M[_e],he,be[_e].text,void 0,be[_e].align)}),this.setTableHeaderRow(K),this.printHeaderRow(1,!1)}var ge=m.reduce(function(_e,te){return _e[te.name]=te.align,_e},{});for(g=0;g<f.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:f[g]},this);var ie=l.call(this,f[g],M);for(_=0;_<E.length;_+=1){var ve=f[g][E[_]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:_,data:ve},this),o.call(this,new a(u,d,M[E[_]],ie,ve,g+2,ge[E[_]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map(function(g){var k=u[g];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/y+f+f},this).reduce(function(g,k){return Math.max(g,k)},0)};t.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=u;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(k)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(sr.API);var lE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],k1=oE(cE),uE=[100,200,300,400,500,600,700,800,900],tV=oE(uE);function my(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return lE[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof k1[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function m_(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var rV={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},g_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function v_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function y_(t){return t.trimLeft()}function nV(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function iV(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Dm,b_,x_,df,Lm,w_,S_,__,gy=["times"];function k_(t,e,r,n){var i=4,a=C_;switch(n){case sr.API.image_compression.FAST:i=1,a=N_;break;case sr.API.image_compression.MEDIUM:i=6,a=A_;break;case sr.API.image_compression.SLOW:i=9,a=E_}t=function(l,u,d,f){for(var m,y=l.length/u,g=new Uint8Array(l.length+y),k=[aV,N_,C_,A_,E_],_=0;_<y;_+=1){var N=_*u,E=l.subarray(N,N+u);if(f)g.set(f(E,d,m),N+_);else{for(var T=k.length,P=[],R=0;R<T;R+=1)P[R]=k[R](E,d,m);var M=oV(P.concat());g.set(P[M],N+_)}m=E}return g}(t,e,r,a);var o=v1(t,{level:i});return sr.API.__addimage__.arrayBufferToBinaryString(o)}function aV(t){var e=Array.apply([],t);return e.unshift(0),e}function N_(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function C_(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=t[a]-o+256&255}return i}function A_(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,l=r&&r[a]||0;i[a+1]=t[a]+256-(o+l>>>1)&255}return i}function E_(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=sV(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function sV(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function oV(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function vy(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return dE(t,i)>>a&o}function P_(t,e,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,u=(e&l)<<o;(function(d,f,m){if(f+1<d.byteLength)d.setUint16(f,m,!1);else{var y=m>>8&255;d.setUint8(f,y)}})(t,a,dE(t,a)&~(l<<o)&65535|u)}function dE(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function lV(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var l=null,u=null;a&&(l=e,u=o,e+=3*o);var d=!0,f=[],m=0,y=null,g=0,k=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,k=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((z=t[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],1&_||(y=null),g=_>>2&7,e++;break;case 254:for(;;){if(!((z=t[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,R=t[e++],M=R>>6&1,Q=1<<1+(7&R),K=l,G=u,H=!1;R>>7&&(H=!0,K=e,G=Q,e+=3*Q);var oe=e;for(e++;;){var z;if(!((z=t[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}f.push({x:N,y:E,width:T,height:P,has_local_palette:H,palette_offset:K,palette_size:G,data_offset:oe,data_length:e-oe,transparent_index:y,interlaced:!!M,delay:m,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return k},this.frameInfo=function(U){if(U<0||U>=f.length)throw new Error("Frame index out of range.");return f[U]},this.decodeAndBlitFrameBGRA=function(U,W){var Y=this.frameInfo(U),be=Y.width*Y.height,he=new Uint8Array(be);j_(t,Y.data_offset,he,be);var ge=Y.palette_offset,ie=Y.transparent_index;ie===null&&(ie=256);var ve=Y.width,_e=r-ve,te=ve,O=4*(Y.y*r+Y.x),ee=4*((Y.y+Y.height)*r+Y.x),ne=O,le=4*_e;Y.interlaced===!0&&(le+=4*r*7);for(var we=8,me=0,Ie=he.length;me<Ie;++me){var Se=he[me];if(te===0&&(te=ve,(ne+=le)>=ee&&(le=4*_e+4*r*(we-1),ne=O+(ve+_e)*(we<<1),we>>=1)),Se===ie)ne+=4;else{var ze=t[ge+3*Se],rt=t[ge+3*Se+1],it=t[ge+3*Se+2];W[ne++]=it,W[ne++]=rt,W[ne++]=ze,W[ne++]=255}--te}},this.decodeAndBlitFrameRGBA=function(U,W){var Y=this.frameInfo(U),be=Y.width*Y.height,he=new Uint8Array(be);j_(t,Y.data_offset,he,be);var ge=Y.palette_offset,ie=Y.transparent_index;ie===null&&(ie=256);var ve=Y.width,_e=r-ve,te=ve,O=4*(Y.y*r+Y.x),ee=4*((Y.y+Y.height)*r+Y.x),ne=O,le=4*_e;Y.interlaced===!0&&(le+=4*r*7);for(var we=8,me=0,Ie=he.length;me<Ie;++me){var Se=he[me];if(te===0&&(te=ve,(ne+=le)>=ee&&(le=4*_e+4*r*(we-1),ne=O+(ve+_e)*(we<<1),we>>=1)),Se===ie)ne+=4;else{var ze=t[ge+3*Se],rt=t[ge+3*Se+1],it=t[ge+3*Se+2];W[ne++]=ze,W[ne++]=rt,W[ne++]=it,W[ne++]=255}--te}}}function j_(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,l=o+1,u=i+1,d=(1<<u)-1,f=0,m=0,y=0,g=t[e++],k=new Int32Array(4096),_=null;;){for(;f<16&&g!==0;)m|=t[e++]<<f,f+=8,g===1?g=t[e++]:--g;if(f<u)break;var N=m&d;if(m>>=u,f-=u,N!==a){if(N===o)break;for(var E=N<l?N:_,T=0,P=E;P>a;)P=k[P]>>8,++T;var R=P;if(y+T+(E!==N?1:0)>n)return void $n.log("Warning, gif stream longer than expected.");r[y++]=R;var M=y+=T;for(E!==N&&(r[y++]=R),P=E;T--;)P=k[P],r[--M]=255&P,P>>=8;_!==null&&l<4096&&(k[l++]=_<<8|R,l>=d+1&&u<12&&(++u,d=d<<1|1)),_=N}else l=o+1,d=(1<<(u=i+1))-1,_=null}return y!==n&&$n.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function yy(t){var e,r,n,i,a,o=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),m=new Array(65535),y=new Array(65535),g=new Array(64),k=new Array(64),_=[],N=0,E=7,T=new Array(64),P=new Array(64),R=new Array(64),M=new Array(256),Q=new Array(2048),K=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function he(O,ee){for(var ne=0,le=0,we=new Array,me=1;me<=16;me++){for(var Ie=1;Ie<=O[me];Ie++)we[ee[le]]=[],we[ee[le]][0]=ne,we[ee[le]][1]=me,le++,ne++;ne*=2}return we}function ge(O){for(var ee=O[0],ne=O[1]-1;ne>=0;)ee&1<<ne&&(N|=1<<E),ne--,--E<0&&(N==255?(ie(255),ie(0)):ie(N),E=7,N=0)}function ie(O){_.push(O)}function ve(O){ie(O>>8&255),ie(255&O)}function _e(O,ee,ne,le,we){for(var me,Ie=we[0],Se=we[240],ze=function(gt,pe){var Ce,We,at,dt,tt,mt,Mt,Tt,Dt,Qt,Ot=0;for(Dt=0;Dt<8;++Dt){Ce=gt[Ot],We=gt[Ot+1],at=gt[Ot+2],dt=gt[Ot+3],tt=gt[Ot+4],mt=gt[Ot+5],Mt=gt[Ot+6];var Gr=Ce+(Tt=gt[Ot+7]),zr=Ce-Tt,Ut=We+Mt,cr=We-Mt,_t=at+mt,Zt=at-mt,Sr=dt+tt,pr=dt-tt,bt=Gr+Sr,bn=Gr-Sr,Qr=Ut+_t,mr=Ut-_t;gt[Ot]=bt+Qr,gt[Ot+4]=bt-Qr;var tn=.707106781*(mr+bn);gt[Ot+2]=bn+tn,gt[Ot+6]=bn-tn;var Ms=.382683433*((bt=pr+Zt)-(mr=cr+zr)),Pi=.5411961*bt+Ms,Bs=1.306562965*mr+Ms,ji=.707106781*(Qr=Zt+cr),ir=zr+ji,na=zr-ji;gt[Ot+5]=na+Pi,gt[Ot+3]=na-Pi,gt[Ot+1]=ir+Bs,gt[Ot+7]=ir-Bs,Ot+=8}for(Ot=0,Dt=0;Dt<8;++Dt){Ce=gt[Ot],We=gt[Ot+8],at=gt[Ot+16],dt=gt[Ot+24],tt=gt[Ot+32],mt=gt[Ot+40],Mt=gt[Ot+48];var Sa=Ce+(Tt=gt[Ot+56]),Ur=Ce-Tt,sn=We+Mt,xn=We-Mt,jn=at+mt,Fn=at-mt,Ga=dt+tt,jo=dt-tt,gi=Sa+Ga,ia=Sa-Ga,In=sn+jn,aa=sn-jn;gt[Ot]=gi+In,gt[Ot+32]=gi-In;var Ma=.707106781*(aa+ia);gt[Ot+16]=ia+Ma,gt[Ot+48]=ia-Ma;var _a=.382683433*((gi=jo+Fn)-(aa=xn+Ur)),Ka=.5411961*gi+_a,ka=1.306562965*aa+_a,Io=.707106781*(In=Fn+xn),no=Ur+Io,wn=Ur-Io;gt[Ot+40]=wn+Ka,gt[Ot+24]=wn-Ka,gt[Ot+8]=no+ka,gt[Ot+56]=no-ka,Ot++}for(Dt=0;Dt<64;++Dt)Qt=gt[Dt]*pe[Dt],g[Dt]=Qt>0?Qt+.5|0:Qt-.5|0;return g}(O,ee),rt=0;rt<64;++rt)k[K[rt]]=ze[rt];var it=k[0]-ne;ne=k[0],it==0?ge(le[0]):(ge(le[y[me=32767+it]]),ge(m[me]));for(var pt=63;pt>0&&k[pt]==0;)pt--;if(pt==0)return ge(Ie),ne;for(var Je,ye=1;ye<=pt;){for(var br=ye;k[ye]==0&&ye<=pt;)++ye;var lr=ye-br;if(lr>=16){Je=lr>>4;for(var nr=1;nr<=Je;++nr)ge(Se);lr&=15}me=32767+k[ye],ge(we[(lr<<4)+y[me]]),ge(m[me]),ye++}return pt!=63&&ge(Ie),ne}function te(O){O=Math.min(Math.max(O,1),100),a!=O&&(function(ee){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var we=o((ne[le]*ee+50)/100);we=Math.min(Math.max(we,1),255),l[K[le]]=we}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ie=0;Ie<64;Ie++){var Se=o((me[Ie]*ee+50)/100);Se=Math.min(Math.max(Se,1),255),u[K[Ie]]=Se}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],rt=0,it=0;it<8;it++)for(var pt=0;pt<8;pt++)d[rt]=1/(l[K[rt]]*ze[it]*ze[pt]*8),f[rt]=1/(u[K[rt]]*ze[it]*ze[pt]*8),rt++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,ee){ee&&te(ee),_=new Array,N=0,E=7,ve(65496),ve(65504),ve(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ve(1),ve(1),ie(0),ie(0),function(){ve(65499),ve(132),ie(0);for(var We=0;We<64;We++)ie(l[We]);ie(1);for(var at=0;at<64;at++)ie(u[at])}(),function(We,at){ve(65472),ve(17),ie(8),ve(at),ve(We),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(O.width,O.height),function(){ve(65476),ve(418),ie(0);for(var We=0;We<16;We++)ie(G[We+1]);for(var at=0;at<=11;at++)ie(H[at]);ie(16);for(var dt=0;dt<16;dt++)ie(oe[dt+1]);for(var tt=0;tt<=161;tt++)ie(z[tt]);ie(1);for(var mt=0;mt<16;mt++)ie(U[mt+1]);for(var Mt=0;Mt<=11;Mt++)ie(W[Mt]);ie(17);for(var Tt=0;Tt<16;Tt++)ie(Y[Tt+1]);for(var Dt=0;Dt<=161;Dt++)ie(be[Dt])}(),ve(65498),ve(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var ne=0,le=0,we=0;N=0,E=7,this.encode.displayName="_encode_";for(var me,Ie,Se,ze,rt,it,pt,Je,ye,br=O.data,lr=O.width,nr=O.height,gt=4*lr,pe=0;pe<nr;){for(me=0;me<gt;){for(rt=gt*pe+me,pt=-1,Je=0,ye=0;ye<64;ye++)it=rt+(Je=ye>>3)*gt+(pt=4*(7&ye)),pe+Je>=nr&&(it-=gt*(pe+1+Je-nr)),me+pt>=gt&&(it-=me+pt-gt+4),Ie=br[it++],Se=br[it++],ze=br[it++],T[ye]=(Q[Ie]+Q[Se+256|0]+Q[ze+512|0]>>16)-128,P[ye]=(Q[Ie+768|0]+Q[Se+1024|0]+Q[ze+1280|0]>>16)-128,R[ye]=(Q[Ie+1280|0]+Q[Se+1536|0]+Q[ze+1792|0]>>16)-128;ne=_e(T,d,ne,e,n),le=_e(P,f,le,r,i),we=_e(R,f,we,r,i),me+=32}pe+=8}if(E>=0){var Ce=[];Ce[1]=E+1,Ce[0]=(1<<E+1)-1,ge(Ce)}return ve(65497),new Uint8Array(_)},t=t||50,function(){for(var O=String.fromCharCode,ee=0;ee<256;ee++)M[ee]=O(ee)}(),e=he(G,H),r=he(U,W),n=he(oe,z),i=he(Y,be),function(){for(var O=1,ee=2,ne=1;ne<=15;ne++){for(var le=O;le<ee;le++)y[32767+le]=ne,m[32767+le]=[],m[32767+le][1]=ne,m[32767+le][0]=le;for(var we=-(ee-1);we<=-O;we++)y[32767+we]=ne,m[32767+we]=[],m[32767+we][1]=ne,m[32767+we][0]=ee-1+we;O<<=1,ee<<=1}}(),function(){for(var O=0;O<256;O++)Q[O]=19595*O,Q[O+256|0]=38470*O,Q[O+512|0]=7471*O+32768,Q[O+768|0]=-11059*O,Q[O+1024|0]=-21709*O,Q[O+1280|0]=32768*O+8421375,Q[O+1536|0]=-27439*O,Q[O+1792|0]=-5329*O}(),te(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function I_(t){function e(H){if(!H)throw Error("assert :P")}function r(H,oe,z){for(var U=0;4>U;U++)if(H[oe+U]!=z.charCodeAt(U))return!0;return!1}function n(H,oe,z,U,W){for(var Y=0;Y<W;Y++)H[oe+Y]=z[U+Y]}function i(H,oe,z,U){for(var W=0;W<U;W++)H[oe+W]=z}function a(H){return new Int32Array(H)}function o(H,oe){for(var z=[],U=0;U<H;U++)z.push(new oe);return z}function l(H,oe){var z=[];return function U(W,Y,be){for(var he=be[Y],ge=0;ge<he&&(W.push(be.length>Y+1?[]:new oe),!(be.length<Y+1));ge++)U(W[ge],Y+1,be)}(z,0,H),z}var u=function(){var H=this;function oe(v,w){for(var j=1<<w-1>>>0;v&j;)j>>>=1;return j?(v&j-1)+j:v}function z(v,w,j,F,V){e(!(F%j));do v[w+(F-=j)]=V;while(0<F)}function U(v,w,j,F,V){if(e(2328>=V),512>=V)var X=a(512);else if((X=a(V))==null)return 0;return function(re,ae,se,ue,Te,Ve){var de,Re,qe=ae,st=1<<se,Ge=a(16),et=a(16);for(e(Te!=0),e(ue!=null),e(re!=null),e(0<se),Re=0;Re<Te;++Re){if(15<ue[Re])return 0;++Ge[ue[Re]]}if(Ge[0]==Te)return 0;for(et[1]=0,de=1;15>de;++de){if(Ge[de]>1<<de)return 0;et[de+1]=et[de]+Ge[de]}for(Re=0;Re<Te;++Re)de=ue[Re],0<ue[Re]&&(Ve[et[de]++]=Re);if(et[15]==1)return(ue=new W).g=0,ue.value=Ve[0],z(re,qe,1,st,ue),st;var nt,ct=-1,ut=st-1,rr=0,Vt=1,Tr=1,Kt=1<<se;for(Re=0,de=1,Te=2;de<=se;++de,Te<<=1){if(Vt+=Tr<<=1,0>(Tr-=Ge[de]))return 0;for(;0<Ge[de];--Ge[de])(ue=new W).g=de,ue.value=Ve[Re++],z(re,qe+rr,Te,Kt,ue),rr=oe(rr,de)}for(de=se+1,Te=2;15>=de;++de,Te<<=1){if(Vt+=Tr<<=1,0>(Tr-=Ge[de]))return 0;for(;0<Ge[de];--Ge[de]){if(ue=new W,(rr&ut)!=ct){for(qe+=Kt,nt=1<<(ct=de)-se;15>ct&&!(0>=(nt-=Ge[ct]));)++ct,nt<<=1;st+=Kt=1<<(nt=ct-se),re[ae+(ct=rr&ut)].g=nt+se,re[ae+ct].value=qe-ae-ct}ue.g=de-se,ue.value=Ve[Re++],z(re,qe+(rr>>se),Te,Kt,ue),rr=oe(rr,de)}}return Vt!=2*et[15]-1?0:st}(v,w,j,F,V,X)}function W(){this.value=this.g=0}function Y(){this.value=this.g=0}function be(){this.G=o(5,W),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Vr,Y)}function he(v,w,j,F){e(v!=null),e(w!=null),e(2147483648>F),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=w,v.pa=j,v.Jd=w,v.Yc=j+F,v.Zc=4<=F?j+F-4+1:j,Ie(v)}function ge(v,w){for(var j=0;0<w--;)j|=ze(v,128)<<w;return j}function ie(v,w){var j=ge(v,w);return Se(v)?-j:j}function ve(v,w,j,F){var V,X=0;for(e(v!=null),e(w!=null),e(4294967288>F),v.Sb=F,v.Ra=0,v.u=0,v.h=0,4<F&&(F=4),V=0;V<F;++V)X+=w[j+V]<<8*V;v.Ra=X,v.bb=F,v.oa=w,v.pa=j}function _e(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Fo-8>>>0,++v.bb,v.u-=8;le(v)&&(v.h=1,v.u=0)}function te(v,w){if(e(0<=w),!v.h&&w<=Yi){var j=ne(v)&Cs[w];return v.u+=w,_e(v),j}return v.h=1,v.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ee(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(v){return v.Ra>>>(v.u&Fo-1)>>>0}function le(v){return e(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Fo}function we(v,w){v.u=w,v.h=le(v)}function me(v){v.u>=Dn&&(e(v.u>=Dn),_e(v))}function Ie(v){e(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(e(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function Se(v){return ge(v,1)}function ze(v,w){var j=v.Ca;0>v.b&&Ie(v);var F=v.b,V=j*w>>>8,X=(v.I>>>F>V)+0;for(X?(j-=V,v.I-=V+1<<F>>>0):j=V+1,F=j,V=0;256<=F;)V+=8,F>>=8;return F=7^V+pc[F],v.b-=F,v.Ca=(j<<F)-1,X}function rt(v,w,j){v[w+0]=j>>24&255,v[w+1]=j>>16&255,v[w+2]=j>>8&255,v[w+3]=255&j}function it(v,w){return v[w+0]|v[w+1]<<8}function pt(v,w){return it(v,w)|v[w+2]<<16}function Je(v,w){return it(v,w)|it(v,w+2)<<16}function ye(v,w){var j=1<<w;return e(v!=null),e(0<w),v.X=a(j),v.X==null?0:(v.Mb=32-w,v.Xa=w,1)}function br(v,w){e(v!=null),e(w!=null),e(v.Xa==w.Xa),n(w.X,0,v.X,0,1<<w.Xa)}function lr(){this.X=[],this.Xa=this.Mb=0}function nr(v,w,j,F){e(j!=null),e(F!=null);var V=j[0],X=F[0];return V==0&&(V=(v*X+w/2)/w),X==0&&(X=(w*V+v/2)/v),0>=V||0>=X?0:(j[0]=V,F[0]=X,1)}function gt(v,w){return v+(1<<w)-1>>>w}function pe(v,w){return((4278255360&v)+(4278255360&w)>>>0&4278255360)+((16711935&v)+(16711935&w)>>>0&16711935)>>>0}function Ce(v,w){H[w]=function(j,F,V,X,re,ae,se){var ue;for(ue=0;ue<re;++ue){var Te=H[v](ae[se+ue-1],V,X+ue);ae[se+ue]=pe(j[F+ue],Te)}}}function We(){this.ud=this.hd=this.jd=0}function at(v,w){return((4278124286&(v^w))>>>1)+(v&w)>>>0}function dt(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function tt(v,w){return dt(v+(v-w+.5>>1))}function mt(v,w,j){return Math.abs(w-j)-Math.abs(v-j)}function Mt(v,w,j,F,V,X,re){for(F=X[re-1],j=0;j<V;++j)X[re+j]=F=pe(v[w+j],F)}function Tt(v,w,j,F,V){var X;for(X=0;X<j;++X){var re=v[w+X],ae=re>>8&255,se=16711935&(se=(se=16711935&re)+((ae<<16)+ae));F[V+X]=(4278255360&re)+se>>>0}}function Dt(v,w){w.jd=255&v,w.hd=v>>8&255,w.ud=v>>16&255}function Qt(v,w,j,F,V,X){var re;for(re=0;re<F;++re){var ae=w[j+re],se=ae>>>8,ue=ae,Te=255&(Te=(Te=ae>>>16)+((v.jd<<24>>24)*(se<<24>>24)>>>5));ue=255&(ue=(ue+=(v.hd<<24>>24)*(se<<24>>24)>>>5)+((v.ud<<24>>24)*(Te<<24>>24)>>>5)),V[X+re]=(4278255360&ae)+(Te<<16)+ue}}function Ot(v,w,j,F,V){H[w]=function(X,re,ae,se,ue,Te,Ve,de,Re){for(se=Ve;se<de;++se)for(Ve=0;Ve<Re;++Ve)ue[Te++]=V(ae[F(X[re++])])},H[v]=function(X,re,ae,se,ue,Te,Ve){var de=8>>X.b,Re=X.Ea,qe=X.K[0],st=X.w;if(8>de)for(X=(1<<X.b)-1,st=(1<<de)-1;re<ae;++re){var Ge,et=0;for(Ge=0;Ge<Re;++Ge)Ge&X||(et=F(se[ue++])),Te[Ve++]=V(qe[et&st]),et>>=de}else H["VP8LMapColor"+j](se,ue,qe,st,Te,Ve,re,ae,Re)}}function Gr(v,w,j,F,V){for(j=w+j;w<j;){var X=v[w++];F[V++]=X>>16&255,F[V++]=X>>8&255,F[V++]=255&X}}function zr(v,w,j,F,V){for(j=w+j;w<j;){var X=v[w++];F[V++]=X>>16&255,F[V++]=X>>8&255,F[V++]=255&X,F[V++]=X>>24&255}}function Ut(v,w,j,F,V){for(j=w+j;w<j;){var X=(re=v[w++])>>16&240|re>>12&15,re=240&re|re>>28&15;F[V++]=X,F[V++]=re}}function cr(v,w,j,F,V){for(j=w+j;w<j;){var X=(re=v[w++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;F[V++]=X,F[V++]=re}}function _t(v,w,j,F,V){for(j=w+j;w<j;){var X=v[w++];F[V++]=255&X,F[V++]=X>>8&255,F[V++]=X>>16&255}}function Zt(v,w,j,F,V,X){if(X==0)for(j=w+j;w<j;)rt(F,((X=v[w++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),V+=32;else n(F,V,v,w,j)}function Sr(v,w){H[w][0]=H[v+"0"],H[w][1]=H[v+"1"],H[w][2]=H[v+"2"],H[w][3]=H[v+"3"],H[w][4]=H[v+"4"],H[w][5]=H[v+"5"],H[w][6]=H[v+"6"],H[w][7]=H[v+"7"],H[w][8]=H[v+"8"],H[w][9]=H[v+"9"],H[w][10]=H[v+"10"],H[w][11]=H[v+"11"],H[w][12]=H[v+"12"],H[w][13]=H[v+"13"],H[w][14]=H[v+"0"],H[w][15]=H[v+"0"]}function pr(v){return v==Wc||v==mc||v==qu||v==Wu}function bt(){this.eb=[],this.size=this.A=this.fb=0}function bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bt,this.f.kb=new bn,this.sd=null}function mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ms(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Pi(v,w){var j=v.T,F=w.ba.f.RGBA,V=F.eb,X=F.fb+v.ka*F.A,re=ns[w.ba.S],ae=v.y,se=v.O,ue=v.f,Te=v.N,Ve=v.ea,de=v.W,Re=w.cc,qe=w.dc,st=w.Mc,Ge=w.Nc,et=v.ka,nt=v.ka+v.T,ct=v.U,ut=ct+1>>1;for(et==0?re(ae,se,null,null,ue,Te,Ve,de,ue,Te,Ve,de,V,X,null,null,ct):(re(w.ec,w.fc,ae,se,Re,qe,st,Ge,ue,Te,Ve,de,V,X-F.A,V,X,ct),++j);et+2<nt;et+=2)Re=ue,qe=Te,st=Ve,Ge=de,Te+=v.Rc,de+=v.Rc,X+=2*F.A,re(ae,(se+=2*v.fa)-v.fa,ae,se,Re,qe,st,Ge,ue,Te,Ve,de,V,X-F.A,V,X,ct);return se+=v.fa,v.j+nt<v.o?(n(w.ec,w.fc,ae,se,ct),n(w.cc,w.dc,ue,Te,ut),n(w.Mc,w.Nc,Ve,de,ut),j--):1&nt||re(ae,se,null,null,ue,Te,Ve,de,ue,Te,Ve,de,V,X+F.A,null,null,ct),j}function Bs(v,w,j){var F=v.F,V=[v.J];if(F!=null){var X=v.U,re=w.ba.S,ae=re==$u||re==qu;w=w.ba.f.RGBA;var se=[0],ue=v.ka;se[0]=v.T,v.Kb&&(ue==0?--se[0]:(--ue,V[0]-=v.width),v.j+v.ka+v.T==v.o&&(se[0]=v.o-v.j-ue));var Te=w.eb;ue=w.fb+ue*w.A,v=jr(F,V[0],v.width,X,se,Te,ue+(ae?0:3),w.A),e(j==se),v&&pr(re)&&Lt(Te,ue,ae,X,se,w.A)}return 0}function ji(v){var w=v.ma,j=w.ba.S,F=11>j,V=j==Fl||j==Uu||j==$u||j==Nn||j==12||pr(j);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!ua(w.Oa,v,V?11:12))return 0;if(V&&pr(j)&&fc(),v.da)alert("todo:use_scaling");else{if(F){if(w.Ib=Ms,v.Kb){if(j=v.U+1>>1,w.memory=a(v.U+2*j),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+v.U,w.Mc=w.cc,w.Nc=w.dc+j,w.Ib=Pi,fc()}}else alert("todo:EmitYUV");V&&(w.Jb=Bs,F&&uo())}if(F&&!ha){for(v=0;256>v;++v)is[v]=89858*(v-128)+ho>>il,as[v]=-22014*(v-128)+ho,Kc[v]=-45773*(v-128),bc[v]=113618*(v-128)+ho>>il;for(v=vn;v<Sn;++v)w=76283*(v-16)+ho>>il,Td[v-vn]=Xn(w,255),Tp[v-vn]=Xn(w+8>>4,15);ha=1}return 1}function ir(v){var w=v.ma,j=v.U,F=v.T;return e(!(1&v.ka)),0>=j||0>=F?0:(j=w.Ib(v,w),w.Jb!=null&&w.Jb(v,w,j),w.Dc+=j,1)}function na(v){v.ma.memory=null}function Sa(v,w,j,F){return te(v,8)!=47?0:(w[0]=te(v,14)+1,j[0]=te(v,14)+1,F[0]=te(v,1),te(v,3)!=0?0:!v.h)}function Ur(v,w){if(4>v)return v+1;var j=v-2>>1;return(2+(1&v)<<j)+te(w,j)+1}function sn(v,w){return 120<w?w-120:1<=(j=((j=wv[w-1])>>4)*v+(8-(15&j)))?j:1;var j}function xn(v,w,j){var F=ne(j),V=v[w+=255&F].g-8;return 0<V&&(we(j,j.u+8),F=ne(j),w+=v[w].value,w+=F&(1<<V)-1),we(j,j.u+v[w].g),v[w].value}function jn(v,w,j){return j.g+=v.g,j.value+=v.value<<w>>>0,e(8>=j.g),v.g}function Fn(v,w,j){var F=v.xc;return e((w=F==0?0:v.vc[v.md*(j>>F)+(w>>F)])<v.Wb),v.Ya[w]}function Ga(v,w,j,F){var V=v.ab,X=v.c*w,re=v.C;w=re+w;var ae=j,se=F;for(F=v.Ta,j=v.Ua;0<V--;){var ue=v.gc[V],Te=re,Ve=w,de=ae,Re=se,qe=(se=F,ae=j,ue.Ea);switch(e(Te<Ve),e(Ve<=ue.nc),ue.hc){case 2:As(de,Re,(Ve-Te)*qe,se,ae);break;case 0:var st=Te,Ge=Ve,et=se,nt=ae,ct=(Kt=ue).Ea;st==0&&(ei(de,Re,null,null,1,et,nt),Mt(de,Re+1,0,0,ct-1,et,nt+1),Re+=ct,nt+=ct,++st);for(var ut=1<<Kt.b,rr=ut-1,Vt=gt(ct,Kt.b),Tr=Kt.K,Kt=Kt.w+(st>>Kt.b)*Vt;st<Ge;){var Kr=Tr,ti=Kt,Or=1;for(Ji(de,Re,et,nt-ct,1,et,nt);Or<ct;){var Ht=(Or&~rr)+ut;Ht>ct&&(Ht=ct),(0,I[Kr[ti++]>>8&15])(de,Re+ +Or,et,nt+Or-ct,Ht-Or,et,nt+Or),Or=Ht}Re+=ct,nt+=ct,++st&rr||(Kt+=Vt)}Ve!=ue.nc&&n(se,ae-qe,se,ae+(Ve-Te-1)*qe,qe);break;case 1:for(qe=de,Ge=Re,ct=(de=ue.Ea)-(nt=de&~(et=(Re=1<<ue.b)-1)),st=gt(de,ue.b),ut=ue.K,ue=ue.w+(Te>>ue.b)*st;Te<Ve;){for(rr=ut,Vt=ue,Tr=new We,Kt=Ge+nt,Kr=Ge+de;Ge<Kt;)Dt(rr[Vt++],Tr),B(Tr,qe,Ge,Re,se,ae),Ge+=Re,ae+=Re;Ge<Kr&&(Dt(rr[Vt++],Tr),B(Tr,qe,Ge,ct,se,ae),Ge+=ct,ae+=ct),++Te&et||(ue+=st)}break;case 3:if(de==se&&Re==ae&&0<ue.b){for(Ge=se,de=qe=ae+(Ve-Te)*qe-(nt=(Ve-Te)*gt(ue.Ea,ue.b)),Re=se,et=ae,st=[],nt=(ct=nt)-1;0<=nt;--nt)st[nt]=Re[et+nt];for(nt=ct-1;0<=nt;--nt)Ge[de+nt]=st[nt];da(ue,Te,Ve,se,qe,se,ae)}else da(ue,Te,Ve,de,Re,se,ae)}ae=F,se=j}se!=j&&n(F,j,ae,se,X)}function jo(v,w){var j=v.V,F=v.Ba+v.c*v.C,V=w-v.C;if(e(w<=v.l.o),e(16>=V),0<V){var X=v.l,re=v.Ta,ae=v.Ua,se=X.width;if(Ga(v,V,j,F),V=ae=[ae],e((j=v.C)<(F=w)),e(X.v<X.va),F>X.o&&(F=X.o),j<X.j){var ue=X.j-j;j=X.j,V[0]+=ue*se}if(j>=F?j=0:(V[0]+=4*X.v,X.ka=j-X.j,X.U=X.va-X.v,X.T=F-j,j=1),j){if(ae=ae[0],11>(j=v.ca).S){var Te=j.f.RGBA,Ve=(F=j.S,V=X.U,X=X.T,ue=Te.eb,Te.A),de=X;for(Te=Te.fb+v.Ma*Te.A;0<de--;){var Re=re,qe=ae,st=V,Ge=ue,et=Te;switch(F){case Ed:$(Re,qe,st,Ge,et);break;case Fl:Z(Re,qe,st,Ge,et);break;case Wc:Z(Re,qe,st,Ge,et),Lt(Ge,et,0,st,1,0);break;case Ap:Ae(Re,qe,st,Ge,et);break;case Uu:Zt(Re,qe,st,Ge,et,1);break;case mc:Zt(Re,qe,st,Ge,et,1),Lt(Ge,et,0,st,1,0);break;case $u:Zt(Re,qe,st,Ge,et,0);break;case qu:Zt(Re,qe,st,Ge,et,0),Lt(Ge,et,1,st,1,0);break;case Nn:ce(Re,qe,st,Ge,et);break;case Wu:ce(Re,qe,st,Ge,et),Cr(Ge,et,st,1,0);break;case Pd:xe(Re,qe,st,Ge,et);break;default:e(0)}ae+=se,Te+=Ve}v.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");e(v.Ma<=j.height)}}v.C=w,e(v.C<=v.i)}function gi(v){var w;if(0<v.ua)return 0;for(w=0;w<v.Wb;++w){var j=v.Ya[w].G,F=v.Ya[w].H;if(0<j[1][F[1]+0].g||0<j[2][F[2]+0].g||0<j[3][F[3]+0].g)return 0}return 1}function ia(v,w,j,F,V,X){if(v.Z!=0){var re=v.qd,ae=v.rd;for(e(Aa[v.Z]!=null);w<j;++w)Aa[v.Z](re,ae,F,V,F,V,X),re=F,ae=V,V+=X;v.qd=re,v.rd=ae}}function In(v,w){var j=v.l.ma,F=j.Z==0||j.Z==1?v.l.j:v.C;if(F=v.C<F?F:v.C,e(w<=v.l.o),w>F){var V=v.l.width,X=j.ca,re=j.tb+V*F,ae=v.V,se=v.Ba+v.c*F,ue=v.gc;e(v.ab==1),e(ue[0].hc==3),b(ue[0],F,w,ae,se,X,re),ia(j,F,w,X,re,V)}v.C=v.Ma=w}function aa(v,w,j,F,V,X,re){var ae=v.$/F,se=v.$%F,ue=v.m,Te=v.s,Ve=j+v.$,de=Ve;V=j+F*V;var Re=j+F*X,qe=280+Te.ua,st=v.Pb?ae:16777216,Ge=0<Te.ua?Te.Wa:null,et=Te.wc,nt=Ve<Re?Fn(Te,se,ae):null;e(v.C<X),e(Re<=V);var ct=!1;e:for(;;){for(;ct||Ve<Re;){var ut=0;if(ae>=st){var rr=Ve-j;e((st=v).Pb),st.wd=st.m,st.xd=rr,0<st.s.ua&&br(st.s.Wa,st.s.vb),st=ae+Id}if(se&et||(nt=Fn(Te,se,ae)),e(nt!=null),nt.Qb&&(w[Ve]=nt.qb,ct=!0),!ct)if(me(ue),nt.jc){ut=ue,rr=w;var Vt=Ve,Tr=nt.pd[ne(ut)&Vr-1];e(nt.jc),256>Tr.g?(we(ut,ut.u+Tr.g),rr[Vt]=Tr.value,ut=0):(we(ut,ut.u+Tr.g-256),e(256<=Tr.value),ut=Tr.value),ut==0&&(ct=!0)}else ut=xn(nt.G[0],nt.H[0],ue);if(ue.h)break;if(ct||256>ut){if(!ct)if(nt.nd)w[Ve]=(nt.qb|ut<<8)>>>0;else{if(me(ue),ct=xn(nt.G[1],nt.H[1],ue),me(ue),rr=xn(nt.G[2],nt.H[2],ue),Vt=xn(nt.G[3],nt.H[3],ue),ue.h)break;w[Ve]=(Vt<<24|ct<<16|ut<<8|rr)>>>0}if(ct=!1,++Ve,++se>=F&&(se=0,++ae,re!=null&&ae<=X&&!(ae%16)&&re(v,ae),Ge!=null))for(;de<Ve;)ut=w[de++],Ge.X[(506832829*ut&4294967295)>>>Ge.Mb]=ut}else if(280>ut){if(ut=Ur(ut-256,ue),rr=xn(nt.G[4],nt.H[4],ue),me(ue),rr=sn(F,rr=Ur(rr,ue)),ue.h)break;if(Ve-j<rr||V-Ve<ut)break e;for(Vt=0;Vt<ut;++Vt)w[Ve+Vt]=w[Ve+Vt-rr];for(Ve+=ut,se+=ut;se>=F;)se-=F,++ae,re!=null&&ae<=X&&!(ae%16)&&re(v,ae);if(e(Ve<=V),se&et&&(nt=Fn(Te,se,ae)),Ge!=null)for(;de<Ve;)ut=w[de++],Ge.X[(506832829*ut&4294967295)>>>Ge.Mb]=ut}else{if(!(ut<qe))break e;for(ct=ut-280,e(Ge!=null);de<Ve;)ut=w[de++],Ge.X[(506832829*ut&4294967295)>>>Ge.Mb]=ut;ut=Ve,e(!(ct>>>(rr=Ge).Xa)),w[ut]=rr.X[ct],ct=!0}ct||e(ue.h==le(ue))}if(v.Pb&&ue.h&&Ve<V)e(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&br(v.s.vb,v.s.Wa);else{if(ue.h)break e;re?.(v,ae>X?X:ae),v.a=0,v.$=Ve-j}return 1}return v.a=3,0}function Ma(v){e(v!=null),v.vc=null,v.yc=null,v.Ya=null;var w=v.Wa;w!=null&&(w.X=null),v.vb=null,e(v!=null)}function _a(){var v=new Tn;return v==null?null:(v.a=0,v.xb=Hc,Sr("Predictor","VP8LPredictors"),Sr("Predictor","VP8LPredictors_C"),Sr("PredictorAdd","VP8LPredictorsAdd"),Sr("PredictorAdd","VP8LPredictorsAdd_C"),As=Tt,B=Qt,$=Gr,Z=zr,ce=Ut,xe=cr,Ae=_t,H.VP8LMapColor32b=nl,H.VP8LMapColor8b=S,v)}function Ka(v,w,j,F,V){var X=1,re=[v],ae=[w],se=F.m,ue=F.s,Te=null,Ve=0;e:for(;;){if(j)for(;X&&te(se,1);){var de=re,Re=ae,qe=F,st=1,Ge=qe.m,et=qe.gc[qe.ab],nt=te(Ge,2);if(qe.Oc&1<<nt)X=0;else{switch(qe.Oc|=1<<nt,et.hc=nt,et.Ea=de[0],et.nc=Re[0],et.K=[null],++qe.ab,e(4>=qe.ab),nt){case 0:case 1:et.b=te(Ge,3)+2,st=Ka(gt(et.Ea,et.b),gt(et.nc,et.b),0,qe,et.K),et.K=et.K[0];break;case 3:var ct,ut=te(Ge,8)+1,rr=16<ut?0:4<ut?1:2<ut?2:3;if(de[0]=gt(et.Ea,rr),et.b=rr,ct=st=Ka(ut,1,0,qe,et.K)){var Vt,Tr=ut,Kt=et,Kr=1<<(8>>Kt.b),ti=a(Kr);if(ti==null)ct=0;else{var Or=Kt.K[0],Ht=Kt.w;for(ti[0]=Kt.K[0][0],Vt=1;Vt<1*Tr;++Vt)ti[Vt]=pe(Or[Ht+Vt],ti[Vt-1]);for(;Vt<4*Kr;++Vt)ti[Vt]=0;Kt.K[0]=null,Kt.K[0]=ti,ct=1}}st=ct;break;case 2:break;default:e(0)}X=st}}if(re=re[0],ae=ae[0],X&&te(se,1)&&!(X=1<=(Ve=te(se,4))&&11>=Ve)){F.a=3;break e}var It;if(It=X)t:{var ui,kr,Hr,Rn=F,Qi=re,_i=ae,Yn=Ve,Di=j,Zi=Rn.m,Wn=Rn.s,Xr=[null],ln=1,Vn=0,cn=Pp[Yn];r:for(;;){if(Di&&te(Zi,1)){var ri=te(Zi,3)+2,ni=gt(Qi,ri),Cn=gt(_i,ri),Ea=ni*Cn;if(!Ka(ni,Cn,0,Rn,Xr))break r;for(Xr=Xr[0],Wn.xc=ri,ui=0;ui<Ea;++ui){var _n=Xr[ui]>>8&65535;Xr[ui]=_n,_n>=ln&&(ln=_n+1)}}if(Zi.h)break r;for(kr=0;5>kr;++kr){var An=gc[kr];!kr&&0<Yn&&(An+=1<<Yn),Vn<An&&(Vn=An)}var ki=o(ln*cn,W),pa=ln,ss=o(pa,be);if(ss==null)var di=null;else e(65536>=pa),di=ss;var fi=a(Vn);if(di==null||fi==null||ki==null){Rn.a=1;break r}var Pa=ki;for(ui=Hr=0;ui<ln;++ui){var En=di[ui],ja=En.G,Ys=En.H,po=0,Xi=1,hi=0;for(kr=0;5>kr;++kr){An=gc[kr],ja[kr]=Pa,Ys[kr]=Hr,!kr&&0<Yn&&(An+=1<<Yn);i:{var zl,sl=An,Yc=Rn,Bo=fi,Lp=Pa,sh=Hr,Un=0,mo=Yc.m,oh=te(mo,1);if(i(Bo,0,0,sl),oh){var lh=te(mo,1)+1,Dd=te(mo,1),Ld=te(mo,Dd==0?1:8);Bo[Ld]=1,lh==2&&(Bo[Ld=te(mo,8)]=1);var zo=1}else{var Hn=a(19),Ni=te(mo,4)+4;if(19<Ni){Yc.a=3;var pi=0;break i}for(zl=0;zl<Ni;++zl)Hn[xv[zl]]=te(mo,3);var Jc=void 0,ol=void 0,Qc=Yc,Cv=Hn,Li=sl,Rd=Bo,Yu=0,Uo=Qc.m,go=8,Es=o(128,W);n:for(;U(Es,0,7,Cv,19);){if(te(Uo,1)){var Ju=2+2*te(Uo,3);if((Jc=2+te(Uo,Ju))>Li)break n}else Jc=Li;for(ol=0;ol<Li&&Jc--;){me(Uo);var Od=Es[0+(127&ne(Uo))];we(Uo,Uo.u+Od.g);var Ul=Od.value;if(16>Ul)Rd[ol++]=Ul,Ul!=0&&(go=Ul);else{var Rp=Ul==16,ch=Ul-16,Op=jd[ch],uh=te(Uo,Vu[ch])+Op;if(ol+uh>Li)break n;for(var Fp=Rp?go:0;0<uh--;)Rd[ol++]=Fp}}Yu=1;break n}Yu||(Qc.a=3),zo=Yu}(zo=zo&&!mo.h)&&(Un=U(Lp,sh,8,Bo,sl)),zo&&Un!=0?pi=Un:(Yc.a=3,pi=0)}if(pi==0)break r;if(Xi&&Ep[kr]==1&&(Xi=Pa[Hr].g==0),po+=Pa[Hr].g,Hr+=pi,3>=kr){var Zc,Fd=fi[0];for(Zc=1;Zc<An;++Zc)fi[Zc]>Fd&&(Fd=fi[Zc]);hi+=Fd}}if(En.nd=Xi,En.Qb=0,Xi&&(En.qb=(ja[3][Ys[3]+0].value<<24|ja[1][Ys[1]+0].value<<16|ja[2][Ys[2]+0].value)>>>0,po==0&&256>ja[0][Ys[0]+0].value&&(En.Qb=1,En.qb+=ja[0][Ys[0]+0].value<<8)),En.jc=!En.Qb&&6>hi,En.jc){var Qu,Ps=En;for(Qu=0;Qu<Vr;++Qu){var ll=Qu,vo=Ps.pd[ll],wc=Ps.G[0][Ps.H[0]+ll];256<=wc.value?(vo.g=wc.g+256,vo.value=wc.value):(vo.g=0,vo.value=0,ll>>=jn(wc,8,vo),ll>>=jn(Ps.G[1][Ps.H[1]+ll],16,vo),ll>>=jn(Ps.G[2][Ps.H[2]+ll],0,vo),jn(Ps.G[3][Ps.H[3]+ll],24,vo))}}}Wn.vc=Xr,Wn.Wb=ln,Wn.Ya=di,Wn.yc=ki,It=1;break t}It=0}if(!(X=It)){F.a=3;break e}if(0<Ve){if(ue.ua=1<<Ve,!ye(ue.Wa,Ve)){F.a=1,X=0;break e}}else ue.ua=0;var Md=F,Bd=re,Mp=ae,zd=Md.s,Ud=zd.xc;if(Md.c=Bd,Md.i=Mp,zd.md=gt(Bd,Ud),zd.wc=Ud==0?-1:(1<<Ud)-1,j){F.xb=Mo;break e}if((Te=a(re*ae))==null){F.a=1,X=0;break e}X=(X=aa(F,Te,0,re,ae,ae,null))&&!se.h;break e}return X?(V!=null?V[0]=Te:(e(Te==null),e(j)),F.$=0,j||Ma(ue)):Ma(ue),X}function ka(v,w){var j=v.c*v.i,F=j+w+16*w;return e(v.c<=w),v.V=a(F),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+j+w,1)}function Io(v,w){var j=v.C,F=w-j,V=v.V,X=v.Ba+v.c*j;for(e(w<=v.l.o);0<F;){var re=16<F?16:F,ae=v.l.ma,se=v.l.width,ue=se*re,Te=ae.ca,Ve=ae.tb+se*j,de=v.Ta,Re=v.Ua;Ga(v,re,V,X),Rr(de,Re,Te,Ve,ue),ia(ae,j,j+re,Te,Ve,se),F-=re,V+=re*v.c,j+=re}e(j==w),v.C=v.Ma=w}function no(){this.ub=this.yd=this.td=this.Rb=0}function wn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function io(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Zr(){this.Yb=function(){var v=[];return function w(j,F,V){for(var X=V[F],re=0;re<X&&(j.push(V.length>F+1?[]:0),!(V.length<F+1));re++)w(j[re],F+1,V)}(v,0,[3,11]),v}()}function ic(){this.jb=a(3),this.Wc=l([4,8],Zr),this.Xc=l([4,17],Zr)}function vs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function $i(){this.ld=this.La=this.dd=this.tc=0}function zs(){this.Na=this.la=0}function jl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ya(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function To(){this.uc=this.M=this.Nb=0,this.wa=Array(new $i),this.Y=0,this.ya=Array(new Ya),this.aa=0,this.l=new dr}function qi(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ac(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new no,this.Kc=new wn,this.ed=new vs,this.Qa=new io,this.Ic=this.$c=this.Aa=0,this.D=new To,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,O),this.ia=0,this.pb=o(4,jl),this.Pa=new ic,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qi),this.Hd=0,this.rb=Array(new zs),this.sb=0,this.wa=Array(new $i),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ya),this.L=this.aa=0,this.gd=l([4,2],$i),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function dr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Uc(){var v=new ac;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,vc||(vc=Wi)),v}function Kn(v,w,j){return v.a==0&&(v.a=w,v.sc=j,v.cb=0),0}function sc(v,w,j){return 3<=j&&v[w+0]==157&&v[w+1]==1&&v[w+2]==42}function nn(v,w){if(v==null)return 0;if(v.a=0,v.sc="OK",w==null)return Kn(v,2,"null VP8Io passed to VP8GetHeaders()");var j=w.data,F=w.w,V=w.ha;if(4>V)return Kn(v,7,"Truncated header.");var X=j[F+0]|j[F+1]<<8|j[F+2]<<16,re=v.Od;if(re.Rb=!(1&X),re.td=X>>1&7,re.yd=X>>4&1,re.ub=X>>5,3<re.td)return Kn(v,3,"Incorrect keyframe parameters.");if(!re.yd)return Kn(v,4,"Frame not displayable.");F+=3,V-=3;var ae=v.Kc;if(re.Rb){if(7>V)return Kn(v,7,"cannot parse picture header");if(!sc(j,F,V))return Kn(v,3,"Bad code word");ae.c=16383&(j[F+4]<<8|j[F+3]),ae.Td=j[F+4]>>6,ae.i=16383&(j[F+6]<<8|j[F+5]),ae.Ud=j[F+6]>>6,F+=7,V-=7,v.za=ae.c+15>>4,v.Ub=ae.i+15>>4,w.width=ae.c,w.height=ae.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((X=v.Pa).jb,0,255,X.jb.length),e((X=v.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,i(X.Zb,0,0,X.Zb.length),i(X.Lb,0,0,X.Lb)}if(re.ub>V)return Kn(v,7,"bad partition length");he(X=v.m,j,F,re.ub),F+=re.ub,V-=re.ub,re.Rb&&(ae.Ld=Se(X),ae.Kd=Se(X)),ae=v.Qa;var se,ue=v.Pa;if(e(X!=null),e(ae!=null),ae.Cb=Se(X),ae.Cb){if(ae.Bb=Se(X),Se(X)){for(ae.Fb=Se(X),se=0;4>se;++se)ae.Zb[se]=Se(X)?ie(X,7):0;for(se=0;4>se;++se)ae.Lb[se]=Se(X)?ie(X,6):0}if(ae.Bb)for(se=0;3>se;++se)ue.jb[se]=Se(X)?ge(X,8):255}else ae.Bb=0;if(X.Ka)return Kn(v,3,"cannot parse segment header");if((ae=v.ed).zd=Se(X),ae.Tb=ge(X,6),ae.wb=ge(X,3),ae.Pc=Se(X),ae.Pc&&Se(X)){for(ue=0;4>ue;++ue)Se(X)&&(ae.vd[ue]=ie(X,6));for(ue=0;4>ue;++ue)Se(X)&&(ae.od[ue]=ie(X,6))}if(v.L=ae.Tb==0?0:ae.zd?1:2,X.Ka)return Kn(v,3,"cannot parse filter header");var Te=V;if(V=se=F,F=se+Te,ae=Te,v.Xb=(1<<ge(v.m,2))-1,Te<3*(ue=v.Xb))j=7;else{for(se+=3*ue,ae-=3*ue,Te=0;Te<ue;++Te){var Ve=j[V+0]|j[V+1]<<8|j[V+2]<<16;Ve>ae&&(Ve=ae),he(v.Jc[+Te],j,se,Ve),se+=Ve,ae-=Ve,V+=3}he(v.Jc[+ue],j,se,ae),j=se<F?0:5}if(j!=0)return Kn(v,j,"cannot parse partitions");for(j=ge(se=v.m,7),V=Se(se)?ie(se,4):0,F=Se(se)?ie(se,4):0,ae=Se(se)?ie(se,4):0,ue=Se(se)?ie(se,4):0,se=Se(se)?ie(se,4):0,Te=v.Qa,Ve=0;4>Ve;++Ve){if(Te.Cb){var de=Te.Zb[Ve];Te.Fb||(de+=j)}else{if(0<Ve){v.pb[Ve]=v.pb[0];continue}de=j}var Re=v.pb[Ve];Re.Sc[0]=Vc[Xn(de+V,127)],Re.Sc[1]=Hu[Xn(de+0,127)],Re.Eb[0]=2*Vc[Xn(de+F,127)],Re.Eb[1]=101581*Hu[Xn(de+ae,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=Vc[Xn(de+ue,117)],Re.Qc[1]=Hu[Xn(de+se,127)],Re.lc=de+se}if(!re.Rb)return Kn(v,4,"Not a key frame.");for(Se(X),re=v.Pa,j=0;4>j;++j){for(V=0;8>V;++V)for(F=0;3>F;++F)for(ae=0;11>ae;++ae)ue=ze(X,_v[j][V][F][ae])?ge(X,8):Ip[j][V][F][ae],re.Wc[j][V].Yb[F][ae]=ue;for(V=0;17>V;++V)re.Xc[j][V]=re.Wc[j][nh[V]]}return v.kc=Se(X),v.kc&&(v.Bd=ge(X,8)),v.cb=1}function Wi(v,w,j,F,V,X,re){var ae=w[V].Yb[j];for(j=0;16>V;++V){if(!ze(v,ae[j+0]))return V;for(;!ze(v,ae[j+1]);)if(ae=w[++V].Yb[0],j=0,V==16)return 16;var se=w[V+1].Yb;if(ze(v,ae[j+2])){var ue=v,Te=0;if(ze(ue,(de=ae)[(Ve=j)+3]))if(ze(ue,de[Ve+6])){for(ae=0,Ve=2*(Te=ze(ue,de[Ve+8]))+(de=ze(ue,de[Ve+9+Te])),Te=0,de=th[Ve];de[ae];++ae)Te+=Te+ze(ue,de[ae]);Te+=3+(8<<Ve)}else ze(ue,de[Ve+7])?(Te=7+2*ze(ue,165),Te+=ze(ue,145)):Te=5+ze(ue,159);else Te=ze(ue,de[Ve+4])?3+ze(ue,de[Ve+5]):2;ae=se[2]}else Te=1,ae=se[1];se=re+rh[V],0>(ue=v).b&&Ie(ue);var Ve,de=ue.b,Re=(Ve=ue.Ca>>1)-(ue.I>>de)>>31;--ue.b,ue.Ca+=Re,ue.Ca|=1,ue.I-=(Ve+1&Re)<<de,X[se]=((Te^Re)-Re)*F[(0<V)+0]}return 16}function sa(v){var w=v.rb[v.sb-1];w.la=0,w.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function li(v,w,j,F,V){V=v[w+j+32*F]+(V>>3),v[w+j+32*F]=-256&V?0>V?0:255:V}function ao(v,w,j,F,V,X){li(v,w,0,j,F+V),li(v,w,1,j,F+X),li(v,w,2,j,F-X),li(v,w,3,j,F-V)}function Mn(v){return(20091*v>>16)+v}function Us(v,w,j,F){var V,X=0,re=a(16);for(V=0;4>V;++V){var ae=v[w+0]+v[w+8],se=v[w+0]-v[w+8],ue=(35468*v[w+4]>>16)-Mn(v[w+12]),Te=Mn(v[w+4])+(35468*v[w+12]>>16);re[X+0]=ae+Te,re[X+1]=se+ue,re[X+2]=se-ue,re[X+3]=ae-Te,X+=4,w++}for(V=X=0;4>V;++V)ae=(v=re[X+0]+4)+re[X+8],se=v-re[X+8],ue=(35468*re[X+4]>>16)-Mn(re[X+12]),li(j,F,0,0,ae+(Te=Mn(re[X+4])+(35468*re[X+12]>>16))),li(j,F,1,0,se+ue),li(j,F,2,0,se-ue),li(j,F,3,0,ae-Te),X++,F+=32}function oc(v,w,j,F){var V=v[w+0]+4,X=35468*v[w+4]>>16,re=Mn(v[w+4]),ae=35468*v[w+1]>>16;ao(j,F,0,V+re,v=Mn(v[w+1]),ae),ao(j,F,1,V+X,v,ae),ao(j,F,2,V-X,v,ae),ao(j,F,3,V-re,v,ae)}function Do(v,w,j,F,V){Us(v,w,j,F),V&&Us(v,w+16,j,F+4)}function Lo(v,w,j,F){Le(v,w+0,j,F,1),Le(v,w+32,j,F+128,1)}function Na(v,w,j,F){var V;for(v=v[w+0]+4,V=0;4>V;++V)for(w=0;4>w;++w)li(j,F,w,V,v)}function Qo(v,w,j,F){v[w+0]&&je(v,w+0,j,F),v[w+16]&&je(v,w+16,j,F+4),v[w+32]&&je(v,w+32,j,F+128),v[w+48]&&je(v,w+48,j,F+128+4)}function rn(v,w,j,F){var V,X=a(16);for(V=0;4>V;++V){var re=v[w+0+V]+v[w+12+V],ae=v[w+4+V]+v[w+8+V],se=v[w+4+V]-v[w+8+V],ue=v[w+0+V]-v[w+12+V];X[0+V]=re+ae,X[8+V]=re-ae,X[4+V]=ue+se,X[12+V]=ue-se}for(V=0;4>V;++V)re=(v=X[0+4*V]+3)+X[3+4*V],ae=X[1+4*V]+X[2+4*V],se=X[1+4*V]-X[2+4*V],ue=v-X[3+4*V],j[F+0]=re+ae>>3,j[F+16]=ue+se>>3,j[F+32]=re-ae>>3,j[F+48]=ue-se>>3,F+=64}function Lr(v,w,j){var F,V=w-32,X=Ti,re=255-v[V-1];for(F=0;F<j;++F){var ae,se=X,ue=re+v[w-1];for(ae=0;ae<j;++ae)v[w+ae]=se[ue+v[V+ae]];w+=32}}function Ro(v,w){Lr(v,w,4)}function lc(v,w){Lr(v,w,8)}function $c(v,w){Lr(v,w,16)}function Vi(v,w){var j;for(j=0;16>j;++j)n(v,w+32*j,v,w-32,16)}function ys(v,w){var j;for(j=16;0<j;--j)i(v,w,v[w-1],16),w+=32}function Ja(v,w,j){var F;for(F=0;16>F;++F)i(w,j+32*F,v,16)}function vi(v,w){var j,F=16;for(j=0;16>j;++j)F+=v[w-1+32*j]+v[w+j-32];Ja(F>>5,v,w)}function bs(v,w){var j,F=8;for(j=0;16>j;++j)F+=v[w-1+32*j];Ja(F>>4,v,w)}function oa(v,w){var j,F=8;for(j=0;16>j;++j)F+=v[w+j-32];Ja(F>>4,v,w)}function on(v,w){Ja(128,v,w)}function Xt(v,w,j){return v+2*w+j+2>>2}function xs(v,w){var j,F=w-32;for(F=new Uint8Array([Xt(v[F-1],v[F+0],v[F+1]),Xt(v[F+0],v[F+1],v[F+2]),Xt(v[F+1],v[F+2],v[F+3]),Xt(v[F+2],v[F+3],v[F+4])]),j=0;4>j;++j)n(v,w+32*j,F,0,F.length)}function Ca(v,w){var j=v[w-1],F=v[w-1+32],V=v[w-1+64],X=v[w-1+96];rt(v,w+0,16843009*Xt(v[w-1-32],j,F)),rt(v,w+32,16843009*Xt(j,F,V)),rt(v,w+64,16843009*Xt(F,V,X)),rt(v,w+96,16843009*Xt(V,X,X))}function cc(v,w){var j,F=4;for(j=0;4>j;++j)F+=v[w+j-32]+v[w-1+32*j];for(F>>=3,j=0;4>j;++j)i(v,w+32*j,F,4)}function ws(v,w){var j=v[w-1+0],F=v[w-1+32],V=v[w-1+64],X=v[w-1-32],re=v[w+0-32],ae=v[w+1-32],se=v[w+2-32],ue=v[w+3-32];v[w+0+96]=Xt(F,V,v[w-1+96]),v[w+1+96]=v[w+0+64]=Xt(j,F,V),v[w+2+96]=v[w+1+64]=v[w+0+32]=Xt(X,j,F),v[w+3+96]=v[w+2+64]=v[w+1+32]=v[w+0+0]=Xt(re,X,j),v[w+3+64]=v[w+2+32]=v[w+1+0]=Xt(ae,re,X),v[w+3+32]=v[w+2+0]=Xt(se,ae,re),v[w+3+0]=Xt(ue,se,ae)}function Ba(v,w){var j=v[w+1-32],F=v[w+2-32],V=v[w+3-32],X=v[w+4-32],re=v[w+5-32],ae=v[w+6-32],se=v[w+7-32];v[w+0+0]=Xt(v[w+0-32],j,F),v[w+1+0]=v[w+0+32]=Xt(j,F,V),v[w+2+0]=v[w+1+32]=v[w+0+64]=Xt(F,V,X),v[w+3+0]=v[w+2+32]=v[w+1+64]=v[w+0+96]=Xt(V,X,re),v[w+3+32]=v[w+2+64]=v[w+1+96]=Xt(X,re,ae),v[w+3+64]=v[w+2+96]=Xt(re,ae,se),v[w+3+96]=Xt(ae,se,se)}function yi(v,w){var j=v[w-1+0],F=v[w-1+32],V=v[w-1+64],X=v[w-1-32],re=v[w+0-32],ae=v[w+1-32],se=v[w+2-32],ue=v[w+3-32];v[w+0+0]=v[w+1+64]=X+re+1>>1,v[w+1+0]=v[w+2+64]=re+ae+1>>1,v[w+2+0]=v[w+3+64]=ae+se+1>>1,v[w+3+0]=se+ue+1>>1,v[w+0+96]=Xt(V,F,j),v[w+0+64]=Xt(F,j,X),v[w+0+32]=v[w+1+96]=Xt(j,X,re),v[w+1+32]=v[w+2+96]=Xt(X,re,ae),v[w+2+32]=v[w+3+96]=Xt(re,ae,se),v[w+3+32]=Xt(ae,se,ue)}function Il(v,w){var j=v[w+0-32],F=v[w+1-32],V=v[w+2-32],X=v[w+3-32],re=v[w+4-32],ae=v[w+5-32],se=v[w+6-32],ue=v[w+7-32];v[w+0+0]=j+F+1>>1,v[w+1+0]=v[w+0+64]=F+V+1>>1,v[w+2+0]=v[w+1+64]=V+X+1>>1,v[w+3+0]=v[w+2+64]=X+re+1>>1,v[w+0+32]=Xt(j,F,V),v[w+1+32]=v[w+0+96]=Xt(F,V,X),v[w+2+32]=v[w+1+96]=Xt(V,X,re),v[w+3+32]=v[w+2+96]=Xt(X,re,ae),v[w+3+64]=Xt(re,ae,se),v[w+3+96]=Xt(ae,se,ue)}function Zo(v,w){var j=v[w-1+0],F=v[w-1+32],V=v[w-1+64],X=v[w-1+96];v[w+0+0]=j+F+1>>1,v[w+2+0]=v[w+0+32]=F+V+1>>1,v[w+2+32]=v[w+0+64]=V+X+1>>1,v[w+1+0]=Xt(j,F,V),v[w+3+0]=v[w+1+32]=Xt(F,V,X),v[w+3+32]=v[w+1+64]=Xt(V,X,X),v[w+3+64]=v[w+2+64]=v[w+0+96]=v[w+1+96]=v[w+2+96]=v[w+3+96]=X}function so(v,w){var j=v[w-1+0],F=v[w-1+32],V=v[w-1+64],X=v[w-1+96],re=v[w-1-32],ae=v[w+0-32],se=v[w+1-32],ue=v[w+2-32];v[w+0+0]=v[w+2+32]=j+re+1>>1,v[w+0+32]=v[w+2+64]=F+j+1>>1,v[w+0+64]=v[w+2+96]=V+F+1>>1,v[w+0+96]=X+V+1>>1,v[w+3+0]=Xt(ae,se,ue),v[w+2+0]=Xt(re,ae,se),v[w+1+0]=v[w+3+32]=Xt(j,re,ae),v[w+1+32]=v[w+3+64]=Xt(F,j,re),v[w+1+64]=v[w+3+96]=Xt(V,F,j),v[w+1+96]=Xt(X,V,F)}function oo(v,w){var j;for(j=0;8>j;++j)n(v,w+32*j,v,w-32,8)}function za(v,w){var j;for(j=0;8>j;++j)i(v,w,v[w-1],8),w+=32}function Ss(v,w,j){var F;for(F=0;8>F;++F)i(w,j+32*F,v,8)}function _s(v,w){var j,F=8;for(j=0;8>j;++j)F+=v[w+j-32]+v[w-1+32*j];Ss(F>>4,v,w)}function $s(v,w){var j,F=4;for(j=0;8>j;++j)F+=v[w+j-32];Ss(F>>3,v,w)}function uc(v,w){var j,F=4;for(j=0;8>j;++j)F+=v[w-1+32*j];Ss(F>>3,v,w)}function dc(v,w){Ss(128,v,w)}function Qa(v,w,j){var F=v[w-j],V=v[w+0],X=3*(V-F)+Ln[1020+v[w-2*j]-v[w+j]],re=ts[112+(X+4>>3)];v[w-j]=Ti[255+F+ts[112+(X+3>>3)]],v[w+0]=Ti[255+V-re]}function Ua(v,w,j,F){var V=v[w+0],X=v[w+j];return Gs[255+v[w-2*j]-v[w-j]]>F||Gs[255+X-V]>F}function lo(v,w,j,F){return 4*Gs[255+v[w-j]-v[w+0]]+Gs[255+v[w-2*j]-v[w+j]]<=F}function Xo(v,w,j,F,V){var X=v[w-3*j],re=v[w-2*j],ae=v[w-j],se=v[w+0],ue=v[w+j],Te=v[w+2*j],Ve=v[w+3*j];return 4*Gs[255+ae-se]+Gs[255+re-ue]>F?0:Gs[255+v[w-4*j]-X]<=V&&Gs[255+X-re]<=V&&Gs[255+re-ae]<=V&&Gs[255+Ve-Te]<=V&&Gs[255+Te-ue]<=V&&Gs[255+ue-se]<=V}function Za(v,w,j,F){var V=2*F+1;for(F=0;16>F;++F)lo(v,w+F,j,V)&&Qa(v,w+F,j)}function co(v,w,j,F){var V=2*F+1;for(F=0;16>F;++F)lo(v,w+F*j,1,V)&&Qa(v,w+F*j,1)}function qs(v,w,j,F){var V;for(V=3;0<V;--V)Za(v,w+=4*j,j,F)}function Oo(v,w,j,F){var V;for(V=3;0<V;--V)co(v,w+=4,j,F)}function Ii(v,w,j,F,V,X,re,ae){for(X=2*X+1;0<V--;){if(Xo(v,w,j,X,re))if(Ua(v,w,j,ae))Qa(v,w,j);else{var se=v,ue=w,Te=j,Ve=se[ue-2*Te],de=se[ue-Te],Re=se[ue+0],qe=se[ue+Te],st=se[ue+2*Te],Ge=27*(nt=Ln[1020+3*(Re-de)+Ln[1020+Ve-qe]])+63>>7,et=18*nt+63>>7,nt=9*nt+63>>7;se[ue-3*Te]=Ti[255+se[ue-3*Te]+nt],se[ue-2*Te]=Ti[255+Ve+et],se[ue-Te]=Ti[255+de+Ge],se[ue+0]=Ti[255+Re-Ge],se[ue+Te]=Ti[255+qe-et],se[ue+2*Te]=Ti[255+st-nt]}w+=F}}function Hi(v,w,j,F,V,X,re,ae){for(X=2*X+1;0<V--;){if(Xo(v,w,j,X,re))if(Ua(v,w,j,ae))Qa(v,w,j);else{var se=v,ue=w,Te=j,Ve=se[ue-Te],de=se[ue+0],Re=se[ue+Te],qe=ts[112+(4+(st=3*(de-Ve))>>3)],st=ts[112+(st+3>>3)],Ge=qe+1>>1;se[ue-2*Te]=Ti[255+se[ue-2*Te]+Ge],se[ue-Te]=Ti[255+Ve+st],se[ue+0]=Ti[255+de-qe],se[ue+Te]=Ti[255+Re-Ge]}w+=F}}function A(v,w,j,F,V,X){Ii(v,w,j,1,16,F,V,X)}function q(v,w,j,F,V,X){Ii(v,w,1,j,16,F,V,X)}function fe(v,w,j,F,V,X){var re;for(re=3;0<re;--re)Hi(v,w+=4*j,j,1,16,F,V,X)}function Ee(v,w,j,F,V,X){var re;for(re=3;0<re;--re)Hi(v,w+=4,1,j,16,F,V,X)}function Be(v,w,j,F,V,X,re,ae){Ii(v,w,V,1,8,X,re,ae),Ii(j,F,V,1,8,X,re,ae)}function lt(v,w,j,F,V,X,re,ae){Ii(v,w,1,V,8,X,re,ae),Ii(j,F,1,V,8,X,re,ae)}function ft(v,w,j,F,V,X,re,ae){Hi(v,w+4*V,V,1,8,X,re,ae),Hi(j,F+4*V,V,1,8,X,re,ae)}function Ft(v,w,j,F,V,X,re,ae){Hi(v,w+4,1,V,8,X,re,ae),Hi(j,F+4,1,V,8,X,re,ae)}function $t(){this.ba=new Qr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wr(){this.ua=0,this.Wa=new lr,this.vb=new lr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new W}function Tn(){this.xb=this.a=0,this.l=new dr,this.ca=new Qr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ee,this.Pb=0,this.wd=new ee,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wr,this.ab=0,this.gc=o(4,xr),this.Oc=0}function Bn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new dr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function an(v,w,j,F,V,X,re){for(v=v==null?0:v[w+0],w=0;w<re;++w)V[X+w]=v+j[F+w]&255,v=V[X+w]}function Zn(v,w,j,F,V,X,re){var ae;if(v==null)an(null,null,j,F,V,X,re);else for(ae=0;ae<re;++ae)V[X+ae]=v[w+ae]+j[F+ae]&255}function zn(v,w,j,F,V,X,re){if(v==null)an(null,null,j,F,V,X,re);else{var ae,se=v[w+0],ue=se,Te=se;for(ae=0;ae<re;++ae)ue=Te+(se=v[w+ae])-ue,Te=j[F+ae]+(-256&ue?0>ue?0:255:ue)&255,ue=se,V[X+ae]=Te}}function ci(v,w,j,F){var V=w.width,X=w.o;if(e(v!=null&&w!=null),0>j||0>=F||j+F>X)return null;if(!v.Cc){if(v.ga==null){var re;if(v.ga=new Bn,(re=v.ga==null)||(re=w.width*w.o,e(v.Gb.length==0),v.Gb=a(re),v.Uc=0,v.Gb==null?re=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,re=1),re=!re),!re){re=v.ga;var ae=v.Fa,se=v.P,ue=v.qc,Te=v.mb,Ve=v.nb,de=se+1,Re=ue-1,qe=re.l;if(e(ae!=null&&Te!=null&&w!=null),Aa[0]=null,Aa[1]=an,Aa[2]=Zn,Aa[3]=zn,re.ca=Te,re.tb=Ve,re.c=w.width,re.i=w.height,e(0<re.c&&0<re.i),1>=ue)w=0;else if(re.$a=3&ae[se+0],re.Z=ae[se+0]>>2&3,re.Lc=ae[se+0]>>4&3,se=ae[se+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||se)w=0;else if(qe.put=ir,qe.ac=ji,qe.bc=na,qe.ma=re,qe.width=w.width,qe.height=w.height,qe.Da=w.Da,qe.v=w.v,qe.va=w.va,qe.j=w.j,qe.o=w.o,re.$a)e:{e(re.$a==1),w=_a();t:for(;;){if(w==null){w=0;break e}if(e(re!=null),re.mc=w,w.c=re.c,w.i=re.i,w.l=re.l,w.l.ma=re,w.l.width=re.c,w.l.height=re.i,w.a=0,ve(w.m,ae,de,Re),!Ka(re.c,re.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&gi(w.s)?(re.ic=1,ae=w.c*w.i,w.Ta=null,w.Ua=0,w.V=a(ae),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(re.ic=0,w=ka(w,re.c)),!w))break t;w=1;break e}re.mc=null,w=0}else w=Re>=re.c*re.i;re=!w}if(re)return null;v.ga.Lc!=1?v.Ga=0:F=X-j}e(v.ga!=null),e(j+F<=X);e:{if(w=(ae=v.ga).c,X=ae.l.o,ae.$a==0){if(de=v.rc,Re=v.Vc,qe=v.Fa,se=v.P+1+j*w,ue=v.mb,Te=v.nb+j*w,e(se<=v.P+v.qc),ae.Z!=0)for(e(Aa[ae.Z]!=null),re=0;re<F;++re)Aa[ae.Z](de,Re,qe,se,ue,Te,w),de=ue,Re=Te,Te+=w,se+=w;else for(re=0;re<F;++re)n(ue,Te,qe,se,w),de=ue,Re=Te,Te+=w,se+=w;v.rc=de,v.Vc=Re}else{if(e(ae.mc!=null),w=j+F,e((re=ae.mc)!=null),e(w<=re.i),re.C>=w)w=1;else if(ae.ic||uo(),ae.ic){ae=re.V,de=re.Ba,Re=re.c;var st=re.i,Ge=(qe=1,se=re.$/Re,ue=re.$%Re,Te=re.m,Ve=re.s,re.$),et=Re*st,nt=Re*w,ct=Ve.wc,ut=Ge<nt?Fn(Ve,ue,se):null;e(Ge<=et),e(w<=st),e(gi(Ve));t:for(;;){for(;!Te.h&&Ge<nt;){if(ue&ct||(ut=Fn(Ve,ue,se)),e(ut!=null),me(Te),256>(st=xn(ut.G[0],ut.H[0],Te)))ae[de+Ge]=st,++Ge,++ue>=Re&&(ue=0,++se<=w&&!(se%16)&&In(re,se));else{if(!(280>st)){qe=0;break t}st=Ur(st-256,Te);var rr,Vt=xn(ut.G[4],ut.H[4],Te);if(me(Te),!(Ge>=(Vt=sn(Re,Vt=Ur(Vt,Te)))&&et-Ge>=st)){qe=0;break t}for(rr=0;rr<st;++rr)ae[de+Ge+rr]=ae[de+Ge+rr-Vt];for(Ge+=st,ue+=st;ue>=Re;)ue-=Re,++se<=w&&!(se%16)&&In(re,se);Ge<nt&&ue&ct&&(ut=Fn(Ve,ue,se))}e(Te.h==le(Te))}In(re,se>w?w:se);break t}!qe||Te.h&&Ge<et?(qe=0,re.a=Te.h?5:3):re.$=Ge,w=qe}else w=aa(re,re.V,re.Ba,re.c,re.i,w,Io);if(!w){F=0;break e}}j+F>=X&&(v.Cc=1),F=1}if(!F)return null;if(v.Cc&&((F=v.ga)!=null&&(F.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+j*V}function la(v,w,j,F,V,X){for(;0<V--;){var re,ae=v,se=w+(j?1:0),ue=v,Te=w+(j?0:3);for(re=0;re<F;++re){var Ve=ue[Te+4*re];Ve!=255&&(Ve*=32897,ae[se+4*re+0]=ae[se+4*re+0]*Ve>>23,ae[se+4*re+1]=ae[se+4*re+1]*Ve>>23,ae[se+4*re+2]=ae[se+4*re+2]*Ve>>23)}w+=X}}function Ws(v,w,j,F,V){for(;0<F--;){var X;for(X=0;X<j;++X){var re=v[w+2*X+0],ae=15&(ue=v[w+2*X+1]),se=4369*ae,ue=(240&ue|ue>>4)*se>>16;v[w+2*X+0]=(240&re|re>>4)*se>>16&240|(15&re|re<<4)*se>>16>>4&15,v[w+2*X+1]=240&ue|ae}w+=V}}function Tl(v,w,j,F,V,X,re,ae){var se,ue,Te=255;for(ue=0;ue<V;++ue){for(se=0;se<F;++se){var Ve=v[w+se];X[re+4*se]=Ve,Te&=Ve}w+=j,re+=ae}return Te!=255}function el(v,w,j,F,V){var X;for(X=0;X<V;++X)j[F+X]=v[w+X]>>8}function uo(){Lt=la,Cr=Ws,jr=Tl,Rr=el}function Xa(v,w,j){H[v]=function(F,V,X,re,ae,se,ue,Te,Ve,de,Re,qe,st,Ge,et,nt,ct){var ut,rr=ct-1>>1,Vt=ae[se+0]|ue[Te+0]<<16,Tr=Ve[de+0]|Re[qe+0]<<16;e(F!=null);var Kt=3*Vt+Tr+131074>>2;for(w(F[V+0],255&Kt,Kt>>16,st,Ge),X!=null&&(Kt=3*Tr+Vt+131074>>2,w(X[re+0],255&Kt,Kt>>16,et,nt)),ut=1;ut<=rr;++ut){var Kr=ae[se+ut]|ue[Te+ut]<<16,ti=Ve[de+ut]|Re[qe+ut]<<16,Or=Vt+Kr+Tr+ti+524296,Ht=Or+2*(Kr+Tr)>>3;Kt=Ht+Vt>>1,Vt=(Or=Or+2*(Vt+ti)>>3)+Kr>>1,w(F[V+2*ut-1],255&Kt,Kt>>16,st,Ge+(2*ut-1)*j),w(F[V+2*ut-0],255&Vt,Vt>>16,st,Ge+(2*ut-0)*j),X!=null&&(Kt=Or+Tr>>1,Vt=Ht+ti>>1,w(X[re+2*ut-1],255&Kt,Kt>>16,et,nt+(2*ut-1)*j),w(X[re+2*ut+0],255&Vt,Vt>>16,et,nt+(2*ut+0)*j)),Vt=Kr,Tr=ti}1&ct||(Kt=3*Vt+Tr+131074>>2,w(F[V+ct-1],255&Kt,Kt>>16,st,Ge+(ct-1)*j),X!=null&&(Kt=3*Tr+Vt+131074>>2,w(X[re+ct-1],255&Kt,Kt>>16,et,nt+(ct-1)*j)))}}function fc(){ns[Ed]=kv,ns[Fl]=Ml,ns[Ap]=Nv,ns[Uu]=Gc,ns[$u]=yc,ns[Nn]=Gu,ns[Pd]=ih,ns[Wc]=Ml,ns[mc]=Gc,ns[qu]=yc,ns[Wu]=Gu}function Vs(v){return v&-16384?0>v?0:255:v>>Bl}function ks(v,w){return Vs((19077*v>>8)+(26149*w>>8)-14234)}function bi(v,w,j){return Vs((19077*v>>8)-(6419*w>>8)-(13320*j>>8)+8708)}function Ns(v,w){return Vs((19077*v>>8)+(33050*w>>8)-17685)}function es(v,w,j,F,V){F[V+0]=ks(v,j),F[V+1]=bi(v,w,j),F[V+2]=Ns(v,w)}function Dl(v,w,j,F,V){F[V+0]=Ns(v,w),F[V+1]=bi(v,w,j),F[V+2]=ks(v,j)}function Ll(v,w,j,F,V){var X=bi(v,w,j);w=X<<3&224|Ns(v,w)>>3,F[V+0]=248&ks(v,j)|X>>5,F[V+1]=w}function ca(v,w,j,F,V){var X=240&Ns(v,w)|15;F[V+0]=240&ks(v,j)|bi(v,w,j)>>4,F[V+1]=X}function hc(v,w,j,F,V){F[V+0]=255,es(v,w,j,F,V+1)}function tl(v,w,j,F,V){Dl(v,w,j,F,V),F[V+3]=255}function qc(v,w,j,F,V){es(v,w,j,F,V),F[V+3]=255}function Xn(v,w){return 0>v?0:v>w?w:v}function Gi(v,w,j){H[v]=function(F,V,X,re,ae,se,ue,Te,Ve){for(var de=Te+(-2&Ve)*j;Te!=de;)w(F[V+0],X[re+0],ae[se+0],ue,Te),w(F[V+1],X[re+0],ae[se+0],ue,Te+j),V+=2,++re,++se,Te+=2*j;1&Ve&&w(F[V+0],X[re+0],ae[se+0],ue,Te)}}function Hs(v,w,j){return j==0?v==0?w==0?6:5:w==0?4:0:j}function Rl(v,w,j,F,V){switch(v>>>30){case 3:Le(w,j,F,V,0);break;case 2:Ne(w,j,F,V);break;case 1:je(w,j,F,V)}}function fo(v,w){var j,F,V=w.M,X=w.Nb,re=v.oc,ae=v.pc+40,se=v.oc,ue=v.pc+584,Te=v.oc,Ve=v.pc+600;for(j=0;16>j;++j)re[ae+32*j-1]=129;for(j=0;8>j;++j)se[ue+32*j-1]=129,Te[Ve+32*j-1]=129;for(0<V?re[ae-1-32]=se[ue-1-32]=Te[Ve-1-32]=129:(i(re,ae-32-1,127,21),i(se,ue-32-1,127,9),i(Te,Ve-32-1,127,9)),F=0;F<v.za;++F){var de=w.ya[w.aa+F];if(0<F){for(j=-1;16>j;++j)n(re,ae+32*j-4,re,ae+32*j+12,4);for(j=-1;8>j;++j)n(se,ue+32*j-4,se,ue+32*j+4,4),n(Te,Ve+32*j-4,Te,Ve+32*j+4,4)}var Re=v.Gd,qe=v.Hd+F,st=de.ad,Ge=de.Hc;if(0<V&&(n(re,ae-32,Re[qe].y,0,16),n(se,ue-32,Re[qe].f,0,8),n(Te,Ve-32,Re[qe].ea,0,8)),de.Za){var et=re,nt=ae-32+16;for(0<V&&(F>=v.za-1?i(et,nt,Re[qe].y[15],4):n(et,nt,Re[qe+1].y,0,4)),j=0;4>j;j++)et[nt+128+j]=et[nt+256+j]=et[nt+384+j]=et[nt+0+j];for(j=0;16>j;++j,Ge<<=2)et=re,nt=ae+ah[j],Ks[de.Ob[j]](et,nt),Rl(Ge,st,16*+j,et,nt)}else if(et=Hs(F,V,de.Ob[0]),$a[et](re,ae),Ge!=0)for(j=0;16>j;++j,Ge<<=2)Rl(Ge,st,16*+j,re,ae+ah[j]);for(j=de.Gc,et=Hs(F,V,de.Dd),rs[et](se,ue),rs[et](Te,Ve),Ge=st,et=se,nt=ue,255&(de=0|j)&&(170&de?Ue(Ge,256,et,nt):Me(Ge,256,et,nt)),de=Te,Ge=Ve,255&(j>>=8)&&(170&j?Ue(st,320,de,Ge):Me(st,320,de,Ge)),V<v.Ub-1&&(n(Re[qe].y,0,re,ae+480,16),n(Re[qe].f,0,se,ue+224,8),n(Re[qe].ea,0,Te,Ve+224,8)),j=8*X*v.B,Re=v.sa,qe=v.ta+16*F+16*X*v.R,st=v.qa,de=v.ra+8*F+j,Ge=v.Ha,et=v.Ia+8*F+j,j=0;16>j;++j)n(Re,qe+j*v.R,re,ae+32*j,16);for(j=0;8>j;++j)n(st,de+j*v.B,se,ue+32*j,8),n(Ge,et+j*v.B,Te,Ve+32*j,8)}}function rl(v,w,j,F,V,X,re,ae,se){var ue=[0],Te=[0],Ve=0,de=se!=null?se.kd:0,Re=se??new qt;if(v==null||12>j)return 7;Re.data=v,Re.w=w,Re.ha=j,w=[w],j=[j],Re.gb=[Re.gb];e:{var qe=w,st=j,Ge=Re.gb;if(e(v!=null),e(st!=null),e(Ge!=null),Ge[0]=0,12<=st[0]&&!r(v,qe[0],"RIFF")){if(r(v,qe[0]+8,"WEBP")){Ge=3;break e}var et=Je(v,qe[0]+4);if(12>et||4294967286<et){Ge=3;break e}if(de&&et>st[0]-8){Ge=7;break e}Ge[0]=et,qe[0]+=12,st[0]-=12}Ge=0}if(Ge!=0)return Ge;for(et=0<Re.gb[0],j=j[0];;){e:{var nt=v;st=w,Ge=j;var ct=ue,ut=Te,rr=qe=[0];if((Kt=Ve=[Ve])[0]=0,8>Ge[0])Ge=7;else{if(!r(nt,st[0],"VP8X")){if(Je(nt,st[0]+4)!=10){Ge=3;break e}if(18>Ge[0]){Ge=7;break e}var Vt=Je(nt,st[0]+8),Tr=1+pt(nt,st[0]+12);if(2147483648<=Tr*(nt=1+pt(nt,st[0]+15))){Ge=3;break e}rr!=null&&(rr[0]=Vt),ct!=null&&(ct[0]=Tr),ut!=null&&(ut[0]=nt),st[0]+=18,Ge[0]-=18,Kt[0]=1}Ge=0}}if(Ve=Ve[0],qe=qe[0],Ge!=0)return Ge;if(st=!!(2&qe),!et&&Ve)return 3;if(X!=null&&(X[0]=!!(16&qe)),re!=null&&(re[0]=st),ae!=null&&(ae[0]=0),re=ue[0],qe=Te[0],Ve&&st&&se==null){Ge=0;break}if(4>j){Ge=7;break}if(et&&Ve||!et&&!Ve&&!r(v,w[0],"ALPH")){j=[j],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{Vt=v,Ge=w,et=j;var Kt=Re.gb;ct=Re.na,ut=Re.P,rr=Re.Sa,Tr=22,e(Vt!=null),e(et!=null),nt=Ge[0];var Kr=et[0];for(e(ct!=null),e(rr!=null),ct[0]=null,ut[0]=null,rr[0]=0;;){if(Ge[0]=nt,et[0]=Kr,8>Kr){Ge=7;break e}var ti=Je(Vt,nt+4);if(4294967286<ti){Ge=3;break e}var Or=8+ti+1&-2;if(Tr+=Or,0<Kt&&Tr>Kt){Ge=3;break e}if(!r(Vt,nt,"VP8 ")||!r(Vt,nt,"VP8L")){Ge=0;break e}if(Kr[0]<Or){Ge=7;break e}r(Vt,nt,"ALPH")||(ct[0]=Vt,ut[0]=nt+8,rr[0]=ti),nt+=Or,Kr-=Or}}if(j=j[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Ge!=0)break}j=[j],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(Kt=v,Ge=w,et=j,ct=Re.gb[0],ut=Re.Ja,rr=Re.xa,Vt=Ge[0],nt=!r(Kt,Vt,"VP8 "),Tr=!r(Kt,Vt,"VP8L"),e(Kt!=null),e(et!=null),e(ut!=null),e(rr!=null),8>et[0])Ge=7;else{if(nt||Tr){if(Kt=Je(Kt,Vt+4),12<=ct&&Kt>ct-12){Ge=3;break e}if(de&&Kt>et[0]-8){Ge=7;break e}ut[0]=Kt,Ge[0]+=8,et[0]-=8,rr[0]=Tr}else rr[0]=5<=et[0]&&Kt[Vt+0]==47&&!(Kt[Vt+4]>>5),ut[0]=et[0];Ge=0}if(j=j[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],w=w[0],Ge!=0)break;if(4294967286<Re.Ja)return 3;if(ae==null||st||(ae[0]=Re.xa?2:1),re=[re],qe=[qe],Re.xa){if(5>j){Ge=7;break}ae=re,de=qe,st=X,v==null||5>j?v=0:5<=j&&v[w+0]==47&&!(v[w+4]>>5)?(et=[0],Kt=[0],ct=[0],ve(ut=new ee,v,w,j),Sa(ut,et,Kt,ct)?(ae!=null&&(ae[0]=et[0]),de!=null&&(de[0]=Kt[0]),st!=null&&(st[0]=ct[0]),v=1):v=0):v=0}else{if(10>j){Ge=7;break}ae=qe,v==null||10>j||!sc(v,w+3,j-3)?v=0:(de=v[w+0]|v[w+1]<<8|v[w+2]<<16,st=16383&(v[w+7]<<8|v[w+6]),v=16383&(v[w+9]<<8|v[w+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=Re.Ja||!st||!v?v=0:(re&&(re[0]=st),ae&&(ae[0]=v),v=1))}if(!v||(re=re[0],qe=qe[0],Ve&&(ue[0]!=re||Te[0]!=qe)))return 3;se!=null&&(se[0]=Re,se.offset=w-se.w,e(4294967286>w-se.w),e(se.offset==se.ha-j));break}return Ge==0||Ge==7&&Ve&&se==null?(X!=null&&(X[0]|=Re.na!=null&&0<Re.na.length),F!=null&&(F[0]=re),V!=null&&(V[0]=qe),0):Ge}function ua(v,w,j){var F=w.width,V=w.height,X=0,re=0,ae=F,se=V;if(w.Da=v!=null&&0<v.Da,w.Da&&(ae=v.cd,se=v.bd,X=v.v,re=v.j,11>j||(X&=-2,re&=-2),0>X||0>re||0>=ae||0>=se||X+ae>F||re+se>V))return 0;if(w.v=X,w.j=re,w.va=X+ae,w.o=re+se,w.U=ae,w.T=se,w.da=v!=null&&0<v.da,w.da){if(!nr(ae,se,j=[v.ib],X=[v.hb]))return 0;w.ib=j[0],w.hb=X[0]}return w.ob=v!=null&&v.ob,w.Kb=v==null||!v.Sd,w.da&&(w.ob=w.ib<3*F/4&&w.hb<3*V/4,w.Kb=0),1}function xi(v){if(v==null)return 2;if(11>v.S){var w=v.f.RGBA;w.fb+=(v.height-1)*w.A,w.A=-w.A}else w=v.f.kb,v=v.height,w.O+=(v-1)*w.fa,w.fa=-w.fa,w.N+=(v-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(v-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(v-1)*w.lb,w.lb=-w.lb);return 0}function Ki(v,w,j,F){if(F==null||0>=v||0>=w)return 2;if(j!=null){if(j.Da){var V=j.cd,X=j.bd,re=-2&j.v,ae=-2&j.j;if(0>re||0>ae||0>=V||0>=X||re+V>v||ae+X>w)return 2;v=V,w=X}if(j.da){if(!nr(v,w,V=[j.ib],X=[j.hb]))return 2;v=V[0],w=X[0]}}F.width=v,F.height=w;e:{var se=F.width,ue=F.height;if(v=F.S,0>=se||0>=ue||!(v>=Ed&&13>v))v=2;else{if(0>=F.Rd&&F.sd==null){re=X=V=w=0;var Te=(ae=se*Ku[v])*ue;if(11>v||(X=(ue+1)/2*(w=(se+1)/2),v==12&&(re=(V=se)*ue)),(ue=a(Te+2*X+re))==null){v=1;break e}F.sd=ue,11>v?((se=F.f.RGBA).eb=ue,se.fb=0,se.A=ae,se.size=Te):((se=F.f.kb).y=ue,se.O=0,se.fa=ae,se.Fd=Te,se.f=ue,se.N=0+Te,se.Ab=w,se.Cd=X,se.ea=ue,se.W=0+Te+X,se.Db=w,se.Ed=X,v==12&&(se.F=ue,se.J=0+Te+2*X),se.Tc=re,se.lb=V)}if(w=1,V=F.S,X=F.width,re=F.height,V>=Ed&&13>V)if(11>V)v=F.f.RGBA,w&=(ae=Math.abs(v.A))*(re-1)+X<=v.size,w&=ae>=X*Ku[V],w&=v.eb!=null;else{v=F.f.kb,ae=(X+1)/2,Te=(re+1)/2,se=Math.abs(v.fa),ue=Math.abs(v.Ab);var Ve=Math.abs(v.Db),de=Math.abs(v.lb),Re=de*(re-1)+X;w&=se*(re-1)+X<=v.Fd,w&=ue*(Te-1)+ae<=v.Cd,w=(w&=Ve*(Te-1)+ae<=v.Ed)&se>=X&ue>=ae&Ve>=ae,w&=v.y!=null,w&=v.f!=null,w&=v.ea!=null,V==12&&(w&=de>=X,w&=Re<=v.Tc,w&=v.F!=null)}else w=0;v=w?0:2}}return v!=0||j!=null&&j.fd&&(v=xi(F)),v}var Vr=64,Cs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Yi=24,Fo=32,Dn=8,pc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(v){return v},H.Predictor2=function(v,w,j){return w[j+0]},H.Predictor3=function(v,w,j){return w[j+1]},H.Predictor4=function(v,w,j){return w[j-1]},H.Predictor5=function(v,w,j){return at(at(v,w[j+1]),w[j+0])},H.Predictor6=function(v,w,j){return at(v,w[j-1])},H.Predictor7=function(v,w,j){return at(v,w[j+0])},H.Predictor8=function(v,w,j){return at(w[j-1],w[j+0])},H.Predictor9=function(v,w,j){return at(w[j+0],w[j+1])},H.Predictor10=function(v,w,j){return at(at(v,w[j-1]),at(w[j+0],w[j+1]))},H.Predictor11=function(v,w,j){var F=w[j+0];return 0>=mt(F>>24&255,v>>24&255,(w=w[j-1])>>24&255)+mt(F>>16&255,v>>16&255,w>>16&255)+mt(F>>8&255,v>>8&255,w>>8&255)+mt(255&F,255&v,255&w)?F:v},H.Predictor12=function(v,w,j){var F=w[j+0];return(dt((v>>24&255)+(F>>24&255)-((w=w[j-1])>>24&255))<<24|dt((v>>16&255)+(F>>16&255)-(w>>16&255))<<16|dt((v>>8&255)+(F>>8&255)-(w>>8&255))<<8|dt((255&v)+(255&F)-(255&w)))>>>0},H.Predictor13=function(v,w,j){var F=w[j-1];return(tt((v=at(v,w[j+0]))>>24&255,F>>24&255)<<24|tt(v>>16&255,F>>16&255)<<16|tt(v>>8&255,F>>8&255)<<8|tt(255&v,255&F))>>>0};var ei=H.PredictorAdd0;H.PredictorAdd1=Mt,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Ji=H.PredictorAdd2;Ot("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var As,da=H.ColorIndexInverseTransform,nl=H.MapARGB,b=H.VP8LColorIndexInverseTransformAlpha,S=H.MapAlpha,I=H.VP8LPredictorsAdd=[];I.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var B,$,Z,ce,xe,Ae,Pe,Le,Ne,Ue,je,Me,$e,Oe,Ke,Qe,Ze,ot,xt,Ct,wt,kt,Pt,Nt,Lt,Cr,jr,Rr,fa=a(511),_r=a(2041),wi=a(225),Si=a(767),Ol=0,Ln=_r,ts=wi,Ti=Si,Gs=fa,Ed=0,Fl=1,Ap=2,Uu=3,$u=4,Nn=5,Pd=6,Wc=7,mc=8,qu=9,Wu=10,Vu=[2,3,7],jd=[3,3,11],gc=[280,256,256,256,40],Ep=[0,1,1,1,0],xv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Pp=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Id=8,Vc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Hu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vc=null,th=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ip=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Sv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_v=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$a=[],Ks=[],rs=[],Mo=1,Hc=2,Aa=[],ns=[];Xa("UpsampleRgbLinePair",es,3),Xa("UpsampleBgrLinePair",Dl,3),Xa("UpsampleRgbaLinePair",qc,4),Xa("UpsampleBgraLinePair",tl,4),Xa("UpsampleArgbLinePair",hc,4),Xa("UpsampleRgba4444LinePair",ca,2),Xa("UpsampleRgb565LinePair",Ll,2);var kv=H.UpsampleRgbLinePair,Nv=H.UpsampleBgrLinePair,Ml=H.UpsampleRgbaLinePair,Gc=H.UpsampleBgraLinePair,yc=H.UpsampleArgbLinePair,Gu=H.UpsampleRgba4444LinePair,ih=H.UpsampleRgb565LinePair,il=16,ho=1<<il-1,vn=-227,Sn=482,Bl=6,ha=0,is=a(256),bc=a(256),Kc=a(256),as=a(256),Td=a(Sn-vn),Tp=a(Sn-vn);Gi("YuvToRgbRow",es,3),Gi("YuvToBgrRow",Dl,3),Gi("YuvToRgbaRow",qc,4),Gi("YuvToBgraRow",tl,4),Gi("YuvToArgbRow",hc,4),Gi("YuvToRgba4444Row",ca,2),Gi("YuvToRgb565Row",Ll,2);var ah=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],xc=[0,2,8],Dp=[8,7,6,4,4,2,2,2,1,1,1,1],al=1;this.WebPDecodeRGBA=function(v,w,j,F,V){var X=Fl,re=new $t,ae=new Qr;re.ba=ae,ae.S=X,ae.width=[ae.width],ae.height=[ae.height];var se=ae.width,ue=ae.height,Te=new mr;if(Te==null||v==null)var Ve=2;else e(Te!=null),Ve=rl(v,w,j,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Ve!=0?se=0:(se!=null&&(se[0]=Te.width[0]),ue!=null&&(ue[0]=Te.height[0]),se=1),se){ae.width=ae.width[0],ae.height=ae.height[0],F!=null&&(F[0]=ae.width),V!=null&&(V[0]=ae.height);e:{if(F=new dr,(V=new qt).data=v,V.w=w,V.ha=j,V.kd=1,w=[0],e(V!=null),((v=rl(V.data,V.w,V.ha,null,null,null,w,null,V))==0||v==7)&&w[0]&&(v=4),(w=v)==0){if(e(re!=null),F.data=V.data,F.w=V.w+V.offset,F.ha=V.ha-V.offset,F.put=ir,F.ac=ji,F.bc=na,F.ma=re,V.xa){if((v=_a())==null){re=1;break e}if(function(de,Re){var qe=[0],st=[0],Ge=[0];t:for(;;){if(de==null)return 0;if(Re==null)return de.a=2,0;if(de.l=Re,de.a=0,ve(de.m,Re.data,Re.w,Re.ha),!Sa(de.m,qe,st,Ge)){de.a=3;break t}if(de.xb=Hc,Re.width=qe[0],Re.height=st[0],!Ka(qe[0],st[0],1,de,null))break t;return 1}return e(de.a!=0),0}(v,F)){if(F=(w=Ki(F.width,F.height,re.Oa,re.ba))==0){t:{F=v;r:for(;;){if(F==null){F=0;break t}if(e(F.s.yc!=null),e(F.s.Ya!=null),e(0<F.s.Wb),e((j=F.l)!=null),e((V=j.ma)!=null),F.xb!=0){if(F.ca=V.ba,F.tb=V.tb,e(F.ca!=null),!ua(V.Oa,j,Uu)){F.a=2;break r}if(!ka(F,j.width)||j.da)break r;if((j.da||pr(F.ca.S))&&uo(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&uo()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!ye(F.s.vb,F.s.Wa.Xa)){F.a=1;break r}F.xb=0}if(!aa(F,F.V,F.Ba,F.c,F.i,j.o,jo))break r;V.Dc=F.Ma,F=1;break t}e(F.a!=0),F=0}F=!F}F&&(w=v.a)}else w=v.a}else{if((v=new Uc)==null){re=1;break e}if(v.Fa=V.na,v.P=V.P,v.qc=V.Sa,nn(v,F)){if((w=Ki(F.width,F.height,re.Oa,re.ba))==0){if(v.Aa=0,j=re.Oa,e((V=v)!=null),j!=null){if(0<(se=0>(se=j.Md)?0:100<se?255:255*se/100)){for(ue=Te=0;4>ue;++ue)12>(Ve=V.pb[ue]).lc&&(Ve.ia=se*Dp[0>Ve.lc?0:Ve.lc]>>3),Te|=Ve.ia;Te&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=j.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(de,Re){if(de==null)return 0;if(Re==null)return Kn(de,2,"NULL VP8Io parameter in VP8Decode().");if(!de.cb&&!nn(de,Re))return 0;if(e(de.cb),Re.ac==null||Re.ac(Re)){Re.ob&&(de.L=0);var qe=xc[de.L];if(de.L==2?(de.yb=0,de.zb=0):(de.yb=Re.v-qe>>4,de.zb=Re.j-qe>>4,0>de.yb&&(de.yb=0),0>de.zb&&(de.zb=0)),de.Va=Re.o+15+qe>>4,de.Hb=Re.va+15+qe>>4,de.Hb>de.za&&(de.Hb=de.za),de.Va>de.Ub&&(de.Va=de.Ub),0<de.L){var st=de.ed;for(qe=0;4>qe;++qe){var Ge;if(de.Qa.Cb){var et=de.Qa.Lb[qe];de.Qa.Fb||(et+=st.Tb)}else et=st.Tb;for(Ge=0;1>=Ge;++Ge){var nt=de.gd[qe][Ge],ct=et;if(st.Pc&&(ct+=st.vd[0],Ge&&(ct+=st.od[0])),0<(ct=0>ct?0:63<ct?63:ct)){var ut=ct;0<st.wb&&(ut=4<st.wb?ut>>2:ut>>1)>9-st.wb&&(ut=9-st.wb),1>ut&&(ut=1),nt.dd=ut,nt.tc=2*ct+ut,nt.ld=40<=ct?2:15<=ct?1:0}else nt.tc=0;nt.La=Ge}}}qe=0}else Kn(de,6,"Frame setup failed"),qe=de.a;if(qe=qe==0){if(qe){de.$c=0,0<de.Aa||(de.Ic=al);t:{qe=de.Ic,st=4*(ut=de.za);var rr=32*ut,Vt=ut+1,Tr=0<de.L?ut*(0<de.Aa?2:1):0,Kt=(de.Aa==2?2:1)*ut;if((nt=st+832+(Ge=3*(16*qe+xc[de.L])/2*rr)+(et=de.Fa!=null&&0<de.Fa.length?de.Kc.c*de.Kc.i:0))!=nt)qe=0;else{if(nt>de.Vb){if(de.Vb=0,de.Ec=a(nt),de.Fc=0,de.Ec==null){qe=Kn(de,1,"no memory during frame initialization.");break t}de.Vb=nt}nt=de.Ec,ct=de.Fc,de.Ac=nt,de.Bc=ct,ct+=st,de.Gd=o(rr,qi),de.Hd=0,de.rb=o(Vt+1,zs),de.sb=1,de.wa=Tr?o(Tr,$i):null,de.Y=0,de.D.Nb=0,de.D.wa=de.wa,de.D.Y=de.Y,0<de.Aa&&(de.D.Y+=ut),e(!0),de.oc=nt,de.pc=ct,ct+=832,de.ya=o(Kt,Ya),de.aa=0,de.D.ya=de.ya,de.D.aa=de.aa,de.Aa==2&&(de.D.aa+=ut),de.R=16*ut,de.B=8*ut,ut=(rr=xc[de.L])*de.R,rr=rr/2*de.B,de.sa=nt,de.ta=ct+ut,de.qa=de.sa,de.ra=de.ta+16*qe*de.R+rr,de.Ha=de.qa,de.Ia=de.ra+8*qe*de.B+rr,de.$c=0,ct+=Ge,de.mb=et?nt:null,de.nb=et?ct:null,e(ct+et<=de.Fc+de.Vb),sa(de),i(de.Ac,de.Bc,0,st),qe=1}}if(qe){if(Re.ka=0,Re.y=de.sa,Re.O=de.ta,Re.f=de.qa,Re.N=de.ra,Re.ea=de.Ha,Re.Vd=de.Ia,Re.fa=de.R,Re.Rc=de.B,Re.F=null,Re.J=0,!Ol){for(qe=-255;255>=qe;++qe)fa[255+qe]=0>qe?-qe:qe;for(qe=-1020;1020>=qe;++qe)_r[1020+qe]=-128>qe?-128:127<qe?127:qe;for(qe=-112;112>=qe;++qe)wi[112+qe]=-16>qe?-16:15<qe?15:qe;for(qe=-255;510>=qe;++qe)Si[255+qe]=0>qe?0:255<qe?255:qe;Ol=1}Pe=rn,Le=Do,Ue=Lo,je=Na,Me=Qo,Ne=oc,$e=A,Oe=q,Ke=Be,Qe=lt,Ze=fe,ot=Ee,xt=ft,Ct=Ft,wt=Za,kt=co,Pt=qs,Nt=Oo,Ks[0]=cc,Ks[1]=Ro,Ks[2]=xs,Ks[3]=Ca,Ks[4]=ws,Ks[5]=yi,Ks[6]=Ba,Ks[7]=Il,Ks[8]=so,Ks[9]=Zo,$a[0]=vi,$a[1]=$c,$a[2]=Vi,$a[3]=ys,$a[4]=bs,$a[5]=oa,$a[6]=on,rs[0]=_s,rs[1]=lc,rs[2]=oo,rs[3]=za,rs[4]=uc,rs[5]=$s,rs[6]=dc,qe=1}else qe=0}qe&&(qe=function(Kr,ti){for(Kr.M=0;Kr.M<Kr.Va;++Kr.M){var Or,Ht=Kr.Jc[Kr.M&Kr.Xb],It=Kr.m,ui=Kr;for(Or=0;Or<ui.za;++Or){var kr=It,Hr=ui,Rn=Hr.Ac,Qi=Hr.Bc+4*Or,_i=Hr.zc,Yn=Hr.ya[Hr.aa+Or];if(Hr.Qa.Bb?Yn.$b=ze(kr,Hr.Pa.jb[0])?2+ze(kr,Hr.Pa.jb[2]):ze(kr,Hr.Pa.jb[1]):Yn.$b=0,Hr.kc&&(Yn.Ad=ze(kr,Hr.Bd)),Yn.Za=!ze(kr,145)+0,Yn.Za){var Di=Yn.Ob,Zi=0;for(Hr=0;4>Hr;++Hr){var Wn,Xr=_i[0+Hr];for(Wn=0;4>Wn;++Wn){Xr=Sv[Rn[Qi+Wn]][Xr];for(var ln=jp[ze(kr,Xr[0])];0<ln;)ln=jp[2*ln+ze(kr,Xr[ln])];Xr=-ln,Rn[Qi+Wn]=Xr}n(Di,Zi,Rn,Qi,4),Zi+=4,_i[0+Hr]=Xr}}else Xr=ze(kr,156)?ze(kr,128)?1:3:ze(kr,163)?2:0,Yn.Ob[0]=Xr,i(Rn,Qi,Xr,4),i(_i,0,Xr,4);Yn.Dd=ze(kr,142)?ze(kr,114)?ze(kr,183)?1:3:2:0}if(ui.m.Ka)return Kn(Kr,7,"Premature end-of-partition0 encountered.");for(;Kr.ja<Kr.za;++Kr.ja){if(ui=Ht,kr=(It=Kr).rb[It.sb-1],Rn=It.rb[It.sb+It.ja],Or=It.ya[It.aa+It.ja],Qi=It.kc?Or.Ad:0)kr.la=Rn.la=0,Or.Za||(kr.Na=Rn.Na=0),Or.Hc=0,Or.Gc=0,Or.ia=0;else{var Vn,cn;if(kr=Rn,Rn=ui,Qi=It.Pa.Xc,_i=It.ya[It.aa+It.ja],Yn=It.pb[_i.$b],Hr=_i.ad,Di=0,Zi=It.rb[It.sb-1],Xr=Wn=0,i(Hr,Di,0,384),_i.Za)var ri=0,ni=Qi[3];else{ln=a(16);var Cn=kr.Na+Zi.Na;if(Cn=vc(Rn,Qi[1],Cn,Yn.Eb,0,ln,0),kr.Na=Zi.Na=(0<Cn)+0,1<Cn)Pe(ln,0,Hr,Di);else{var Ea=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)Hr[Di+ln]=Ea}ri=1,ni=Qi[0]}var _n=15&kr.la,An=15&Zi.la;for(ln=0;4>ln;++ln){var ki=1&An;for(Ea=cn=0;4>Ea;++Ea)_n=_n>>1|(ki=(Cn=vc(Rn,ni,Cn=ki+(1&_n),Yn.Sc,ri,Hr,Di))>ri)<<7,cn=cn<<2|(3<Cn?3:1<Cn?2:Hr[Di+0]!=0),Di+=16;_n>>=4,An=An>>1|ki<<7,Wn=(Wn<<8|cn)>>>0}for(ni=_n,ri=An>>4,Vn=0;4>Vn;Vn+=2){for(cn=0,_n=kr.la>>4+Vn,An=Zi.la>>4+Vn,ln=0;2>ln;++ln){for(ki=1&An,Ea=0;2>Ea;++Ea)Cn=ki+(1&_n),_n=_n>>1|(ki=0<(Cn=vc(Rn,Qi[2],Cn,Yn.Qc,0,Hr,Di)))<<3,cn=cn<<2|(3<Cn?3:1<Cn?2:Hr[Di+0]!=0),Di+=16;_n>>=2,An=An>>1|ki<<5}Xr|=cn<<4*Vn,ni|=_n<<4<<Vn,ri|=(240&An)<<Vn}kr.la=ni,Zi.la=ri,_i.Hc=Wn,_i.Gc=Xr,_i.ia=43690&Xr?0:Yn.ia,Qi=!(Wn|Xr)}if(0<It.L&&(It.wa[It.Y+It.ja]=It.gd[Or.$b][Or.Za],It.wa[It.Y+It.ja].La|=!Qi),ui.Ka)return Kn(Kr,7,"Premature end-of-file encountered.")}if(sa(Kr),It=ti,ui=1,Or=(Ht=Kr).D,kr=0<Ht.L&&Ht.M>=Ht.zb&&Ht.M<=Ht.Va,Ht.Aa==0)t:{if(Or.M=Ht.M,Or.uc=kr,fo(Ht,Or),ui=1,Or=(cn=Ht.D).Nb,kr=(Xr=xc[Ht.L])*Ht.R,Rn=Xr/2*Ht.B,ln=16*Or*Ht.R,Ea=8*Or*Ht.B,Qi=Ht.sa,_i=Ht.ta-kr+ln,Yn=Ht.qa,Hr=Ht.ra-Rn+Ea,Di=Ht.Ha,Zi=Ht.Ia-Rn+Ea,An=(_n=cn.M)==0,Wn=_n>=Ht.Va-1,Ht.Aa==2&&fo(Ht,cn),cn.uc)for(ki=(Cn=Ht).D.M,e(Cn.D.uc),cn=Cn.yb;cn<Cn.Hb;++cn){ri=cn,ni=ki;var pa=(ss=(hi=Cn).D).Nb;Vn=hi.R;var ss=ss.wa[ss.Y+ri],di=hi.sa,fi=hi.ta+16*pa*Vn+16*ri,Pa=ss.dd,En=ss.tc;if(En!=0)if(e(3<=En),hi.L==1)0<ri&&kt(di,fi,Vn,En+4),ss.La&&Nt(di,fi,Vn,En),0<ni&&wt(di,fi,Vn,En+4),ss.La&&Pt(di,fi,Vn,En);else{var ja=hi.B,Ys=hi.qa,po=hi.ra+8*pa*ja+8*ri,Xi=hi.Ha,hi=hi.Ia+8*pa*ja+8*ri;pa=ss.ld,0<ri&&(Oe(di,fi,Vn,En+4,Pa,pa),Qe(Ys,po,Xi,hi,ja,En+4,Pa,pa)),ss.La&&(ot(di,fi,Vn,En,Pa,pa),Ct(Ys,po,Xi,hi,ja,En,Pa,pa)),0<ni&&($e(di,fi,Vn,En+4,Pa,pa),Ke(Ys,po,Xi,hi,ja,En+4,Pa,pa)),ss.La&&(Ze(di,fi,Vn,En,Pa,pa),xt(Ys,po,Xi,hi,ja,En,Pa,pa))}}if(Ht.ia&&alert("todo:DitherRow"),It.put!=null){if(cn=16*_n,_n=16*(_n+1),An?(It.y=Ht.sa,It.O=Ht.ta+ln,It.f=Ht.qa,It.N=Ht.ra+Ea,It.ea=Ht.Ha,It.W=Ht.Ia+Ea):(cn-=Xr,It.y=Qi,It.O=_i,It.f=Yn,It.N=Hr,It.ea=Di,It.W=Zi),Wn||(_n-=Xr),_n>It.o&&(_n=It.o),It.F=null,It.J=null,Ht.Fa!=null&&0<Ht.Fa.length&&cn<_n&&(It.J=ci(Ht,It,cn,_n-cn),It.F=Ht.mb,It.F==null&&It.F.length==0)){ui=Kn(Ht,3,"Could not decode alpha data.");break t}cn<It.j&&(Xr=It.j-cn,cn=It.j,e(!(1&Xr)),It.O+=Ht.R*Xr,It.N+=Ht.B*(Xr>>1),It.W+=Ht.B*(Xr>>1),It.F!=null&&(It.J+=It.width*Xr)),cn<_n&&(It.O+=It.v,It.N+=It.v>>1,It.W+=It.v>>1,It.F!=null&&(It.J+=It.v),It.ka=cn-It.j,It.U=It.va-It.v,It.T=_n-cn,ui=It.put(It))}Or+1!=Ht.Ic||Wn||(n(Ht.sa,Ht.ta-kr,Qi,_i+16*Ht.R,kr),n(Ht.qa,Ht.ra-Rn,Yn,Hr+8*Ht.B,Rn),n(Ht.Ha,Ht.Ia-Rn,Di,Zi+8*Ht.B,Rn))}if(!ui)return Kn(Kr,6,"Output aborted.")}return 1}(de,Re)),Re.bc!=null&&Re.bc(Re),qe&=1}return qe?(de.cb=0,qe):0})(v,F)||(w=v.a)}}else w=v.a}w==0&&re.Oa!=null&&re.Oa.fd&&(w=xi(re.ba))}re=w}X=re!=0?null:11>X?ae.f.RGBA.eb:ae.f.kb.y}else X=null;return X};var Ku=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(H,oe){for(var z="",U=0;U<4;U++)z+=String.fromCharCode(H[oe++]);return z}function f(H,oe){return H[oe+0]|H[oe+1]<<8}function m(H,oe){return(H[oe+0]|H[oe+1]<<8|H[oe+2]<<16)>>>0}function y(H,oe){return(H[oe+0]|H[oe+1]<<8|H[oe+2]<<16|H[oe+3]<<24)>>>0}new u;var g=[0],k=[0],_=[],N=new u,E=t,T=function(H,oe){var z={},U=0,W=!1,Y=0,be=0;if(z.frames=[],!function(O,ee){for(var ne=0;ne<4;ne++)if(O[ee+ne]!="RIFF".charCodeAt(ne))return!0;return!1}(H,oe)){for(y(H,oe+=4),oe+=8;oe<H.length;){var he=d(H,oe),ge=y(H,oe+=4);oe+=4;var ie=ge+(1&ge);switch(he){case"VP8 ":case"VP8L":z.frames[U]===void 0&&(z.frames[U]={}),(te=z.frames[U]).src_off=W?be:oe-8,te.src_size=Y+ge+8,U++,W&&(W=!1,Y=0,be=0);break;case"VP8X":(te=z.header={}).feature_flags=H[oe];var ve=oe+4;te.canvas_width=1+m(H,ve),ve+=3,te.canvas_height=1+m(H,ve),ve+=3;break;case"ALPH":W=!0,Y=ie+8,be=oe-8;break;case"ANIM":(te=z.header).bgcolor=y(H,oe),ve=oe+4,te.loop_count=f(H,ve),ve+=2;break;case"ANMF":var _e,te;(te=z.frames[U]={}).offset_x=2*m(H,oe),oe+=3,te.offset_y=2*m(H,oe),oe+=3,te.width=1+m(H,oe),oe+=3,te.height=1+m(H,oe),oe+=3,te.duration=m(H,oe),oe+=3,_e=H[oe++],te.dispose=1&_e,te.blend=_e>>1&1}he!="ANMF"&&(oe+=ie)}return z}}(E,0);T.response=E,T.rgbaoutput=!0,T.dataurl=!1;var P=T.header?T.header:null,R=T.frames?T.frames:null;if(P){P.loop_counter=P.loop_count,g=[P.canvas_height],k=[P.canvas_width];for(var M=0;M<R.length&&R[M].blend!=0;M++);}var Q=R[0],K=N.WebPDecodeRGBA(E,Q.src_off,Q.src_size,k,g);Q.rgba=K,Q.imgwidth=k[0],Q.imgheight=g[0];for(var G=0;G<k[0]*g[0]*4;G++)_[G]=K[G];return this.width=k,this.height=g,this.data=_,this}(function(t){var e,r,n,i,a,o,l,u,d,f=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new u,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var m=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ee=O;Object.defineProperty(this,"pdf",{get:function(){return ee}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(Je){ne=!!Je}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(Je){le=!!Je}});var we=0;Object.defineProperty(this,"posX",{get:function(){return we},set:function(Je){isNaN(Je)||(we=Je)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Je){isNaN(Je)||(me=Je)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Je){var ye;typeof Je=="number"?ye=[Je,Je,Je,Je]:((ye=new Array(4))[0]=Je[0],ye[1]=Je.length>=2?Je[1]:ye[0],ye[2]=Je.length>=3?Je[2]:ye[0],ye[3]=Je.length>=4?Je[3]:ye[1]),d.margin=ye}});var Ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ie},set:function(Je){Ie=Je}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(Je){Se=Je}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(Je){ze=Je}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Je){Je instanceof f&&(d=Je)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Je){d.path=Je}});var rt=[];Object.defineProperty(this,"ctxStack",{get:function(){return rt},set:function(Je){rt=Je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Je){var ye;ye=y(Je),this.ctx.fillStyle=ye.style,this.ctx.isFillTransparent=ye.a===0,this.ctx.fillOpacity=ye.a,this.pdf.setFillColor(ye.r,ye.g,ye.b,{a:ye.a}),this.pdf.setTextColor(ye.r,ye.g,ye.b,{a:ye.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Je){var ye=y(Je);this.ctx.strokeStyle=ye.style,this.ctx.isStrokeTransparent=ye.a===0,this.ctx.strokeOpacity=ye.a,ye.a===0?this.pdf.setDrawColor(255,255,255):(ye.a,this.pdf.setDrawColor(ye.r,ye.g,ye.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Je){["butt","round","square"].indexOf(Je)!==-1&&(this.ctx.lineCap=Je,this.pdf.setLineCap(Je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Je){isNaN(Je)||(this.ctx.lineWidth=Je,this.pdf.setLineWidth(Je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Je){["bevel","round","miter"].indexOf(Je)!==-1&&(this.ctx.lineJoin=Je,this.pdf.setLineJoin(Je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Je){isNaN(Je)||(this.ctx.miterLimit=Je,this.pdf.setMiterLimit(Je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Je){this.ctx.textBaseline=Je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Je){["right","end","center","left","start"].indexOf(Je)!==-1&&(this.ctx.textAlign=Je)}});var it=null,pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(Je){it=null,pt=Je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Je){var ye;if(this.ctx.font=Je,(ye=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Je))!==null){var br=ye[1];ye[2];var lr=ye[3],nr=ye[4];ye[5];var gt=ye[6],pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(nr)[2];nr=Math.floor(pe==="px"?parseFloat(nr)*this.pdf.internal.scaleFactor:pe==="em"?parseFloat(nr)*this.pdf.getFontSize():parseFloat(nr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(nr);var Ce=function(Qt){var Ot,Gr,zr=[],Ut=Qt.trim();if(Ut==="")return gy;if(Ut in g_)return[g_[Ut]];for(;Ut!=="";){switch(Gr=null,Ot=(Ut=y_(Ut)).charAt(0)){case'"':case"'":Gr=nV(Ut.substring(1),Ot);break;default:Gr=iV(Ut)}if(Gr===null||(zr.push(Gr[0]),(Ut=y_(Gr[1]))!==""&&Ut.charAt(0)!==","))return gy;Ut=Ut.replace(/^,/,"")}return zr}(gt);if(this.fontFaces){var We=function(Qt,Ot){if(it===null){var Gr=function(zr){var Ut=[];return Object.keys(zr).forEach(function(cr){zr[cr].forEach(function(_t){var Zt=null;switch(_t){case"bold":Zt={family:cr,weight:"bold"};break;case"italic":Zt={family:cr,style:"italic"};break;case"bolditalic":Zt={family:cr,weight:"bold",style:"italic"};break;case"":case"normal":Zt={family:cr}}Zt!==null&&(Zt.ref={name:cr,style:_t},Ut.push(Zt))})}),Ut}(Qt.getFontList());it=function(zr){for(var Ut={},cr=0;cr<zr.length;++cr){var _t=my(zr[cr]),Zt=_t.family,Sr=_t.stretch,pr=_t.style,bt=_t.weight;Ut[Zt]=Ut[Zt]||{},Ut[Zt][Sr]=Ut[Zt][Sr]||{},Ut[Zt][Sr][pr]=Ut[Zt][Sr][pr]||{},Ut[Zt][Sr][pr][bt]=_t}return Ut}(Gr.concat(Ot))}return it}(this.pdf,this.fontFaces),at=Ce.map(function(Qt){return{family:Qt,stretch:"normal",weight:lr,style:br}}),dt=function(Qt,Ot,Gr){for(var zr=(Gr=Gr||{}).defaultFontFamily||"times",Ut=Object.assign({},rV,Gr.genericFontFamilies||{}),cr=null,_t=null,Zt=0;Zt<Ot.length;++Zt)if(Ut[(cr=my(Ot[Zt])).family]&&(cr.family=Ut[cr.family]),Qt.hasOwnProperty(cr.family)){_t=Qt[cr.family];break}if(!(_t=_t||Qt[zr]))throw new Error("Could not find a font-family for the rule '"+v_(cr)+"' and default family '"+zr+"'.");if(_t=function(Sr,pr){if(pr[Sr])return pr[Sr];var bt=k1[Sr],bn=bt<=k1.normal?-1:1,Qr=m_(pr,cE,bt,bn);if(!Qr)throw new Error("Could not find a matching font-stretch value for "+Sr);return Qr}(cr.stretch,_t),_t=function(Sr,pr){if(pr[Sr])return pr[Sr];for(var bt=lE[Sr],bn=0;bn<bt.length;++bn)if(pr[bt[bn]])return pr[bt[bn]];throw new Error("Could not find a matching font-style for "+Sr)}(cr.style,_t),!(_t=function(Sr,pr){if(pr[Sr])return pr[Sr];if(Sr===400&&pr[500])return pr[500];if(Sr===500&&pr[400])return pr[400];var bt=tV[Sr],bn=m_(pr,uE,bt,Sr<400?-1:1);if(!bn)throw new Error("Could not find a matching font-weight for value "+Sr);return bn}(cr.weight,_t)))throw new Error("Failed to resolve a font for the rule '"+v_(cr)+"'.");return _t}(We,at);this.pdf.setFont(dt.ref.name,dt.ref.style)}else{var tt="";(lr==="bold"||parseInt(lr,10)>=700||br==="bold")&&(tt="bold"),br==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var mt="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Tt=0;Tt<Ce.length;Tt++){if(this.pdf.internal.getFont(Ce[Tt],tt,{noFallback:!0,disableWarning:!0})!==void 0){mt=Ce[Tt];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(Ce[Tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=Ce[Tt],tt="bold";else if(this.pdf.internal.getFont(Ce[Tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=Ce[Tt],tt="normal";break}}if(mt===""){for(var Dt=0;Dt<Ce.length;Dt++)if(Mt[Ce[Dt]]){mt=Mt[Ce[Dt]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Je){this.ctx.globalCompositeOperation=Je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Je){this.ctx.globalAlpha=Je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Je){this.ctx.lineDashOffset=Je,te.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Je){this.ctx.lineDash=Je,te.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Je){this.ctx.ignoreClearRect=!!Je}})};m.prototype.setLineDash=function(O){this.lineDash=O},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){R.call(this,"fill",!1)},m.prototype.stroke=function(){R.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(O,ee){if(isNaN(O)||isNaN(ee))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new o(O,ee));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(O,ee)},m.prototype.closePath=function(){var O=new o(0,0),ee=0;for(ee=this.path.length-1;ee!==-1;ee--)if(this.path[ee].type==="begin"&&pn(this.path[ee+1])==="object"&&typeof this.path[ee+1].x=="number"){O=new o(this.path[ee+1].x,this.path[ee+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},m.prototype.lineTo=function(O,ee){if(isNaN(O)||isNaN(ee))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new o(O,ee));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},m.prototype.quadraticCurveTo=function(O,ee,ne,le){if(isNaN(ne)||isNaN(le)||isNaN(O)||isNaN(ee))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var we=this.ctx.transform.applyToPoint(new o(ne,le)),me=this.ctx.transform.applyToPoint(new o(O,ee));this.path.push({type:"qct",x1:me.x,y1:me.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},m.prototype.bezierCurveTo=function(O,ee,ne,le,we,me){if(isNaN(we)||isNaN(me)||isNaN(O)||isNaN(ee)||isNaN(ne)||isNaN(le))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ie=this.ctx.transform.applyToPoint(new o(we,me)),Se=this.ctx.transform.applyToPoint(new o(O,ee)),ze=this.ctx.transform.applyToPoint(new o(ne,le));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:ze.x,y2:ze.y,x:Ie.x,y:Ie.y}),this.ctx.lastPoint=new o(Ie.x,Ie.y)},m.prototype.arc=function(O,ee,ne,le,we,me){if(isNaN(O)||isNaN(ee)||isNaN(ne)||isNaN(le)||isNaN(we))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Ie=this.ctx.transform.applyToPoint(new o(O,ee));O=Ie.x,ee=Ie.y;var Se=this.ctx.transform.applyToPoint(new o(0,ne)),ze=this.ctx.transform.applyToPoint(new o(0,0));ne=Math.sqrt(Math.pow(Se.x-ze.x,2)+Math.pow(Se.y-ze.y,2))}Math.abs(we-le)>=2*Math.PI&&(le=0,we=2*Math.PI),this.path.push({type:"arc",x:O,y:ee,radius:ne,startAngle:le,endAngle:we,counterclockwise:me})},m.prototype.arcTo=function(O,ee,ne,le,we){throw new Error("arcTo not implemented.")},m.prototype.rect=function(O,ee,ne,le){if(isNaN(O)||isNaN(ee)||isNaN(ne)||isNaN(le))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,ee),this.lineTo(O+ne,ee),this.lineTo(O+ne,ee+le),this.lineTo(O,ee+le),this.lineTo(O,ee),this.lineTo(O+ne,ee),this.lineTo(O,ee)},m.prototype.fillRect=function(O,ee,ne,le){if(isNaN(O)||isNaN(ee)||isNaN(ne)||isNaN(le))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var we={};this.lineCap!=="butt"&&(we.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(we.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,ee,ne,le),this.fill(),we.hasOwnProperty("lineCap")&&(this.lineCap=we.lineCap),we.hasOwnProperty("lineJoin")&&(this.lineJoin=we.lineJoin)}},m.prototype.strokeRect=function(O,ee,ne,le){if(isNaN(O)||isNaN(ee)||isNaN(ne)||isNaN(le))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(O,ee,ne,le),this.stroke())},m.prototype.clearRect=function(O,ee,ne,le){if(isNaN(O)||isNaN(ee)||isNaN(ne)||isNaN(le))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,ee,ne,le))},m.prototype.save=function(O){O=typeof O!="boolean"||O;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(ee),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},m.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(ee),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(O){var ee,ne,le,we;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))ee=0,ne=0,le=0,we=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(me!==null)ee=parseInt(me[1]),ne=parseInt(me[2]),le=parseInt(me[3]),we=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)ee=parseInt(me[1]),ne=parseInt(me[2]),le=parseInt(me[3]),we=parseFloat(me[4]);else{if(we=1,typeof O=="string"&&O.charAt(0)!=="#"){var Ie=new tE(O);O=Ie.ok?Ie.toHex():"#000000"}O.length===4?(ee=O.substring(1,2),ee+=ee,ne=O.substring(2,3),ne+=ne,le=O.substring(3,4),le+=le):(ee=O.substring(1,3),ne=O.substring(3,5),le=O.substring(5,7)),ee=parseInt(ee,16),ne=parseInt(ne,16),le=parseInt(le,16)}}return{r:ee,g:ne,b:le,a:we,style:O}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(O,ee,ne,le){if(isNaN(ee)||isNaN(ne)||typeof O!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!g.call(this)){var we=ie(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;U.call(this,{text:O,x:ee,y:ne,scale:me,angle:we,align:this.textAlign,maxWidth:le})}},m.prototype.strokeText=function(O,ee,ne,le){if(isNaN(ee)||isNaN(ne)||typeof O!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){le=isNaN(le)?void 0:le;var we=ie(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;U.call(this,{text:O,x:ee,y:ne,scale:me,renderingMode:"stroke",angle:we,align:this.textAlign,maxWidth:le})}},m.prototype.measureText=function(O){if(typeof O!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ee=this.pdf,ne=this.pdf.internal.scaleFactor,le=ee.internal.getFontSize(),we=ee.getStringUnitWidth(O)*le/ee.internal.scaleFactor;return new function(me){var Ie=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ie}}),this}({width:we*=Math.round(96*ne/72*1e4)/1e4})},m.prototype.scale=function(O,ee){if(isNaN(O)||isNaN(ee))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new u(O,0,0,ee,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},m.prototype.rotate=function(O){if(isNaN(O))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ee=new u(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},m.prototype.translate=function(O,ee){if(isNaN(O)||isNaN(ee))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new u(1,0,0,1,O,ee);this.ctx.transform=this.ctx.transform.multiply(ne)},m.prototype.transform=function(O,ee,ne,le,we,me){if(isNaN(O)||isNaN(ee)||isNaN(ne)||isNaN(le)||isNaN(we)||isNaN(me))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ie=new u(O,ee,ne,le,we,me);this.ctx.transform=this.ctx.transform.multiply(Ie)},m.prototype.setTransform=function(O,ee,ne,le,we,me){O=isNaN(O)?1:O,ee=isNaN(ee)?0:ee,ne=isNaN(ne)?0:ne,le=isNaN(le)?1:le,we=isNaN(we)?0:we,me=isNaN(me)?0:me,this.ctx.transform=new u(O,ee,ne,le,we,me)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(O,ee,ne,le,we,me,Ie,Se,ze){var rt=this.pdf.getImageProperties(O),it=1,pt=1,Je=1,ye=1;le!==void 0&&Se!==void 0&&(Je=Se/le,ye=ze/we,it=rt.width/le*Se/le,pt=rt.height/we*ze/we),me===void 0&&(me=ee,Ie=ne,ee=0,ne=0),le!==void 0&&Se===void 0&&(Se=le,ze=we),le===void 0&&Se===void 0&&(Se=rt.width,ze=rt.height);for(var br,lr=this.ctx.transform.decompose(),nr=ie(lr.rotate.shx),gt=new u,pe=(gt=(gt=(gt=gt.multiply(lr.translate)).multiply(lr.skew)).multiply(lr.scale)).applyToRectangle(new l(me-ee*Je,Ie-ne*ye,le*it,we*pt)),Ce=N.call(this,pe),We=[],at=0;at<Ce.length;at+=1)We.indexOf(Ce[at])===-1&&We.push(Ce[at]);if(P(We),this.autoPaging)for(var dt=We[0],tt=We[We.length-1],mt=dt;mt<tt+1;mt++){this.pdf.setPage(mt);var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=mt===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ot=mt===1?0:Dt+(mt-2)*Qt;if(this.ctx.clip_path.length!==0){var Gr=this.path;br=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(br,this.posX+this.margin[3],-Ot+Tt+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=Gr}var zr=JSON.parse(JSON.stringify(pe));zr=T([zr],this.posX+this.margin[3],-Ot+Tt+this.ctx.prevPageLastElemOffset)[0];var Ut=(mt>dt||mt<tt)&&_.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Qt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",zr.x,zr.y,zr.w,zr.h,null,null,nr),Ut&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",pe.x,pe.y,pe.w,pe.h,null,null,nr)};var N=function(O,ee,ne){var le=[];ee=ee||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var we=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":le.push(Math.floor((O.y+we)/ne)+1);break;case"arc":le.push(Math.floor((O.y+we-O.radius)/ne)+1),le.push(Math.floor((O.y+we+O.radius)/ne)+1);break;case"qct":var me=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);le.push(Math.floor((me.y+we)/ne)+1),le.push(Math.floor((me.y+me.h+we)/ne)+1);break;case"bct":var Ie=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);le.push(Math.floor((Ie.y+we)/ne)+1),le.push(Math.floor((Ie.y+Ie.h+we)/ne)+1);break;case"rect":le.push(Math.floor((O.y+we)/ne)+1),le.push(Math.floor((O.y+O.h+we)/ne)+1)}for(var Se=0;Se<le.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<le[Se];)E.call(this);return le},E=function(){var O=this.fillStyle,ee=this.strokeStyle,ne=this.font,le=this.lineCap,we=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=ee,this.font=ne,this.lineCap=le,this.lineWidth=we,this.lineJoin=me},T=function(O,ee,ne){for(var le=0;le<O.length;le++)switch(O[le].type){case"bct":O[le].x2+=ee,O[le].y2+=ne;case"qct":O[le].x1+=ee,O[le].y1+=ne;default:O[le].x+=ee,O[le].y+=ne}return O},P=function(O){return O.sort(function(ee,ne){return ee-ne})},R=function(O,ee){for(var ne,le,we=this.fillStyle,me=this.strokeStyle,Ie=this.lineCap,Se=this.lineWidth,ze=Math.abs(Se*this.ctx.transform.scaleX),rt=this.lineJoin,it=JSON.parse(JSON.stringify(this.path)),pt=JSON.parse(JSON.stringify(this.path)),Je=[],ye=0;ye<pt.length;ye++)if(pt[ye].x!==void 0)for(var br=N.call(this,pt[ye]),lr=0;lr<br.length;lr+=1)Je.indexOf(br[lr])===-1&&Je.push(br[lr]);for(var nr=0;nr<Je.length;nr++)for(;this.pdf.internal.getNumberOfPages()<Je[nr];)E.call(this);if(P(Je),this.autoPaging)for(var gt=Je[0],pe=Je[Je.length-1],Ce=gt;Ce<pe+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=we,this.strokeStyle=me,this.lineCap=Ie,this.lineWidth=ze,this.lineJoin=rt;var We=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Ce===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Ce===1?0:dt+(Ce-2)*tt;if(this.ctx.clip_path.length!==0){var Mt=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(ne,this.posX+this.margin[3],-mt+at+this.ctx.prevPageLastElemOffset),M.call(this,O,!0),this.path=Mt}if(le=JSON.parse(JSON.stringify(it)),this.path=T(le,this.posX+this.margin[3],-mt+at+this.ctx.prevPageLastElemOffset),ee===!1||Ce===0){var Tt=(Ce>gt||Ce<pe)&&_.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,tt,null).clip().discardPath()),M.call(this,O,ee),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=ze,M.call(this,O,ee),this.lineWidth=Se;this.path=it},M=function(O,ee){if((O!=="stroke"||ee||!k.call(this))&&(O==="stroke"||ee||!g.call(this))){for(var ne,le,we=[],me=this.path,Ie=0;Ie<me.length;Ie++){var Se=me[Ie];switch(Se.type){case"begin":we.push({begin:!0});break;case"close":we.push({close:!0});break;case"mt":we.push({start:Se,deltas:[],abs:[]});break;case"lt":var ze=we.length;if(me[Ie-1]&&!isNaN(me[Ie-1].x)&&(ne=[Se.x-me[Ie-1].x,Se.y-me[Ie-1].y],ze>0)){for(;ze>=0;ze--)if(we[ze-1].close!==!0&&we[ze-1].begin!==!0){we[ze-1].deltas.push(ne),we[ze-1].abs.push(Se);break}}break;case"bct":ne=[Se.x1-me[Ie-1].x,Se.y1-me[Ie-1].y,Se.x2-me[Ie-1].x,Se.y2-me[Ie-1].y,Se.x-me[Ie-1].x,Se.y-me[Ie-1].y],we[we.length-1].deltas.push(ne);break;case"qct":var rt=me[Ie-1].x+2/3*(Se.x1-me[Ie-1].x),it=me[Ie-1].y+2/3*(Se.y1-me[Ie-1].y),pt=Se.x+2/3*(Se.x1-Se.x),Je=Se.y+2/3*(Se.y1-Se.y),ye=Se.x,br=Se.y;ne=[rt-me[Ie-1].x,it-me[Ie-1].y,pt-me[Ie-1].x,Je-me[Ie-1].y,ye-me[Ie-1].x,br-me[Ie-1].y],we[we.length-1].deltas.push(ne);break;case"arc":we.push({deltas:[],abs:[],arc:!0}),Array.isArray(we[we.length-1].abs)&&we[we.length-1].abs.push(Se)}}le=ee?null:O==="stroke"?"stroke":"fill";for(var lr=!1,nr=0;nr<we.length;nr++)if(we[nr].arc)for(var gt=we[nr].abs,pe=0;pe<gt.length;pe++){var Ce=gt[pe];Ce.type==="arc"?G.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,ee,!lr):W.call(this,Ce.x,Ce.y),lr=!0}else if(we[nr].close===!0)this.pdf.internal.out("h"),lr=!1;else if(we[nr].begin!==!0){var We=we[nr].start.x,at=we[nr].start.y;Y.call(this,we[nr].deltas,We,at),lr=!0}le&&H.call(this,le),ee&&oe.call(this)}},Q=function(O){var ee=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=ee*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-ne;case"top":return O+ee-ne;case"hanging":return O+ee-2*ne;case"middle":return O+ee/2-ne;default:return O}},K=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(ee,ne){this.colorStops.push([ee,ne])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var G=function(O,ee,ne,le,we,me,Ie,Se,ze){for(var rt=he.call(this,ne,le,we,me),it=0;it<rt.length;it++){var pt=rt[it];it===0&&(ze?z.call(this,pt.x1+O,pt.y1+ee):W.call(this,pt.x1+O,pt.y1+ee)),be.call(this,O,ee,pt.x2,pt.y2,pt.x3,pt.y3,pt.x4,pt.y4)}Se?oe.call(this):H.call(this,Ie)},H=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},oe=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(O,ee){this.pdf.internal.out(r(O)+" "+n(ee)+" m")},U=function(O){var ee;switch(O.align){case"right":case"end":ee="right";break;case"center":ee="center";break;default:ee="left"}var ne=this.pdf.getTextDimensions(O.text),le=Q.call(this,O.y),we=K.call(this,le)-ne.h,me=this.ctx.transform.applyToPoint(new o(O.x,le)),Ie=this.ctx.transform.decompose(),Se=new u;Se=(Se=(Se=Se.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale);for(var ze,rt,it,pt=this.ctx.transform.applyToRectangle(new l(O.x,le,ne.w,ne.h)),Je=Se.applyToRectangle(new l(O.x,we,ne.w,ne.h)),ye=N.call(this,Je),br=[],lr=0;lr<ye.length;lr+=1)br.indexOf(ye[lr])===-1&&br.push(ye[lr]);if(P(br),this.autoPaging)for(var nr=br[0],gt=br[br.length-1],pe=nr;pe<gt+1;pe++){this.pdf.setPage(pe);var Ce=pe===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],dt=at-this.margin[0],tt=this.pdf.internal.pageSize.width-this.margin[1],mt=tt-this.margin[3],Mt=pe===1?0:We+(pe-2)*dt;if(this.ctx.clip_path.length!==0){var Tt=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(ze,this.posX+this.margin[3],-1*Mt+Ce),M.call(this,"fill",!0),this.path=Tt}var Dt=T([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-Mt+Ce+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(rt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(rt*O.scale),it=this.lineWidth,this.lineWidth=it*O.scale);var Qt=this.autoPaging!=="text";if(Qt||Dt.y+Dt.h<=at){if(Qt||Dt.y>=Ce&&Dt.x<=tt){var Ot=Qt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||tt-Dt.x)[0],Gr=T([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-Mt+Ce+this.ctx.prevPageLastElemOffset)[0],zr=Qt&&(pe>nr||pe<gt)&&_.call(this);zr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,dt,null).clip().discardPath()),this.pdf.text(Ot,Gr.x,Gr.y,{angle:O.angle,align:ee,renderingMode:O.renderingMode}),zr&&this.pdf.restoreGraphicsState()}}else Dt.y<at&&(this.ctx.prevPageLastElemOffset+=at-Dt.y);O.scale>=.01&&(this.pdf.setFontSize(rt),this.lineWidth=it)}else O.scale>=.01&&(rt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(rt*O.scale),it=this.lineWidth,this.lineWidth=it*O.scale),this.pdf.text(O.text,me.x+this.posX,me.y+this.posY,{angle:O.angle,align:ee,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(rt),this.lineWidth=it)},W=function(O,ee,ne,le){ne=ne||0,le=le||0,this.pdf.internal.out(r(O+ne)+" "+n(ee+le)+" l")},Y=function(O,ee,ne){return this.pdf.lines(O,ee,ne,null,null)},be=function(O,ee,ne,le,we,me,Ie,Se){this.pdf.internal.out([e(i(ne+O)),e(a(le+ee)),e(i(we+O)),e(a(me+ee)),e(i(Ie+O)),e(a(Se+ee)),"c"].join(" "))},he=function(O,ee,ne,le){for(var we=2*Math.PI,me=Math.PI/2;ee>ne;)ee-=we;var Ie=Math.abs(ne-ee);Ie<we&&le&&(Ie=we-Ie);for(var Se=[],ze=le?-1:1,rt=ee;Ie>1e-5;){var it=rt+ze*Math.min(Ie,me);Se.push(ge.call(this,O,rt,it)),Ie-=Math.abs(it-rt),rt=it}return Se},ge=function(O,ee,ne){var le=(ne-ee)/2,we=O*Math.cos(le),me=O*Math.sin(le),Ie=we,Se=-me,ze=Ie*Ie+Se*Se,rt=ze+Ie*we+Se*me,it=4/3*(Math.sqrt(2*ze*rt)-rt)/(Ie*me-Se*we),pt=Ie-it*Se,Je=Se+it*Ie,ye=pt,br=-Je,lr=le+ee,nr=Math.cos(lr),gt=Math.sin(lr);return{x1:O*Math.cos(ee),y1:O*Math.sin(ee),x2:pt*nr-Je*gt,y2:pt*gt+Je*nr,x3:ye*nr-br*gt,y3:ye*gt+br*nr,x4:O*Math.cos(ne),y4:O*Math.sin(ne)}},ie=function(O){return 180*O/Math.PI},ve=function(O,ee,ne,le,we,me){var Ie=O+.5*(ne-O),Se=ee+.5*(le-ee),ze=we+.5*(ne-we),rt=me+.5*(le-me),it=Math.min(O,we,Ie,ze),pt=Math.max(O,we,Ie,ze),Je=Math.min(ee,me,Se,rt),ye=Math.max(ee,me,Se,rt);return new l(it,Je,pt-it,ye-Je)},_e=function(O,ee,ne,le,we,me,Ie,Se){var ze,rt,it,pt,Je,ye,br,lr,nr,gt,pe,Ce,We,at,dt=ne-O,tt=le-ee,mt=we-ne,Mt=me-le,Tt=Ie-we,Dt=Se-me;for(rt=0;rt<41;rt++)nr=(br=(it=O+(ze=rt/40)*dt)+ze*((Je=ne+ze*mt)-it))+ze*(Je+ze*(we+ze*Tt-Je)-br),gt=(lr=(pt=ee+ze*tt)+ze*((ye=le+ze*Mt)-pt))+ze*(ye+ze*(me+ze*Dt-ye)-lr),rt==0?(pe=nr,Ce=gt,We=nr,at=gt):(pe=Math.min(pe,nr),Ce=Math.min(Ce,gt),We=Math.max(We,nr),at=Math.max(at,gt));return new l(Math.round(pe),Math.round(Ce),Math.round(We-pe),Math.round(at-Ce))},te=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,ee,ne=(O=this.ctx.lineDash,ee=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:ee}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(sr.API),function(t){var e=function(o){var l,u,d,f,m,y,g,k,_,N;for(u=[],d=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>d;d+=4)(m=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(y=(m=((m=((m=((m=(m-(N=m%85))/85)-(_=m%85))/85)-(k=m%85))/85)-(g=m%85))/85)%85,u.push(y+33,g+33,k+33,_+33,N+33)):u.push(122);return function(E,T){for(var P=T;P>0;P--)E.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},r=function(o){var l,u,d,f,m,y=String,g="length",k=255,_="charCodeAt",N="slice",E="replace";for(o[N](-2),o=o[N](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),d=[],f=0,m=(o+=l="uuuuu"[N](o[g]%5||5))[g];m>f;f+=5)u=52200625*(o[_](f)-33)+614125*(o[_](f+1)-33)+7225*(o[_](f+2)-33)+85*(o[_](f+3)-33)+(o[_](f+4)-33),d.push(k&u>>24,k&u>>16,k&u>>8,k&u);return function(T,P){for(var R=P;R>0;R--)T.pop()}(d,l[g]),y.fromCharCode.apply(y,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",d=0;d<o.length;d+=2)u+=String.fromCharCode("0x"+(o[d]+o[d+1]));return u},a=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return(l=v1(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,l){var u=0,d=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}}(sr.API),function(t){t.loadFile=function(e,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(u,d,f){var m=new XMLHttpRequest,y=0,g=function(k){var _=k.length,N=[],E=String.fromCharCode;for(y=0;y<_;y+=1)N.push(E(255&k.charCodeAt(y)));return N.join("")};if(m.open("GET",u,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?f(g(this.responseText)):f(void 0)}),m.send(null),d&&m.status===200)return g(m.responseText)}(i,a,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(sr.API),function(t){function e(){return(Er.html2canvas?Promise.resolve(Er.html2canvas):wu(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Er.DOMPurify?Promise.resolve(Er.DOMPurify):wu(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var u=pn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(l,u){var d=document.createElement(l);for(var f in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[f]=u.style[f];return d},a=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},o=function l(u){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),u){case"string":return this.then(r).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var d=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var k=f[g],_=k.src.find(function(N){return N.format==="truetype"});_&&d.addFont(_.url,k.ref.name,k.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,d.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var u=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(l,u){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||sr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,u,d,f){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,d,f){return this.setProgress(l?this.progress.val+l:null,u||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,u){var d=this;return this.thenCore(l,u,function(f,m){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(y){return d.updateProgress(null,f),y}).then(f,m).then(function(y){return d.updateProgress(1),y})})},o.prototype.thenCore=function(l,u,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),u&&(u=u.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),y=d.call(m,l,u);return o.convert(y,f.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach(function(d){u=u.thenCore(d)}),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,sr.getPageSize=function(l,u,d){if(pn(l)==="object"){var f=l;l=f.orientation,u=f.unit||u,d=f.format||d}u=u||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var m,y=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var k,_=0,N=0;if(g.hasOwnProperty(y))_=g[y][1]/m,N=g[y][0]/m;else try{_=d[1],N=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",N>_&&(k=N,N=_,_=k);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",_>N&&(k=N,N=_,_=k)}return{width:N,height:_,unit:u,k:m,orientation:l}},t.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(my):null;var d=new o(u);return u.worker?d:d.from(l).doCallback()}}(sr.API),sr.API.addJS=function(t){return x_=t,this.internal.events.subscribe("postPutResources",function(){Dm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Dm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),b_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+x_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Dm!==void 0&&b_!==void 0&&this.internal.out("/Names <</JavaScript "+Dm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var u=l[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(a=0;a<d;a++){var m=r.internal.newObject();f.push(m);var y=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<f.length;a++)r.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var u=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(sr.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,l){var u,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=function(m){for(var y,g=256*m.charCodeAt(4)+m.charCodeAt(5),k=m.length,_={width:0,height:0,numcomponents:1},N=4;N<k;N+=2){if(N+=g,e.indexOf(m.charCodeAt(N+1))!==-1){y=256*m.charCodeAt(N+5)+m.charCodeAt(N+6),_={width:256*m.charCodeAt(N+7)+m.charCodeAt(N+8),height:y,numcomponents:m.charCodeAt(N+9)};break}g=256*m.charCodeAt(N+2)+m.charCodeAt(N+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:i}}return f}}(sr.API),sr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=UW(t,{checkCrc:!0}),o=a.width,l=a.height,u=a.channels,d=a.palette,f=a.depth;i=d&&u===1?function(K){for(var G=K.width,H=K.height,oe=K.data,z=K.palette,U=K.depth,W=!1,Y=[],be=[],he=void 0,ge=!1,ie=0,ve=0;ve<z.length;ve++){var _e=kS(z[ve],4),te=_e[0],O=_e[1],ee=_e[2],ne=_e[3];Y.push(te,O,ee),ne!=null&&(ne===0?(ie++,be.length<1&&be.push(ve)):ne<255&&(ge=!0))}if(ge||ie>1){W=!0,be=void 0;var le=G*H;he=new Uint8Array(le);for(var we=new DataView(oe.buffer),me=0;me<le;me++){var Ie=vy(we,me,U),Se=kS(z[Ie],4)[3];he[me]=Se}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:oe,alphaBytes:he,needSMask:W,palette:Y,mask:be}}(a):u===2||u===4?function(K){for(var G=K.data,H=K.width,oe=K.height,z=K.channels,U=K.depth,W=z===2?"DeviceGray":"DeviceRGB",Y=z-1,be=H*oe,he=Y,ge=be*he,ie=1*be,ve=Math.ceil(ge*U/8),_e=Math.ceil(ie*U/8),te=new Uint8Array(ve),O=new Uint8Array(_e),ee=new DataView(G.buffer),ne=new DataView(te.buffer),le=new DataView(O.buffer),we=!1,me=0;me<be;me++){for(var Ie=me*z,Se=0;Se<he;Se++)P_(ne,vy(ee,Ie+Se,U),me*he+Se,U);var ze=vy(ee,Ie+he,U);ze<(1<<U)-1&&(we=!0),P_(le,ze,1*me,U)}return{colorSpace:W,colorsPerPixel:Y,colorBytes:te,alphaBytes:O,needSMask:we}}(a):function(K){var G=K.data,H=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:G instanceof Uint8Array?G:new Uint8Array(G.buffer),needSMask:!1}}(a);var m,y,g,k=i,_=k.colorSpace,N=k.colorsPerPixel,E=k.colorBytes,T=k.alphaBytes,P=k.needSMask,R=k.palette,M=k.mask,Q=null;return n!==sr.API.image_compression.NONE&&typeof v1=="function"?(Q=function(K){var G;switch(K){case sr.API.image_compression.FAST:G=11;break;case sr.API.image_compression.MEDIUM:G=13;break;case sr.API.image_compression.SLOW:G=14;break;default:G=12}return G}(n),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(Q," "),t=k_(E,o*N,N,n),P&&(g=k_(T,o,1,n))):(m=void 0,y="",t=E,P&&(g=T)),y+="/Colors ".concat(N," /BitsPerComponent ").concat(f," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:t,index:e,filter:m,decodeParameters:y,transparency:M,palette:R,sMask:g,predictor:Q,width:o,height:l,bitsPerComponent:f,colorSpace:_}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new lV(e),o=a.width,l=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:o,height:l},f=new yy(100).encode(d,100);return t.processJPEG.call(this,f,r,n,i)},t.processGIF87A=t.processGIF89A}(sr.API),hl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){$n.log("bit decode error:"+r)}},hl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[a>>7-l&1];this.data[o+4*l]=u.blue,this.data[o+4*l+1]=u.green,this.data[o+4*l+2]=u.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},hl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,u=15&a,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},hl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},hl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,u=(a>>10&e)/e*255|0,d=a>>15?255:0,f=n*this.width*4+4*i;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=d}this.pos+=t}},hl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,u=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,f=i*this.width*4+4*a;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},hl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},hl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},hl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new hl(e,!1),o=a.width,l=a.height,u={data:a.getData(),width:o,height:l},d=new yy(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)}}(sr.API),I_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new I_(e),o=a.width,l=a.height,u={data:a.getData(),width:o,height:l},d=new yy(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)}}(sr.API),sr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,u=0,d=0;d<i;d+=4){var f=n[d],m=n[d+1],y=n[d+2],g=n[d+3];a[l++]=f,a[l++]=m,a[l++]=y,o[u++]=g}var k=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:k,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},sr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},df=sr.API,Lm=df.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,m=e.doKerning!==!1,y=0,g=t.length,k=0,_=l[0]||u,N=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(y=m&&pn(d[n])==="object"&&!isNaN(parseInt(d[n][k],10))?d[n][k]/f:0,N.push((l[n]||_)/u+y)),k=n;return N},w_=df.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return df.processArabic&&(t=df.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Lm.apply(this,arguments).reduce(function(a,o){return a+o},0)},S_=function(t,e,r,n){for(var i=[],a=0,o=t.length,l=0;a!==o&&l+e[a]<r;)l+=e[a],a++;i.push(t.slice(0,a));var u=a;for(l=0;a!==o;)l+e[a]>n&&(i.push(t.slice(u,a)),l=0,u=a),l+=e[a],a++;return u!==a&&i.push(t.slice(u,a)),i},__=function(t,e,r){r||(r={});var n,i,a,o,l,u,d,f=[],m=[f],y=r.textIndent||0,g=0,k=0,_=t.split(" "),N=Lm.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var E=Array(u).join(" "),T=[];_.map(function(R){(R=R.split(/\s*\n/)).length>1?T=T.concat(R.map(function(M,Q){return(Q&&M.length?`
`:"")+M})):T.push(R[0])}),_=T,u=w_.apply(this,[E,r])}for(a=0,o=_.length;a<o;a++){var P=0;if(n=_[a],u&&n[0]==`
`&&(n=n.substr(1),P=1),y+g+(k=(i=Lm.apply(this,[n,r])).reduce(function(R,M){return R+M},0))>e||P){if(k>e){for(l=S_.apply(this,[n,i,e-(y+g),e]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);k=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(R,M){return R+M},0)}else f=[n];m.push(f),y=k+u,g=N}else f.push(n),y+=g+k,g=N}return d=u?function(R,M){return(M?E:"")+R.join(" ")}:function(R){return R.join(" ")},m.map(d)},df.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,u,d=[];for(l=0,u=n.length;l<u;l++)d=d.concat(__.apply(this,[n[l],o,a]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var o=function(y){return"0x"+parseInt(y,10).toString(16)},l=t.__fontmetrics__.compress=function(y){var g,k,_,N,E=["{"];for(var T in y){if(g=y[T],isNaN(parseInt(T,10))?k="'"+T+"'":(T=parseInt(T,10),k=(k=o(T).slice(2)).slice(0,-1)+i[k.slice(-1)]),typeof g=="number")g<0?(_=o(g).slice(3),N="-"):(_=o(g).slice(2),N=""),_=N+_.slice(0,-1)+i[_.slice(-1)];else{if(pn(g)!=="object")throw new Error("Don't know what to do with value type "+pn(g)+".");_=l(g)}E.push(k+_)}return E.push("}"),E.join("")},u=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,k,_,N,E={},T=1,P=E,R=[],M="",Q="",K=y.length-1,G=1;G<K;G+=1)(N=y[G])=="'"?g?(_=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(R.push([P,_]),P={},_=void 0):N=="}"?((k=R.pop())[0][k[1]]=P,_=void 0,P=k[0]):N=="-"?T=-1:_===void 0?n.hasOwnProperty(N)?(M+=n[N],_=parseInt(M,16)*T,T=1,M=""):M+=N:n.hasOwnProperty(N)?(Q+=n[N],P[_]=parseInt(Q,16)*T,T=1,_=void 0,Q=""):Q+=N;return E},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var g=y.font,k=m.Unicode[g.postScriptName];k&&(g.metadata.Unicode={},g.metadata.Unicode.widths=k.widths,g.metadata.Unicode.kerning=k.kerning);var _=f.Unicode[g.postScriptName];_&&(g.metadata.Unicode.encoding=_,g.encoding=_.codePages[0])}])}(sr.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Ym(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(sr),sr.API.addSvgAsImage=function(t,e,r,n,i,a,o,l){if(isNaN(e)||isNaN(r))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=i;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Er.canvg?Promise.resolve(Er.canvg):wu(()=>import("./index.es-Dp6LJRqH.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(d,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(f)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),e,r,n,i,o,l)})},sr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},sr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),u=[],d=0,f=0,m=0;function y(k,_){var N,E=!1;for(N=0;N<k.length;N+=1)k[N]===_&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=l.length;for(m=0;m<g;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(pn(t)==="object"){for(i in t)if(a=t[i],y(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&y(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")u.push(String(a[d]-1));else if(a[d].length>1){for(f=0;f<a[d].length;f+=1)typeof a[d][f]!="number"&&(n=!1);n===!0&&u.push([a[d][0]-1,a[d][1]-1].join(" "))}r[i].value="["+u.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,_=[];for(k in r)r[k].explicitSet===!0&&(r[k].type==="name"?_.push("/"+k+" /"+r[k].value):_.push("/"+k+" "+r[k].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+o.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(sr.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var l,u=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],m=0,y=a.length;m<y;++m){if(l=o.metadata.characterToGlyph(a.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(m),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},n=function(a){var o,l,u,d,f,m,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],m=0,y=(l=Object.keys(a).sort(function(g,k){return g-k})).length;m<y;m++)o=l[m],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(d=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var l=o.font,u=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,y=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",k=0;k<y.length;k++)g+=String.fromCharCode(y[k]);var _=d();f({data:g,addLength1:!0,objectId:_}),u("endobj");var N=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),u("endobj");var E=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+mf(l.fontName)),u("/FontFile2 "+_+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var T=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+mf(l.fontName)),u("/FontDescriptor "+E+" 0 R"),u("/W "+t.API.PDFObject.convert(m)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+N+" 0 R"),u("/BaseFont /"+mf(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+T+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var l=o.font,u=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,y="",g=0;g<m.length;g++)y+=String.fromCharCode(m[g]);var k=d();f({data:y,addLength1:!0,objectId:k}),u("endobj");var _=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:_}),u("endobj");var N=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+k+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+mf(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var E=0;E<l.metadata.hmtx.widths.length;E++)l.metadata.hmtx.widths[E]=parseInt(l.metadata.hmtx.widths[E]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+mf(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",u=a.x,d=a.y,f=a.options||{},m=a.mutex||{},y=m.pdfEscape,g=m.activeFontKey,k=m.fonts,_=g,N="",E=0,T="",P=k[_].encoding;if(k[_].encoding!=="Identity-H")return{text:l,x:u,y:d,options:f,mutex:m};for(T=l,_=g,Array.isArray(l)&&(T=l[0]),E=0;E<T.length;E+=1)k[_].metadata.hasOwnProperty("cmap")&&(o=k[_].metadata.cmap.unicode.codeMap[T[E].charCodeAt(0)]),o||T[E].charCodeAt(0)<256&&k[_].metadata.hasOwnProperty("Unicode")?N+=T[E]:N+="";var R="";return parseInt(_.slice(1))<14||P==="WinAnsiEncoding"?R=y(N,_).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(R=r(N,k[_])),m.isHex=!0,{text:R,x:u,y:d,options:f,mutex:m}};e.events.push(["postProcessText",function(a){var o=a.text||"",l=[],u={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([i(Object.assign({},u,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(i(Object.assign({},u,{text:o[d]})).text);a.text=l}else a.text=i(Object.assign({},u,{text:o})).text}])}(sr),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(sr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,l,u,d,f,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,P=0;this.__bidiEngine__={};var R=function(z){var U=z.charCodeAt(),W=U>>8,Y=_[W];return Y!==void 0?m[256*Y+(255&U)]:W===252||W===253?"AL":E.test(W)?"L":W===8?"R":"N"},M=function(z){for(var U,W=0;W<z.length;W++){if((U=R(z.charAt(W)))==="L")return!1;if(U==="R")return!0}return!1},Q=function(z,U,W,Y){var be,he,ge,ie,ve=U[Y];switch(ve){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"N":case"AN":break;case"EN":T&&(ve="AN");break;case"AL":T=!0,ve="R";break;case"WS":case"BN":ve="N";break;case"CS":Y<1||Y+1>=U.length||(be=W[Y-1])!=="EN"&&be!=="AN"||(he=U[Y+1])!=="EN"&&he!=="AN"?ve="N":T&&(he="AN"),ve=he===be?he:"N";break;case"ES":ve=(be=Y>0?W[Y-1]:"B")==="EN"&&Y+1<U.length&&U[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&W[Y-1]==="EN"){ve="EN";break}if(T){ve="N";break}for(ge=Y+1,ie=U.length;ge<ie&&U[ge]==="ET";)ge++;ve=ge<ie&&U[ge]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(ie=U.length,ge=Y+1;ge<ie&&U[ge]==="NSM";)ge++;if(ge<ie){var _e=z[Y],te=_e>=1425&&_e<=2303||_e===64286;if(be=U[ge],te&&(be==="R"||be==="AL")){ve="R";break}}}ve=Y<1||(be=U[Y-1])==="B"?"N":W[Y-1];break;case"B":T=!1,i=!0,ve=P;break;case"S":a=!0,ve="N"}return ve},K=function(z,U,W){var Y=z.split("");return W&&G(Y,W,{hiLevel:P}),Y.reverse(),U&&U.reverse(),Y.join("")},G=function(z,U,W){var Y,be,he,ge,ie,ve=-1,_e=z.length,te=0,O=[],ee=P?g:y,ne=[];for(T=!1,i=!1,a=!1,be=0;be<_e;be++)ne[be]=R(z[be]);for(he=0;he<_e;he++){if(ie=te,O[he]=Q(z,ne,O,he),Y=240&(te=ee[ie][k[O[he]]]),te&=15,U[he]=ge=ee[te][5],Y>0)if(Y===16){for(be=ve;be<he;be++)U[be]=1;ve=-1}else ve=-1;if(ee[te][6])ve===-1&&(ve=he);else if(ve>-1){for(be=ve;be<he;be++)U[be]=ge;ve=-1}ne[he]==="B"&&(U[he]=0),W.hiLevel|=ge}a&&function(le,we,me){for(var Ie=0;Ie<me;Ie++)if(le[Ie]==="S"){we[Ie]=P;for(var Se=Ie-1;Se>=0&&le[Se]==="WS";Se--)we[Se]=P}}(ne,U,_e)},H=function(z,U,W,Y,be){if(!(be.hiLevel<z)){if(z===1&&P===1&&!i)return U.reverse(),void(W&&W.reverse());for(var he,ge,ie,ve,_e=U.length,te=0;te<_e;){if(Y[te]>=z){for(ie=te+1;ie<_e&&Y[ie]>=z;)ie++;for(ve=te,ge=ie-1;ve<ge;ve++,ge--)he=U[ve],U[ve]=U[ge],U[ge]=he,W&&(he=W[ve],W[ve]=W[ge],W[ge]=he);te=ie}te++}}},oe=function(z,U,W){var Y=z.split(""),be={hiLevel:P};return W||(W=[]),G(Y,W,be),function(he,ge,ie){if(ie.hiLevel!==0&&f)for(var ve,_e=0;_e<he.length;_e++)ge[_e]===1&&(ve=N.indexOf(he[_e]))>=0&&(he[_e]=N[ve+1])}(Y,W,be),H(2,Y,U,W,be),H(1,Y,U,W,be),Y.join("")};return this.__bidiEngine__.doBidiReorder=function(z,U,W){if(function(be,he){if(he)for(var ge=0;ge<be.length;ge++)he[ge]=ge;l===void 0&&(l=M(be)),d===void 0&&(d=M(be))}(z,U),o||!u||d)if(o&&u&&l^d)P=l?1:0,z=K(z,U,W);else if(!o&&u&&d)P=l?1:0,z=oe(z,U,W),z=K(z,U);else if(!o||l||u||d){if(o&&!u&&l^d)z=K(z,U),l?(P=0,z=oe(z,U,W)):(P=1,z=oe(z,U,W),z=K(z,U));else if(o&&l&&!u&&d)P=1,z=oe(z,U,W),z=K(z,U);else if(!o&&!u&&l^d){var Y=f;l?(P=1,z=oe(z,U,W),P=0,f=!1,z=oe(z,U,W),f=Y):(P=0,z=oe(z,U,W),z=K(z,U),P=1,f=!1,z=oe(z,U,W),f=Y,z=K(z,U))}}else P=0,z=oe(z,U,W);else P=l?1:0,z=oe(z,U,W);return z},this.__bidiEngine__.setOptions=function(z){z&&(o=z.isInputVisual,u=z.isOutputVisual,l=z.isInputRtl,d=z.isOutputRtl,f=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(sr),sr.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Iu(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new _V(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new cV(this.contents),this.head=new dV(this),this.name=new gV(this),this.cmap=new fE(this),this.toUnicode={},this.hhea=new fV(this),this.maxp=new vV(this),this.hmtx=new yV(this),this.post=new pV(this),this.os2=new hV(this),this.loca=new SV(this),this.glyf=new bV(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,u,d;for(d=[],o=0,l=(u=this.bbox).length;o<l;o++)e=u[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,l;for(o=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Pl,Iu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,l,u;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+u},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),cV=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,l,u,d,f,m,y,g,k,_;for(_ in g=Object.keys(r).length,u=Math.log(2),m=16*Math.floor(Math.log(g)/u),o=Math.floor(m/u),f=16*g-m,(i=new Iu).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(o),i.writeShort(f),a=16*g,d=i.pos+a,l=null,k=[],r)for(y=r[_],i.writeString(_),i.writeInt(t(y)),i.writeInt(d),i.writeInt(y.length),k=k.concat(y),_==="head"&&(l=d),d+=y.length;d%4;)k.push(0),d++;return i.write(k),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=hE.call(r);r.length%4;)r.push(0);for(a=new Iu(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),uV={}.hasOwnProperty,nc=function(t,e){for(var r in e)uV.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Pl=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var dV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nc(t,Pl),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Iu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),T_=function(){function t(e,r){var n,i,a,o,l,u,d,f,m,y,g,k,_,N,E,T,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(g=e.readUInt16(),y=g/2,e.pos+=6,a=function(){var R,M;for(M=[],u=R=0;0<=y?R<y:R>y;u=0<=y?++R:--R)M.push(e.readUInt16());return M}(),e.pos+=2,_=function(){var R,M;for(M=[],u=R=0;0<=y?R<y:R>y;u=0<=y?++R:--R)M.push(e.readUInt16());return M}(),d=function(){var R,M;for(M=[],u=R=0;0<=y?R<y:R>y;u=0<=y?++R:--R)M.push(e.readUInt16());return M}(),f=function(){var R,M;for(M=[],u=R=0;0<=y?R<y:R>y;u=0<=y?++R:--R)M.push(e.readUInt16());return M}(),i=(this.length-e.pos+this.offset)/2,l=function(){var R,M;for(M=[],u=R=0;0<=i?R<i:R>i;u=0<=i?++R:--R)M.push(e.readUInt16());return M}(),u=E=0,P=a.length;E<P;u=++E)for(N=a[u],n=T=k=_[u];k<=N?T<=N:T>=N;n=k<=N?++T:--T)f[u]===0?o=n+d[u]:(o=l[f[u]/2+(n-k)-(y-u)]||0)!==0&&(o+=d[u]),this.codeMap[n]=65535&o}e.pos=m}return t.encode=function(e,r){var n,i,a,o,l,u,d,f,m,y,g,k,_,N,E,T,P,R,M,Q,K,G,H,oe,z,U,W,Y,be,he,ge,ie,ve,_e,te,O,ee,ne,le,we,me,Ie,Se,ze,rt,it;switch(Y=new Iu,o=Object.keys(e).sort(function(pt,Je){return pt-Je}),r){case"macroman":for(_=0,N=function(){var pt=[];for(k=0;k<256;++k)pt.push(0);return pt}(),T={0:0},a={},be=0,ve=o.length;be<ve;be++)T[Se=e[i=o[be]]]==null&&(T[Se]=++_),a[i]={old:e[i],new:T[e[i]]},N[i]=T[e[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(N),{charMap:a,subtable:Y.data,maxGlyphID:_+1};case"unicode":for(U=[],m=[],P=0,T={},n={},E=d=null,he=0,_e=o.length;he<_e;he++)T[M=e[i=o[he]]]==null&&(T[M]=++P),n[i]={old:M,new:T[M]},l=T[M]-i,E!=null&&l===d||(E&&m.push(E),U.push(i),d=l),E=i;for(E&&m.push(E),m.push(65535),U.push(65535),oe=2*(H=U.length),G=2*Math.pow(Math.log(H)/Math.LN2,2),y=Math.log(G/2)/Math.LN2,K=2*H-G,u=[],Q=[],g=[],k=ge=0,te=U.length;ge<te;k=++ge){if(z=U[k],f=m[k],z===65535){u.push(0),Q.push(0);break}if(z-(W=n[z].new)>=32768)for(u.push(0),Q.push(2*(g.length+H-k)),i=ie=z;z<=f?ie<=f:ie>=f;i=z<=f?++ie:--ie)g.push(n[i].new);else u.push(W-z),Q.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*H+2*g.length),Y.writeUInt16(0),Y.writeUInt16(oe),Y.writeUInt16(G),Y.writeUInt16(y),Y.writeUInt16(K),me=0,O=m.length;me<O;me++)i=m[me],Y.writeUInt16(i);for(Y.writeUInt16(0),Ie=0,ee=U.length;Ie<ee;Ie++)i=U[Ie],Y.writeUInt16(i);for(ze=0,ne=u.length;ze<ne;ze++)l=u[ze],Y.writeUInt16(l);for(rt=0,le=Q.length;rt<le;rt++)R=Q[rt],Y.writeUInt16(R);for(it=0,we=g.length;it<we;it++)_=g[it],Y.writeUInt16(_);return{charMap:n,subtable:Y.data,maxGlyphID:P+1}}},t}(),fE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nc(t,Pl),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new T_(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=T_.encode(e,r),(i=new Iu).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),fV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nc(t,Pl),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),hV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nc(t,Pl),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),pV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nc(t,Pl),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(e.readUInt32());return u}).call(this)}},t}(),mV=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},gV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nc(t,Pl),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,o,l,u,d,f,m,y;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(u={},a=f=0,m=n.length;f<m;a=++f)i=n[a],e.pos=i.offset,d=e.readString(i.length),o=new mV(d,i),u[y=i.nameID]==null&&(u[y]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),vV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nc(t,Pl),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),yV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nc(t,Pl),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,o,l,u;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)f.push(e.readInt16());return f}(),this.widths=(function(){var d,f,m,y;for(y=[],d=0,f=(m=this.metrics).length;d<f;d++)a=m[d],y.push(a.advance);return y}).call(this),n=this.widths[this.widths.length-1],u=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)u.push(this.widths.push(n));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),hE=[].slice,bV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nc(t,Pl),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,o,l,u,d,f,m;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new Iu(r.read(i))).readShort(),d=l.readShort(),m=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[e]=o===-1?new wV(l,d,m,u,f):new xV(l,o,d,m,u,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,o,l,u;for(o=[],a=[],l=0,u=r.length;l<u;l++)i=e[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},t}(),xV=function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),wV=function(){function t(e,r,n,i,a){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Iu(hE.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),SV=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return nc(t,Pl),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(i+=u)}for(var d=new Array(4*n.length),f=0;f<n.length;++f)d[4*f+3]=255&n[f],d[4*f+2]=(65280&n[f])>>8,d[4*f+1]=(16711680&n[f])>>16,d[4*f]=(4278190080&n[f])>>24;return d},t}(),_V=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,l,u;for(i={},o=0,l=e.length;o<l;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in u=this.glyphsFor(r))n=u[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,l,u,d,f,m,y,g,k,_,N,E;for(i in n=fE.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},E=n.charMap)g[(u=E[i]).old]=u.new;for(k in y=n.maxGlyphID,o)k in g||(g[k]=y++);return f=function(T){var P,R;for(P in R={},T)R[T[P]]=P;return R}(g),m=Object.keys(f).sort(function(T,P){return T-P}),_=function(){var T,P,R;for(R=[],T=0,P=m.length;T<P;T++)l=m[T],R.push(f[l]);return R}(),a=this.font.glyf.encode(o,_,g),d=this.font.loca.encode(a.offsets,_),N={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t}();sr.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var l,u,d;for(d=[],l=0,u=r.length;l<u;l++)n=r[l],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e}();function pE(t,e,r,n,i){n=n||{};var a=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,u=i.getLineHeightFactor?i.getLineHeightFactor():a,d=l*u,f=/\r\n|\r|\n/g,m="",y=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof t=="string"?t.split(f):t,y=m.length||1),r+=l*(2-a),n.valign==="middle"?r-=y/2*d:n.valign==="bottom"&&(r-=y*d),n.halign==="center"||n.halign==="right"){var g=l;if(n.halign==="center"&&(g*=.5),m&&y>=1){for(var k=0;k<m.length;k++)i.text(m[k],e-i.getStringUnitWidth(m[k])*g,r),r+=d;return i}e-=i.getStringUnitWidth(t)*g}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var D_={},Af=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:D_=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,a;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,u=o.fontName;if(e.font&&(u=e.font),e.fontStyle){l=e.fontStyle;var d=this.getFontList()[u];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(u,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=t.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(a=this.jsPDFDocument).setDrawColor.apply(a,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,a){return this.jsPDFDocument.rect(e,r,n,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return D_||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),N1=function(t,e){return N1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},N1(t,e)};function mE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");N1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gE=function(t){mE(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function kV(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function NV(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Pg(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function vE(t,e,r,n){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var o=yE(i,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function yE(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function gv(t,e){var r,n,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function bE(t,e){var r=gv(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function CV(t,e,r,n,i){var a={},o=1.3333333333333333,l=by(e,function(P){return i.getComputedStyle(P).backgroundColor});l!=null&&(a.fillColor=l);var u=by(e,function(P){return i.getComputedStyle(P).color});u!=null&&(a.textColor=u);var d=EV(n,r);d&&(a.cellPadding=d);var f="borderTopColor",m=o*r,y=n.borderTopWidth;if(n.borderBottomWidth===y&&n.borderRightWidth===y&&n.borderLeftWidth===y){var g=(parseFloat(y)||0)/m;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},a.lineWidth.top||(a.lineWidth.right?f="borderRightColor":a.lineWidth.bottom?f="borderBottomColor":a.lineWidth.left&&(f="borderLeftColor"));var k=by(e,function(P){return i.getComputedStyle(P)[f]});k!=null&&(a.lineColor=k);var _=["left","right","center","justify"];_.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),_=["middle","bottom","top"],_.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var N=parseInt(n.fontSize||"");isNaN(N)||(a.fontSize=N/o);var E=AV(n);E&&(a.fontStyle=E);var T=(n.fontFamily||"").toLowerCase();return t.indexOf(T)!==-1&&(a.font=T),a}function AV(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function by(t,e){var r=xE(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function xE(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:xE(t.parentElement,e):r}function EV(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=r.map(function(l){return parseInt(l||"0")/n}),o=gv(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function wE(t,e,r,n,i){var a,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var u=Object.keys(t.getFontList()),d=t.scaleFactor(),f=[],m=[],y=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:m,foot:y};for(var g=0;g<l.rows.length;g++){var k=l.rows[g],_=(o=(a=k?.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),N=PV(u,d,r,k,n,i);N&&(_==="thead"?f.push(N):_==="tfoot"?y.push(N):m.push(N))}return{head:f,body:m,foot:y}}function PV(t,e,r,n,i,a){for(var o=new gE(n),l=0;l<n.cells.length;l++){var u=n.cells[l],d=r.getComputedStyle(u);if(i||d.display!=="none"){var f=void 0;a&&(f=CV(t,u,e,d,r)),o.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:f,_element:u,content:jV(u)})}}var m=r.getComputedStyle(n);if(o.length>0&&(i||m.display!=="none"))return o}function jV(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function IV(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Tc(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(a[u]=l[u])}return a}function SE(t,e){var r=new Af(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();IV(i,n,e);var a=Tc({},i,n,e),o;typeof window<"u"&&(o=window);var l=TV(i,n,e),u=DV(i,n,e),d=LV(r,a),f=OV(r,a,o);return{id:e.tableId,content:f,hooks:u,styles:l,settings:d}}function TV(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var d=t[u],f=e[u],m=r[u];n.columnStyles=Tc({},d,f,m)}else{var y=[t,e,r],g=y.map(function(k){return k[u]||{}});n[u]=Tc({},g[0],g[1],g[2])}},a=0,o=Object.keys(n);a<o.length;a++){var l=o[a];i(l)}return n}function DV(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=n;a<o.length;a++){var l=o[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function LV(t,e){var r,n,i,a,o,l,u,d,f,m,y,g,k=gv(e.margin,40/t.scaleFactor()),_=(r=RV(t,e.startY))!==null&&r!==void 0?r:k.top,N;e.showFoot===!0?N="everyPage":e.showFoot===!1?N="never":N=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var T=(a=e.useCss)!==null&&a!==void 0?a:!1,P=e.theme||(T?"plain":"striped"),R=!!e.horizontalPageBreak,M=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:T,theme:P,startY:_,margin:k,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:E,showFoot:N,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:R,horizontalPageBreakRepeat:M,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function RV(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),a=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;a=o===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&r?.finalY!=null?r.finalY+20/n:null}function OV(t,e,r){var n=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=wE(t,e.html,r,o,e.useCss)||{};n=l.head||n,i=l.body||n,a=l.foot||n}else console.error("Cannot parse html in non browser environment")}var u=e.columns||FV(n,i,a);return{columns:u,head:n,body:i,foot:a}}function FV(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,l;Array.isArray(n)?l=n[parseInt(a)]:l=n[a],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var u=0;u<o;u++){var d=void 0;Array.isArray(n)?d=i.length:d=a+(u>0?"_".concat(u):"");var f={dataKey:d};i.push(f)}}),i}var C1=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),MV=function(t){mE(e,t);function e(r,n,i,a,o,l){var u=t.call(this,r,n,l)||this;return u.cell=i,u.row=a,u.column=o,u.section=a.section,u}return e}(C1),BV=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,a,o){for(var l=0,u=r;l<u.length;l++){var d=u[l],f=new MV(e,this,n,i,a,o),m=d(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new C1(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new C1(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),_E=function(){function t(e,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof gE&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,a){var o=n.cells[a.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),u=o.padding("vertical"),d=u+l;return d>i?d:i},0)},t}(),kE=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=gv(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),zV=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var a=i[n],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t}();function UV(t,e){$V(t,e);var r=[],n=0;e.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(e);o?a.width=o:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=A1(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=A1(r,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),WV(e),VV(e,t),qV(e)}function $V(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=bE(t,e);e.allRows().forEach(function(a){for(var o=0,l=e.columns;o<l.length;o++){var u=l[o],d=a.cells[u.index];if(d){var f=e.hooks.didParseCell;e.callCellHooks(t,f,d,a,u,null);var m=d.padding("horizontal");d.contentWidth=Pg(d.text,d.styles,t)+m;var y=Pg(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=y+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var g=10/r;d.minWidth=d.styles.minCellWidth||g,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(a){for(var o=0,l=e.columns;o<l.length;o++){var u=l[o],d=a.cells[u.index];if(d&&d.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,d.wrappedWidth),u.minWidth=Math.max(u.minWidth,d.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,d.minReadableWidth);else{var f=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},m=f.cellWidth||f.minCellWidth;m&&typeof m=="number"&&(u.minWidth=m,u.wrappedWidth=m)}d&&(d.colSpan>1&&!u.minWidth&&(u.minWidth=d.minWidth),d.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=d.minWidth))}})}function A1(t,e,r){for(var n=e,i=t.reduce(function(g,k){return g+k.wrappedWidth},0),a=0;a<t.length;a++){var o=t[a],l=o.wrappedWidth/i,u=n*l,d=o.width+u,f=r(o),m=d<f?f:d;e-=m-o.width,o.width=m}if(e=Math.round(e*1e10)/1e10,e){var y=t.filter(function(g){return e<0?g.width>r(g):!0});y.length&&(e=A1(y,e,r))}return e}function qV(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var a=n[i],o=0,l=t.columns;o<l.length;o++){var u=l[o],d=e[u.index];if(r>1)r--,delete a.cells[u.index];else if(d)d.cell.height+=a.height,r=d.cell.colSpan,delete a.cells[u.index],d.left--,d.left<=1&&delete e[u.index];else{var f=a.cells[u.index];if(!f)continue;if(f.height=a.height,f.rowSpan>1){var m=n.length-i,y=f.rowSpan>m?m:f.rowSpan;e[u.index]={cell:f,left:y,row:a}}}}}function WV(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,a=0,o=0,l=0;l<t.columns.length;l++){var u=t.columns[l];if(o-=1,o>1&&t.columns[l+1])a+=u.width,delete n.cells[u.index];else if(i){var d=i;delete n.cells[u.index],i=null,d.width=u.width+a}else{var d=n.cells[u.index];if(!d)continue;if(o=d.colSpan,a=0,d.colSpan>1){i=d,a+=u.width;continue}d.width=u.width+a}}}function VV(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var a=i[n],o=0,l=t.columns;o<l.length;o++){var u=l[o],d=a.cells[u.index];if(d){e.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,f+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=L_(d.text,f,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=L_(d.text,f,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var m=d.styles.overflow(d.text,f);typeof m=="string"?d.text=[m]:d.text=m}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<y*d.rowSpan?r={height:y,count:d.rowSpan}:r&&r.count>0&&r.height>y&&(y=r.height),y>a.height&&(a.height=y)}}r.count--}}function L_(t,e,r,n,i){return t.map(function(a){return HV(a,e,r,n,i)})}function HV(t,e,r,n,i){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Pg(t,r,n))return t;for(;e<Pg(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function NE(t,e){var r=new Af(t),n=GV(e,r.scaleFactor()),i=new BV(e,n);return UV(r,i),r.applyStyles(r.userStyles),i}function GV(t,e){var r=t.content,n=YV(r.columns);if(r.head.length===0){var i=R_(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=R_(n,"foot");i&&r.foot.push(i)}var a=t.settings.theme,o=t.styles;return{columns:n,head:xy("head",r.head,n,o,a,e),body:xy("body",r.body,n,o,a,e),foot:xy("foot",r.foot,n,o,a,e)}}function xy(t,e,r,n,i,a){var o={},l=e.map(function(u,d){for(var f=0,m={},y=0,g=0,k=0,_=r;k<_.length;k++){var N=_[k];if(o[N.index]==null||o[N.index].left===0)if(g===0){var E=void 0;Array.isArray(u)?E=u[N.index-y-f]:E=u[N.dataKey];var T={};typeof E=="object"&&!Array.isArray(E)&&(T=E?.styles||{});var P=JV(t,N,d,i,n,a,T),R=new kE(E,P,t);m[N.dataKey]=R,m[N.index]=R,g=R.colSpan-1,o[N.index]={left:R.rowSpan-1,times:g}}else g--,y++;else o[N.index].left--,g=o[N.index].times,f++}return new _E(u,d,t,m)});return l}function R_(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=KV(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function KV(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function YV(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new zV(i,e,r)})}function JV(t,e,r,n,i,a,o){var l=NV(n),u;t==="head"?u=i.headStyles:t==="body"?u=i.bodyStyles:t==="foot"&&(u=i.footStyles);var d=Tc({},l.table,l[t],i.styles,u),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},m=t==="body"?f:{},y=t==="body"&&r%2===0?Tc({},l.alternateRow,i.alternateRowStyles):{},g=kV(a),k=Tc({},g,d,y,m);return Tc(k,o)}function QV(t,e,r){var n;r===void 0&&(r={});var i=bE(t,e),a=new Map,o=[],l=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(y){var g=e.columns.find(function(k){return k.dataKey===y||k.index===y});g&&!a.has(g.index)&&(a.set(g.index,!0),o.push(g.index),l.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var d=!0,f=(n=r?.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(a.has(f)){f++;continue}var m=e.columns[f].wrappedWidth;if(d||i>=m)d=!1,o.push(f),l.push(e.columns[f]),i-=m;else break;f++}return{colIndexes:o,columns:l,lastIndex:f-1}}function ZV(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=QV(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function CE(t,e){var r=e.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+i.bottom+o;if(r.pageBreak==="avoid"){var u=e.body,d=u.reduce(function(y,g){return y+g.height},0);l+=d}var f=new Af(t);(r.pageBreak==="always"||r.startY!=null&&l>f.pageSize().height)&&(EE(f),a.y=i.top),e.callWillDrawPageHooks(f,a);var m=Tc({},a);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?XV(f,e,m,a):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(y){return Fc(f,e,y,a,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(y,g){var k=g===e.body.length-1;jg(f,e,y,k,m,a,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(y){return Fc(f,e,y,a,e.columns)})),vE(f,e,m,a),e.callEndPageHooks(f,a),e.finalY=a.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function XV(t,e,r,n){var i=ZV(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,f){t.applyStyles(t.userStyles),f>0?Wh(t,e,r,n,d.columns,!0):O_(t,e,n,d.columns),eH(t,e,r,n,d.columns),wy(t,e,n,d.columns)});else for(var o=-1,l=i[0],u=function(){var d=o;if(l){t.applyStyles(t.userStyles);var f=l.columns;o>=0?Wh(t,e,r,n,f,!0):O_(t,e,n,f),d=F_(t,e,o+1,n,f),wy(t,e,n,f)}var m=d-o;i.slice(1).forEach(function(y){t.applyStyles(t.userStyles),Wh(t,e,r,n,y.columns,!0),F_(t,e,o+1,n,y.columns,m),wy(t,e,n,y.columns)}),o=d};o<e.body.length-1;)u()}function O_(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return Fc(t,e,a,r,n)})}function eH(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,o){var l=o===e.body.length-1;jg(t,e,a,l,r,n,i)})}function F_(t,e,r,n,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var o=Math.min(r+a,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(u,d){var f=r+d===e.body.length-1,m=AE(t,e,f,n);u.canEntireRowFit(m,i)&&(Fc(t,e,u,n,i),l=r+d)}),l}function wy(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return Fc(t,e,a,r,n)})}function tH(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/n);return Math.max(0,a)}function rH(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,o=0,l=r.columns;o<l.length;o++){var u=l[o],d=t.cells[u.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new kE(d.raw,d.styles,d.section);f=Tc(f,d),f.text=[];var m=tH(d,e,n);d.text.length>m&&(f.text=d.text.splice(m,d.text.length));var y=n.scaleFactor(),g=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(y,g),d.contentHeight>=e&&(d.contentHeight=e,f.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),f.contentHeight=f.getContentHeight(y,g),f.contentHeight>a&&(a=f.contentHeight),i[u.index]=f}}var k=new _E(t.raw,-1,t.section,i,!0);k.height=a;for(var _=0,N=r.columns;_<N.length;_++){var u=N[_],f=k.cells[u.index];f&&(f.height=k.height);var d=t.cells[u.index];d&&(d.height=t.height)}return k}function nH(t,e,r,n){var i=t.pageSize().height,a=n.settings.margin,o=a.top+a.bottom,l=i-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var u=e.getMinimumRowHeight(n.columns,t),d=u<r;if(u>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=e.hasRowSpan(n.columns),m=e.getMaxCellHeight(n.columns)>l;return m?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function jg(t,e,r,n,i,a,o){var l=AE(t,e,n,a);if(r.canEntireRowFit(l,o))Fc(t,e,r,a,o);else if(nH(t,r,l,e)){var u=rH(r,l,e,t);Fc(t,e,r,a,o),Wh(t,e,i,a,o),jg(t,e,u,n,i,a,o)}else Wh(t,e,i,a,o),jg(t,e,r,n,i,a,o)}function Fc(t,e,r,n,i){n.x=e.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var l=o[a],u=r.cells[l.index];if(!u){n.x+=l.width;continue}t.applyStyles(u.styles),u.x=n.x,u.y=n.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,u,r,l,n);if(d===!1){n.x+=l.width;continue}iH(t,u,n);var f=u.getTextPos();pE(u.text,f.x,f.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,u,r,l,n),n.x+=l.width}n.y+=r.height}function iH(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=yE(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),aH(t,e,r,n.lineWidth))}function aH(t,e,r,n){var i,a,o,l;n.top&&(i=r.x,a=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),u(n.top,i,a,o,l)),n.bottom&&(i=r.x,a=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),u(n.bottom,i,a,o,l)),n.left&&(i=r.x,a=r.y,o=r.x,l=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),u(n.left,i,a,o,l)),n.right&&(i=r.x+e.width,a=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),u(n.right,i,a,o,l));function u(d,f,m,y,g){t.getDocument().setLineWidth(d),t.getDocument().line(f,m,y,g,"S")}}function AE(t,e,r,n){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function Wh(t,e,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(l){return Fc(t,e,l,n,i)}),e.callEndPageHooks(t,n);var o=e.settings.margin;vE(t,e,r,n),EE(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Fc(t,e,l,n,i)}),t.applyStyles(t.userStyles))}function EE(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function sH(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=SE(this,n),a=NE(this,i);return CE(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){pE(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return Af.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Af.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Af(this),a=wE(i,e,window,r,!1),o=a.head,l=a.body,u=((n=o[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:u,rows:l,data:l}}}var Sy;function PE(t,e){var r=SE(t,e),n=NE(t,r);CE(t,n)}try{if(typeof window<"u"&&window){var M_=window,B_=M_.jsPDF||((Sy=M_.jspdf)===null||Sy===void 0?void 0:Sy.jsPDF);B_&&sH(B_)}}catch(t){console.error("Could not apply autoTable plugin",t)}class oH{constructor(e=!0){this.doc=new sr,this.pageWidth=this.doc.internal.pageSize.getWidth(),this.pageHeight=this.doc.internal.pageSize.getHeight(),this.margin=20,this.isLoggedIn=e}async generateWorkoutPDF(e,r,n,i){const a=e.weeks.some(f=>f.days.some(m=>m.exercises.some(y=>y.glossaryContent)))||i&&i.length>0;this.doc=new sr;let o=this.margin;this.isLoggedIn||(r={id:"",name:"",email:"",phone:"",bio:"",instagram:"",facebook:"",website:"",logo:"",exportPath:"",pdfLineColor:"#000000",pdfTextColor:"#000000",showWatermark:!0,useWorkoutNameAsTitle:!1});const l=r?.pdfLineColor||"#000000",u=r?.pdfTextColor||"#4F46E5";this.doc.setDrawColor(l),this.doc.setTextColor("#000000"),o=this.addHeader(e,o,r,l,u),o+=10,o=this.addWorkoutInfo(e,o,l),o+=10,e.description&&(o=this.addDescription(e.description,o,l,u),o+=10),o=this.addWeeklyProgression(e,o,l,u),e.dietaryAdvice&&(o=this.addDietaryAdvice(e.dietaryAdvice,o,l,u),o+=10),a&&(o=this.addGlossaryExercises(e,o,l,u,i));const d=this.doc.internal.pages.length-1;for(let f=1;f<=d;f++)this.doc.setPage(f),this.addFooter(r,f,d);return this.doc.output("blob")}downloadPDF(e,r,n){const i=URL.createObjectURL(e),a=document.createElement("a");a.href=i,a.download=r,n&&n.trim()&&(a.download=`${n.replace(/\/$/,"")}/${r}`),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}addHeader(e,r,n,i,a){if(n?.logo)try{const g=(this.pageWidth-30)/2;this.doc.addImage(n.logo,"JPEG",g,r,30,30),r+=40}catch(y){console.warn("Could not add logo to PDF:",y)}this.doc.setFont("helvetica","bold"),this.doc.setFontSize(24);const o=this.hexToRgb(a||"#4F46E5");this.doc.setTextColor(o.r,o.g,o.b);const l=n?.useWorkoutNameAsTitle&&e.name?e.name.toUpperCase():"SCHEDA DI ALLENAMENTO",u=this.pageWidth-2*this.margin;let d=24;for(this.doc.setFontSize(d);this.doc.getTextWidth(l)>u&&d>12;)d-=1,this.doc.setFontSize(d);this.doc.text(l,this.pageWidth/2,r+10,{align:"center"}),r+=15+Math.max(0,24-d),this.doc.setFontSize(14),this.doc.setTextColor(0,0,0);const f=`${e.workoutType} - ${e.duration} settimane`,m=this.pageWidth-2*this.margin;if(this.doc.getTextWidth(f)>m){const y=this.doc.splitTextToSize(f,m);this.doc.text(y,this.pageWidth/2,r,{align:"center"}),r+=y.length*6+3}else this.doc.text(f,this.pageWidth/2,r,{align:"center"}),r+=15;if(n?.name&&(this.doc.setFontSize(12),this.doc.setTextColor(100,100,100),this.doc.text(`Coach: ${n.name}`,this.pageWidth/2,r,{align:"center"}),r+=8),n?.bio){this.doc.setFontSize(10),this.doc.setTextColor(80,80,80);const y=this.doc.splitTextToSize(n.bio,this.pageWidth-2*this.margin);this.doc.text(y,this.pageWidth/2,r,{align:"center"}),r+=y.length*4+5}if(i){const y=this.hexToRgb(i);this.doc.setDrawColor(y.r,y.g,y.b)}else this.doc.setDrawColor(79,70,229);return this.doc.setLineWidth(1),this.doc.line(this.margin,r,this.pageWidth-this.margin,r),r+=10,r}addWorkoutInfo(e,r,n){this.doc.setFont("helvetica","normal"),this.doc.setFontSize(12),this.doc.setTextColor(0,0,0);const i=this.pageWidth/2;this.doc.setFont("helvetica","bold"),this.doc.text("LIVELLO:",this.margin,r),this.doc.text("CLIENTE:",i,r),this.doc.setFont("helvetica","normal");const a=this.margin+25,o=i+30,l=i-a-5,u=this.pageWidth-this.margin-o-5,d=this.doc.splitTextToSize(e.level||"",Math.max(0,l)),f=this.doc.splitTextToSize(e.clientName||"",Math.max(0,u));this.doc.text(d,a,r),this.doc.text(f,o,r),r+=Math.max(d.length,f.length)*5+2,this.doc.setFont("helvetica","bold"),this.doc.text("TIPO:",this.margin,r),this.doc.text("DURATA:",i,r),this.doc.setFont("helvetica","normal");const m=this.doc.splitTextToSize(e.workoutType||"",Math.max(0,l)),y=this.doc.splitTextToSize(`${e.duration} settimane`,Math.max(0,u));return this.doc.text(m,a,r),this.doc.text(y,o,r),r+=Math.max(m.length,y.length)*5+2,r}addDescription(e,r,n,i){this.doc.setFont("helvetica","bold"),this.doc.setFontSize(14);const a=this.hexToRgb(i||"#4F46E5");this.doc.setTextColor(a.r,a.g,a.b),this.doc.text("DESCRIZIONE",this.margin,r),r+=8,this.doc.setFont("helvetica","normal"),this.doc.setFontSize(10),this.doc.setTextColor(0,0,0);const o=this.doc.splitTextToSize(e,this.pageWidth-2*this.margin);return this.doc.text(o,this.margin,r),r+=o.length*5,r}addWeeklyProgression(e,r,n,i){this.doc.setFont("helvetica","bold"),this.doc.setFontSize(14);const a=this.hexToRgb(i||"#4F46E5");this.doc.setTextColor(a.r,a.g,a.b),this.doc.text("PROGRESSIONE SETTIMANALE",this.margin,r),r+=10;for(const o of e.weeks){r>this.pageHeight-80&&(this.doc.addPage(),r=this.margin),this.doc.setFont("helvetica","bold"),this.doc.setFontSize(12),this.doc.setTextColor(0,0,0);const l=(o.name||`SETTIMANA ${o.number}`).toUpperCase();if(this.doc.text(l,this.margin,r),r+=8,o.notes){this.doc.setFont("helvetica","italic"),this.doc.setFontSize(9);const u=this.doc.splitTextToSize(o.notes,this.pageWidth-2*this.margin);this.doc.text(u,this.margin,r),r+=u.length*4}for(const u of o.days){r>this.pageHeight-60&&(this.doc.addPage(),r=this.margin),this.doc.setFont("helvetica","bold"),this.doc.setFontSize(11);const d=this.hexToRgb(i||"#4F46E5");if(this.doc.setTextColor(d.r,d.g,d.b),this.doc.text(u.name||"GIORNO",this.margin+5,r),r+=7,u.notes){this.doc.setFont("helvetica","italic"),this.doc.setFontSize(8);const f=this.doc.splitTextToSize(u.notes,this.pageWidth-2*this.margin);this.doc.text(f,this.margin+10,r),r+=f.length*3}if(u.exercises.length>0){const f=[65,20,20,25,30],m=["ESERCIZIO","SERIE","REPS","CARICO","RECUPERO"],y=this.margin+5;let g=r;this.doc.setFont("helvetica","bold"),this.doc.setFontSize(8),this.doc.setTextColor(0,0,0);let k=y;m.forEach((_,N)=>{this.doc.setLineWidth(.5),this.doc.text(_,k+2,g+4),this.doc.rect(k,g,f[N],6),k+=f[N]}),g+=6,this.doc.setFont("helvetica","normal"),this.doc.setFontSize(8);for(const _ of u.exercises){g>this.pageHeight-40&&(this.doc.addPage(),g=this.margin);const N=[_.name||"",_.sets||"",_.reps||"",_.load||"",_.rest||""];if(k=y,N.forEach((E,T)=>{const P=this.doc.splitTextToSize(E,f[T]-4);this.doc.text(P,k+2,g+4),this.doc.rect(k,g,f[T],8),k+=f[T]}),g+=8,_.notes){const E=this.doc.splitTextToSize(`Note: ${_.notes}`,this.pageWidth-2*this.margin);this.doc.setFont("helvetica","italic"),this.doc.setFontSize(7),this.doc.text(E,y,g+3),g+=E.length*3+2,this.doc.setFont("helvetica","normal"),this.doc.setFontSize(8)}}r=g+10}}r+=5}return r}addDietaryAdvice(e,r,n,i){r>this.pageHeight-60&&(this.doc.addPage(),r=this.margin),this.doc.setFont("helvetica","bold"),this.doc.setFontSize(14);const a=this.hexToRgb(i||"#4F46E5");this.doc.setTextColor(a.r,a.g,a.b),this.doc.text("CONSIGLI DIETISTICI",this.margin,r),r+=8,this.doc.setFont("helvetica","normal"),this.doc.setFontSize(10),this.doc.setTextColor(0,0,0);const o=this.doc.splitTextToSize(e,this.pageWidth-2*this.margin);return this.doc.text(o,this.margin,r),r+o.length*5}addFooter(e,r,n){const i=this.pageHeight-25;if(e){this.doc.setFont("helvetica","normal"),this.doc.setFontSize(8),this.doc.setTextColor(100,100,100);let o=[];if(e.email&&o.push(`Email: ${e.email}`),e.phone&&o.push(`Tel: ${e.phone}`),e.instagram){const l=e.instagram.startsWith("@")||e.instagram.startsWith("http")?e.instagram:`@${e.instagram}`;o.push(`Instagram: ${l}`)}if(e.facebook&&o.push(`Facebook: ${e.facebook}`),e.website){const l=e.website.startsWith("http")?e.website:`https://${e.website}`;o.push(`Web: ${l}`)}if(o.length>0){const l=o.join(" • "),u=this.doc.splitTextToSize(l,this.pageWidth-2*this.margin);this.doc.text(u,this.pageWidth/2,i,{align:"center"})}}const a=i+10;if(e?.showWatermark!==!1&&(this.doc.setFont("helvetica","italic"),this.doc.setFontSize(8),this.doc.setTextColor(150,150,150),this.doc.text("Generato con EasyWorkout Planner",this.margin,a)),r&&n){this.doc.setFont("helvetica","italic"),this.doc.setFontSize(8),this.doc.setTextColor(150,150,150);const o=`Pagina ${r} di ${n}`;this.doc.text(o,this.pageWidth/2,a,{align:"center"})}this.doc.setFont("helvetica","italic"),this.doc.setFontSize(8),this.doc.setTextColor(150,150,150),this.doc.text(new Date().toLocaleDateString("it-IT"),this.pageWidth-this.margin,a,{align:"right"})}fitText(e,r){if(!e)return"";if(this.doc.getTextWidth(e)<=r)return e;const n="…";let i=0,a=e.length,o="";for(;i<=a;){const l=Math.floor((i+a)/2),u=e.slice(0,l)+n;this.doc.getTextWidth(u)<=r?(o=u,i=l+1):a=l-1}return o||n}addGlossaryExercises(e,r,n,i,a){r>this.pageHeight-60&&(this.doc.addPage(),r=this.margin),this.doc.setFont("helvetica","bold"),this.doc.setFontSize(14);const o=this.hexToRgb(i||"#4F46E5");this.doc.setTextColor(o.r,o.g,o.b),this.doc.text("GLOSSARIO ESERCIZI",this.margin,r),r+=12,this.doc.setTextColor(0,0,0);const l=[];if(e.weeks.forEach(d=>{d.days.forEach(f=>{f.exercises.forEach(m=>{m.glossaryContent&&!l.some(y=>y.name===m.name)&&l.push(m)})})}),a&&a.length>0&&a.forEach(d=>{l.some(f=>f.name===d.name)||l.push({name:d.name,glossaryContent:d.glossaryContent||{description:d.description||"",images:d.images||[]}})}),l.length===0)return r;const u=this.hexToRgb(n||"#000000");for(const d of l){if(PE(this.doc,{startY:r,head:[[d.name]],body:[[d.glossaryContent?.description||"Nessuna descrizione"]],theme:"grid",styles:{fontSize:10,cellPadding:5,halign:"left"},headStyles:{fillColor:[u.r,u.g,u.b],textColor:255,fontSize:12},bodyStyles:{lineColor:[u.r,u.g,u.b],lineWidth:.2},margin:{left:this.margin,right:this.margin}}),r=this.doc.lastAutoTable.finalY+8,d.glossaryContent?.images?.length>0){let f=this.margin,m=r;const y=40,g=40;for(const k of d.glossaryContent.images){f+y>this.pageWidth-this.margin&&(f=this.margin,m+=g+10),m+g>this.pageHeight-30&&(this.doc.addPage(),m=this.margin);try{this.doc.addImage(k,"JPEG",f,m,y,g)}catch(_){console.warn("Errore immagine glossario:",_)}f+=y+10}r=m+g+15}r>this.pageHeight-60&&(this.doc.addPage(),r=this.margin)}return r}hexToRgb(e){const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:{r:0,g:0,b:0}}}function Np(){const{user:t}=Fu();return new oH(!!t)}var mn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(mn||(mn={}));var z_;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(z_||(z_={}));const tr=mn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pu=t=>{switch(typeof t){case"undefined":return tr.undefined;case"string":return tr.string;case"number":return Number.isNaN(t)?tr.nan:tr.number;case"boolean":return tr.boolean;case"function":return tr.function;case"bigint":return tr.bigint;case"symbol":return tr.symbol;case"object":return Array.isArray(t)?tr.array:t===null?tr.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?tr.promise:typeof Map<"u"&&t instanceof Map?tr.map:typeof Set<"u"&&t instanceof Set?tr.set:typeof Date<"u"&&t instanceof Date?tr.date:tr.object;default:return tr.unknown}},Et=mn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Mc extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return i(this),n}static assert(e){if(!(e instanceof Mc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,mn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Mc.create=t=>new Mc(t);const E1=(t,e)=>{let r;switch(t.code){case Et.invalid_type:t.received===tr.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Et.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,mn.jsonStringifyReplacer)}`;break;case Et.unrecognized_keys:r=`Unrecognized key(s) in object: ${mn.joinValues(t.keys,", ")}`;break;case Et.invalid_union:r="Invalid input";break;case Et.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${mn.joinValues(t.options)}`;break;case Et.invalid_enum_value:r=`Invalid enum value. Expected ${mn.joinValues(t.options)}, received '${t.received}'`;break;case Et.invalid_arguments:r="Invalid function arguments";break;case Et.invalid_return_type:r="Invalid function return type";break;case Et.invalid_date:r="Invalid date";break;case Et.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:mn.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Et.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Et.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Et.custom:r="Invalid input";break;case Et.invalid_intersection_types:r="Intersection results could not be merged";break;case Et.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Et.not_finite:r="Number must be finite";break;default:r=e.defaultError,mn.assertNever(t)}return{message:r}};let lH=E1;function cH(){return lH}const uH=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const u=n.filter(d=>!!d).slice().reverse();for(const d of u)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function zt(t,e){const r=cH(),n=uH({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===E1?void 0:E1].filter(i=>!!i)});t.common.issues.push(n)}class Po{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Mr;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return Po.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Mr;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Mr=Object.freeze({status:"aborted"}),Ih=t=>({status:"dirty",value:t}),Jo=t=>({status:"valid",value:t}),U_=t=>t.status==="aborted",$_=t=>t.status==="dirty",zf=t=>t.status==="valid",Ig=t=>typeof Promise<"u"&&t instanceof Promise;var or;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(or||(or={}));class Tu{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const q_=(t,e)=>{if(zf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Mc(t.common.issues);return this._error=r,this._error}}};function Jr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:u??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:u??r??l.defaultError}},description:i}}class fn{get description(){return this._def.description}_getType(e){return pu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:pu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Po,ctx:{common:e.parent.common,data:e.data,parsedType:pu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ig(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pu(e)},i=this._parseSync({data:e,path:n.path,parent:n});return q_(n,i)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pu(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return zf(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>zf(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pu(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Ig(i)?i:Promise.resolve(i));return q_(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:Et.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new qf({schema:this,typeName:Br.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Nu.create(this,this._def)}nullable(){return Wf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xl.create(this)}promise(){return Lg.create(this,this._def)}or(e){return Tg.create([this,e],this._def)}and(e){return Dg.create(this,e,this._def)}transform(e){return new qf({...Jr(this._def),schema:this,typeName:Br.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new T1({...Jr(this._def),innerType:this,defaultValue:r,typeName:Br.ZodDefault})}brand(){return new DH({typeName:Br.ZodBranded,type:this,...Jr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new D1({...Jr(this._def),innerType:this,catchValue:r,typeName:Br.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return x2.create(this,e)}readonly(){return L1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dH=/^c[^\s-]{8,}$/i,fH=/^[0-9a-z]+$/,hH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mH=/^[a-z0-9_-]{21}$/i,gH=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vH=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yH=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _y;const xH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,SH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_H=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kH=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,NH=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,jE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",CH=new RegExp(`^${jE}$`);function IE(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function AH(t){return new RegExp(`^${IE(t)}$`)}function EH(t){let e=`${jE}T${IE(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function PH(t,e){return!!((e==="v4"||!e)&&xH.test(t)||(e==="v6"||!e)&&SH.test(t))}function jH(t,e){if(!gH.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function IH(t,e){return!!((e==="v4"||!e)&&wH.test(t)||(e==="v6"||!e)&&_H.test(t))}class yu extends fn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==tr.string){const a=this._getOrReturnCtx(e);return zt(a,{code:Et.invalid_type,expected:tr.string,received:a.parsedType}),Mr}const n=new Po;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),zt(i,{code:Et.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),zt(i,{code:Et.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?zt(i,{code:Et.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&zt(i,{code:Et.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")yH.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"email",code:Et.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")_y||(_y=new RegExp(bH,"u")),_y.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"emoji",code:Et.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")pH.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"uuid",code:Et.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")mH.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"nanoid",code:Et.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")dH.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"cuid",code:Et.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")fH.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"cuid2",code:Et.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")hH.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"ulid",code:Et.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),zt(i,{validation:"url",code:Et.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"regex",code:Et.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),zt(i,{code:Et.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),zt(i,{code:Et.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),zt(i,{code:Et.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?EH(a).test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{code:Et.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?CH.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{code:Et.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?AH(a).test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{code:Et.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?vH.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"duration",code:Et.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?PH(e.data,a.version)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"ip",code:Et.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?jH(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"jwt",code:Et.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?IH(e.data,a.version)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"cidr",code:Et.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?kH.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"base64",code:Et.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?NH.test(e.data)||(i=this._getOrReturnCtx(e,i),zt(i,{validation:"base64url",code:Et.invalid_string,message:a.message}),n.dirty()):mn.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Et.invalid_string,...or.errToObj(n)})}_addCheck(e){return new yu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...or.errToObj(e)})}url(e){return this._addCheck({kind:"url",...or.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...or.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...or.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...or.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...or.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...or.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...or.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...or.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...or.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...or.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...or.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...or.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...or.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...or.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...or.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...or.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...or.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...or.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...or.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...or.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...or.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...or.errToObj(r)})}nonempty(e){return this.min(1,or.errToObj(e))}trim(){return new yu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}yu.create=t=>new yu({checks:[],typeName:Br.ZodString,coerce:t?.coerce??!1,...Jr(t)});function TH(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class Uf extends fn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==tr.number){const a=this._getOrReturnCtx(e);return zt(a,{code:Et.invalid_type,expected:tr.number,received:a.parsedType}),Mr}let n;const i=new Po;for(const a of this._def.checks)a.kind==="int"?mn.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),zt(n,{code:Et.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),zt(n,{code:Et.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),zt(n,{code:Et.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?TH(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),zt(n,{code:Et.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),zt(n,{code:Et.not_finite,message:a.message}),i.dirty()):mn.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,or.toString(r))}gt(e,r){return this.setLimit("min",e,!1,or.toString(r))}lte(e,r){return this.setLimit("max",e,!0,or.toString(r))}lt(e,r){return this.setLimit("max",e,!1,or.toString(r))}setLimit(e,r,n,i){return new Uf({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:or.toString(i)}]})}_addCheck(e){return new Uf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:or.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:or.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:or.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:or.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:or.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:or.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:or.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:or.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:or.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&mn.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Uf.create=t=>new Uf({checks:[],typeName:Br.ZodNumber,coerce:t?.coerce||!1,...Jr(t)});class op extends fn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==tr.bigint)return this._getInvalidInput(e);let n;const i=new Po;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),zt(n,{code:Et.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),zt(n,{code:Et.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),zt(n,{code:Et.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):mn.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return zt(r,{code:Et.invalid_type,expected:tr.bigint,received:r.parsedType}),Mr}gte(e,r){return this.setLimit("min",e,!0,or.toString(r))}gt(e,r){return this.setLimit("min",e,!1,or.toString(r))}lte(e,r){return this.setLimit("max",e,!0,or.toString(r))}lt(e,r){return this.setLimit("max",e,!1,or.toString(r))}setLimit(e,r,n,i){return new op({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:or.toString(i)}]})}_addCheck(e){return new op({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:or.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:or.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:or.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:or.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:or.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}op.create=t=>new op({checks:[],typeName:Br.ZodBigInt,coerce:t?.coerce??!1,...Jr(t)});class P1 extends fn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==tr.boolean){const n=this._getOrReturnCtx(e);return zt(n,{code:Et.invalid_type,expected:tr.boolean,received:n.parsedType}),Mr}return Jo(e.data)}}P1.create=t=>new P1({typeName:Br.ZodBoolean,coerce:t?.coerce||!1,...Jr(t)});class lp extends fn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==tr.date){const a=this._getOrReturnCtx(e);return zt(a,{code:Et.invalid_type,expected:tr.date,received:a.parsedType}),Mr}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return zt(a,{code:Et.invalid_date}),Mr}const n=new Po;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),zt(i,{code:Et.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),zt(i,{code:Et.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):mn.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new lp({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:or.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:or.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}lp.create=t=>new lp({checks:[],coerce:t?.coerce||!1,typeName:Br.ZodDate,...Jr(t)});class W_ extends fn{_parse(e){if(this._getType(e)!==tr.symbol){const n=this._getOrReturnCtx(e);return zt(n,{code:Et.invalid_type,expected:tr.symbol,received:n.parsedType}),Mr}return Jo(e.data)}}W_.create=t=>new W_({typeName:Br.ZodSymbol,...Jr(t)});class V_ extends fn{_parse(e){if(this._getType(e)!==tr.undefined){const n=this._getOrReturnCtx(e);return zt(n,{code:Et.invalid_type,expected:tr.undefined,received:n.parsedType}),Mr}return Jo(e.data)}}V_.create=t=>new V_({typeName:Br.ZodUndefined,...Jr(t)});class H_ extends fn{_parse(e){if(this._getType(e)!==tr.null){const n=this._getOrReturnCtx(e);return zt(n,{code:Et.invalid_type,expected:tr.null,received:n.parsedType}),Mr}return Jo(e.data)}}H_.create=t=>new H_({typeName:Br.ZodNull,...Jr(t)});class G_ extends fn{constructor(){super(...arguments),this._any=!0}_parse(e){return Jo(e.data)}}G_.create=t=>new G_({typeName:Br.ZodAny,...Jr(t)});class K_ extends fn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Jo(e.data)}}K_.create=t=>new K_({typeName:Br.ZodUnknown,...Jr(t)});class Du extends fn{_parse(e){const r=this._getOrReturnCtx(e);return zt(r,{code:Et.invalid_type,expected:tr.never,received:r.parsedType}),Mr}}Du.create=t=>new Du({typeName:Br.ZodNever,...Jr(t)});class Y_ extends fn{_parse(e){if(this._getType(e)!==tr.undefined){const n=this._getOrReturnCtx(e);return zt(n,{code:Et.invalid_type,expected:tr.void,received:n.parsedType}),Mr}return Jo(e.data)}}Y_.create=t=>new Y_({typeName:Br.ZodVoid,...Jr(t)});class Xl extends fn{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==tr.array)return zt(r,{code:Et.invalid_type,expected:tr.array,received:r.parsedType}),Mr;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(zt(r,{code:o?Et.too_big:Et.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(zt(r,{code:Et.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(zt(r,{code:Et.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new Tu(r,o,r.path,l)))).then(o=>Po.mergeArray(n,o));const a=[...r.data].map((o,l)=>i.type._parseSync(new Tu(r,o,r.path,l)));return Po.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Xl({...this._def,minLength:{value:e,message:or.toString(r)}})}max(e,r){return new Xl({...this._def,maxLength:{value:e,message:or.toString(r)}})}length(e,r){return new Xl({...this._def,exactLength:{value:e,message:or.toString(r)}})}nonempty(e){return this.min(1,e)}}Xl.create=(t,e)=>new Xl({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Br.ZodArray,...Jr(e)});function gf(t){if(t instanceof ra){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Nu.create(gf(n))}return new ra({...t._def,shape:()=>e})}else return t instanceof Xl?new Xl({...t._def,type:gf(t.element)}):t instanceof Nu?Nu.create(gf(t.unwrap())):t instanceof Wf?Wf.create(gf(t.unwrap())):t instanceof _d?_d.create(t.items.map(e=>gf(e))):t}class ra extends fn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=mn.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==tr.object){const d=this._getOrReturnCtx(e);return zt(d,{code:Et.invalid_type,expected:tr.object,received:d.parsedType}),Mr}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Du&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const u=[];for(const d of o){const f=a[d],m=i.data[d];u.push({key:{status:"valid",value:d},value:f._parse(new Tu(i,m,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Du){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")l.length>0&&(zt(i,{code:Et.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const m=i.data[f];u.push({key:{status:"valid",value:f},value:d._parse(new Tu(i,m,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of u){const m=await f.key,y=await f.value;d.push({key:m,value:y,alwaysSet:f.alwaysSet})}return d}).then(d=>Po.mergeObjectSync(n,d)):Po.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return or.errToObj,new ra({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:or.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ra({...this._def,unknownKeys:"strip"})}passthrough(){return new ra({...this._def,unknownKeys:"passthrough"})}extend(e){return new ra({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ra({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Br.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new ra({...this._def,catchall:e})}pick(e){const r={};for(const n of mn.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ra({...this._def,shape:()=>r})}omit(e){const r={};for(const n of mn.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new ra({...this._def,shape:()=>r})}deepPartial(){return gf(this)}partial(e){const r={};for(const n of mn.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new ra({...this._def,shape:()=>r})}required(e){const r={};for(const n of mn.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Nu;)a=a._def.innerType;r[n]=a}return new ra({...this._def,shape:()=>r})}keyof(){return TE(mn.objectKeys(this.shape))}}ra.create=(t,e)=>new ra({shape:()=>t,unknownKeys:"strip",catchall:Du.create(),typeName:Br.ZodObject,...Jr(e)});ra.strictCreate=(t,e)=>new ra({shape:()=>t,unknownKeys:"strict",catchall:Du.create(),typeName:Br.ZodObject,...Jr(e)});ra.lazycreate=(t,e)=>new ra({shape:t,unknownKeys:"strip",catchall:Du.create(),typeName:Br.ZodObject,...Jr(e)});class Tg extends fn{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Mc(l.ctx.common.issues));return zt(r,{code:Et.invalid_union,unionErrors:o}),Mr}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const u of n){const d={...r,common:{...r.common,issues:[]},parent:null},f=u._parseSync({data:r.data,path:r.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(u=>new Mc(u));return zt(r,{code:Et.invalid_union,unionErrors:l}),Mr}}get options(){return this._def.options}}Tg.create=(t,e)=>new Tg({options:t,typeName:Br.ZodUnion,...Jr(e)});function j1(t,e){const r=pu(t),n=pu(e);if(t===e)return{valid:!0,data:t};if(r===tr.object&&n===tr.object){const i=mn.objectKeys(e),a=mn.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const u=j1(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(r===tr.array&&n===tr.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],u=j1(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===tr.date&&n===tr.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Dg extends fn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(U_(a)||U_(o))return Mr;const l=j1(a.value,o.value);return l.valid?(($_(a)||$_(o))&&r.dirty(),{status:r.value,value:l.data}):(zt(n,{code:Et.invalid_intersection_types}),Mr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Dg.create=(t,e,r)=>new Dg({left:t,right:e,typeName:Br.ZodIntersection,...Jr(r)});class _d extends fn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==tr.array)return zt(n,{code:Et.invalid_type,expected:tr.array,received:n.parsedType}),Mr;if(n.data.length<this._def.items.length)return zt(n,{code:Et.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mr;!this._def.rest&&n.data.length>this._def.items.length&&(zt(n,{code:Et.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Tu(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Po.mergeArray(r,o)):Po.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new _d({...this._def,rest:e})}}_d.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _d({items:t,typeName:Br.ZodTuple,rest:null,...Jr(e)})};class J_ extends fn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==tr.map)return zt(n,{code:Et.invalid_type,expected:tr.map,received:n.parsedType}),Mr;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,u],d)=>({key:i._parse(new Tu(n,l,n.path,[d,"key"])),value:a._parse(new Tu(n,u,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,f=await u.value;if(d.status==="aborted"||f.status==="aborted")return Mr;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(d.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const u of o){const d=u.key,f=u.value;if(d.status==="aborted"||f.status==="aborted")return Mr;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(d.value,f.value)}return{status:r.value,value:l}}}}J_.create=(t,e,r)=>new J_({valueType:e,keyType:t,typeName:Br.ZodMap,...Jr(r)});class cp extends fn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==tr.set)return zt(n,{code:Et.invalid_type,expected:tr.set,received:n.parsedType}),Mr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(zt(n,{code:Et.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(zt(n,{code:Et.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(u){const d=new Set;for(const f of u){if(f.status==="aborted")return Mr;f.status==="dirty"&&r.dirty(),d.add(f.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((u,d)=>a._parse(new Tu(n,u,n.path,d)));return n.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,r){return new cp({...this._def,minSize:{value:e,message:or.toString(r)}})}max(e,r){return new cp({...this._def,maxSize:{value:e,message:or.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}cp.create=(t,e)=>new cp({valueType:t,minSize:null,maxSize:null,typeName:Br.ZodSet,...Jr(e)});class Q_ extends fn{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Q_.create=(t,e)=>new Q_({getter:t,typeName:Br.ZodLazy,...Jr(e)});class I1 extends fn{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return zt(r,{received:r.data,code:Et.invalid_literal,expected:this._def.value}),Mr}return{status:"valid",value:e.data}}get value(){return this._def.value}}I1.create=(t,e)=>new I1({value:t,typeName:Br.ZodLiteral,...Jr(e)});function TE(t,e){return new $f({values:t,typeName:Br.ZodEnum,...Jr(e)})}class $f extends fn{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return zt(r,{expected:mn.joinValues(n),received:r.parsedType,code:Et.invalid_type}),Mr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return zt(r,{received:r.data,code:Et.invalid_enum_value,options:n}),Mr}return Jo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return $f.create(e,{...this._def,...r})}exclude(e,r=this._def){return $f.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}$f.create=TE;class Z_ extends fn{_parse(e){const r=mn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==tr.string&&n.parsedType!==tr.number){const i=mn.objectValues(r);return zt(n,{expected:mn.joinValues(i),received:n.parsedType,code:Et.invalid_type}),Mr}if(this._cache||(this._cache=new Set(mn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=mn.objectValues(r);return zt(n,{received:n.data,code:Et.invalid_enum_value,options:i}),Mr}return Jo(e.data)}get enum(){return this._def.values}}Z_.create=(t,e)=>new Z_({values:t,typeName:Br.ZodNativeEnum,...Jr(e)});class Lg extends fn{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==tr.promise&&r.common.async===!1)return zt(r,{code:Et.invalid_type,expected:tr.promise,received:r.parsedType}),Mr;const n=r.parsedType===tr.promise?r.data:Promise.resolve(r.data);return Jo(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Lg.create=(t,e)=>new Lg({type:t,typeName:Br.ZodPromise,...Jr(e)});class qf extends fn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Br.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{zt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Mr;const u=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return u.status==="aborted"?Mr:u.status==="dirty"||r.value==="dirty"?Ih(u.value):u});{if(r.value==="aborted")return Mr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Mr:l.status==="dirty"||r.value==="dirty"?Ih(l.value):l}}if(i.type==="refinement"){const o=l=>{const u=i.refinement(l,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Mr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Mr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!zf(o))return Mr;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>zf(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:r.value,value:l})):Mr);mn.assertNever(i)}}qf.create=(t,e,r)=>new qf({schema:t,typeName:Br.ZodEffects,effect:e,...Jr(r)});qf.createWithPreprocess=(t,e,r)=>new qf({schema:e,effect:{type:"preprocess",transform:t},typeName:Br.ZodEffects,...Jr(r)});class Nu extends fn{_parse(e){return this._getType(e)===tr.undefined?Jo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Nu.create=(t,e)=>new Nu({innerType:t,typeName:Br.ZodOptional,...Jr(e)});class Wf extends fn{_parse(e){return this._getType(e)===tr.null?Jo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wf.create=(t,e)=>new Wf({innerType:t,typeName:Br.ZodNullable,...Jr(e)});class T1 extends fn{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===tr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}T1.create=(t,e)=>new T1({innerType:t,typeName:Br.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Jr(e)});class D1 extends fn{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ig(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Mc(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Mc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}D1.create=(t,e)=>new D1({innerType:t,typeName:Br.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Jr(e)});class X_ extends fn{_parse(e){if(this._getType(e)!==tr.nan){const n=this._getOrReturnCtx(e);return zt(n,{code:Et.invalid_type,expected:tr.nan,received:n.parsedType}),Mr}return{status:"valid",value:e.data}}}X_.create=t=>new X_({typeName:Br.ZodNaN,...Jr(t)});class DH extends fn{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class x2 extends fn{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Mr:a.status==="dirty"?(r.dirty(),Ih(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Mr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new x2({in:e,out:r,typeName:Br.ZodPipeline})}}class L1 extends fn{_parse(e){const r=this._def.innerType._parse(e),n=i=>(zf(i)&&(i.value=Object.freeze(i.value)),i);return Ig(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}L1.create=(t,e)=>new L1({innerType:t,typeName:Br.ZodReadonly,...Jr(e)});var Br;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Br||(Br={}));const Nr=yu.create,vv=Uf.create,R1=P1.create,up=lp.create;Du.create;const Cp=Xl.create,Bc=ra.create;Tg.create;Dg.create;_d.create;const DE=I1.create,O1=$f.create;Lg.create;Nu.create;Wf.create;const LH=Bc({id:Nr(),name:Nr().min(1,"Nome esercizio richiesto"),description:Nr().optional(),images:Cp(Nr()).default([]),createdAt:up(),updatedAt:up()}),RH=Bc({description:Nr().optional(),images:Cp(Nr()).default([])}),LE=Bc({id:Nr(),name:Nr().min(1,"Nome esercizio richiesto"),sets:Nr().min(1,"Serie richieste"),reps:Nr().min(1,"Ripetizioni richieste"),load:Nr().optional(),rest:Nr().optional(),notes:Nr().optional(),order:vv().default(0),glossaryId:Nr().optional(),glossaryContent:RH.optional()}),RE=Bc({id:Nr(),name:Nr().min(1,"Nome giorno richiesto"),exercises:Cp(LE),notes:Nr().optional()}),OE=Bc({id:Nr(),number:vv().min(1),name:Nr().optional(),days:Cp(RE),notes:Nr().optional()}),OH=Bc({id:Nr(),name:Nr().min(1,"Nome scheda richiesto"),coachName:Nr().optional(),clientName:Nr().min(1,"Nome cliente richiesto"),clientId:Nr().optional(),workoutType:Nr().min(1,"Tipo scheda richiesto"),level:O1(["Neofita","Principiante","Intermedio","Avanzato"]).optional(),duration:vv().min(1,"Durata richiesta"),description:Nr().optional(),clientComment:Nr().optional(),dietaryAdvice:Nr().optional(),weeks:Cp(OE),createdAt:up(),updatedAt:up()}),FH=Bc({id:Nr(),name:Nr().min(1,"Nome cliente richiesto"),email:Nr().email().or(DE("")).optional(),phone:Nr().optional(),notes:Nr().optional(),createdAt:up()}),MH=Bc({id:Nr(),name:Nr().min(1,"Nome coach richiesto"),email:Nr().email().or(DE("")).optional(),phone:Nr().optional(),bio:Nr().optional(),logo:Nr().optional(),instagram:Nr().optional(),facebook:Nr().optional(),website:Nr().optional(),exportPath:Nr().optional(),pdfLineColor:Nr().optional().default("#000000"),pdfTextColor:Nr().optional().default("#4F46E5"),showWatermark:R1().optional().default(!0),useWorkoutNameAsTitle:R1().optional().default(!1)});LH.omit({id:!0,createdAt:!0,updatedAt:!0});LE.omit({id:!0});RE.omit({id:!0});OE.omit({id:!0});const BH=OH.omit({id:!0,createdAt:!0,updatedAt:!0}),zH=FH.omit({id:!0,createdAt:!0}),UH=MH.omit({id:!0}),FE=["Forza e Massa","Definizione","Resistenza","Riabilitazione","Funzionale"],$H=["Neofita","Principiante","Intermedio","Avanzato"];Bc({lineColor:Nr().default("#000000"),showWatermark:R1().default(!0),headerStyle:O1(["minimal","standard","detailed"]).default("standard"),fontSize:O1(["small","medium","large"]).default("medium")});const qH=BH.extend({name:Nr().min(1,"Nome scheda richiesto"),clientName:Nr().min(1,"Nome cliente richiesto"),duration:vv().min(1,"Durata richiesta")});function F1({existingWorkout:t,onSuccess:e}){const[r,n]=D.useState(t?.weeks||[]),[i,a]=D.useState(t?.clientId||null),[o,l]=D.useState("form"),[u,d]=D.useState(!1);D.useEffect(()=>{try{const G=window.matchMedia("(pointer: coarse), (max-width: 640px)"),H=()=>d(G.matches);return H(),G.addEventListener("change",H),()=>G.removeEventListener("change",H)}catch{d(window.innerWidth<=640)}},[]),D.useEffect(()=>{u&&o!=="form"&&l("form")},[u,o]);const{data:f}=bp(),{data:m}=Eb(),y=KC(),g=Ab(),{toast:k}=gs(),_=Np(),N=Bb({resolver:zb(qH),defaultValues:{name:t?.name||"",coachName:f?.name||"",clientName:t?.clientName||"",clientId:t?.clientId||"",workoutType:t?.workoutType||"",level:t?.level||void 0,duration:t?.duration||8,description:t?.description||"",dietaryAdvice:t?.dietaryAdvice||"",weeks:t?.weeks||[]}}),E=G=>{if(G==="new")a(null),N.setValue("clientName",""),N.setValue("clientId","");else{const H=m?.find(oe=>oe.id===G);H&&(a(G),N.setValue("clientName",H.name),N.setValue("clientId",G))}};D.useEffect(()=>{if(t){const G=t.weeks.map(H=>({...H,days:H.days.map(oe=>({...oe,exercises:oe.exercises.filter(z=>z!==null).map(z=>({...z,name:z.name||"Nuovo Esercizio",sets:z.sets===""||z.sets===null?"1":z.sets,reps:z.reps===""||z.reps===null?"1":z.reps}))}))}));n(G),a(t.clientId||null),N.reset({name:t.name||"",coachName:f?.name||"",clientName:t.clientName,clientId:t.clientId||"",workoutType:t.workoutType,level:t.level||void 0,duration:t.duration,description:t.description||"",dietaryAdvice:t.dietaryAdvice||"",weeks:G})}},[t,N,f?.name]);const T=()=>{const G={id:crypto.randomUUID(),number:r.length+1,name:`SETTIMANA ${r.length+1}`,days:[{id:crypto.randomUUID(),name:"Giorno 1",exercises:[]}]};n([...r,G])},P=(G,H)=>{n(r.map(oe=>oe.id===G?H:oe))},R=G=>{const oe=r.filter(z=>z.id!==G).map((z,U)=>({...z,number:U+1}));n(oe)},M=async G=>{try{if(t)await g.mutateAsync({id:t.id,updates:{...G,coachName:f?.name||G.coachName,weeks:r,updatedAt:new Date}}),k({title:"Scheda aggiornata",description:"Le modifiche sono state salvate con successo"}),setTimeout(()=>{e?.()},100);else{const H={...G,coachName:f?.name||G.coachName,weeks:r};await y.mutateAsync(H),k({title:"Scheda creata",description:"La scheda è stata creata con successo"}),N.reset(),n([]),e?.()}}catch{k({title:"Errore",description:t?"Impossibile aggiornare la scheda":"Impossibile salvare la scheda",variant:"destructive"})}},Q=async()=>{const H={id:"preview",...N.getValues(),weeks:r,createdAt:new Date,updatedAt:new Date};try{const oe=await _.generateWorkoutPDF(H,f),z=URL.createObjectURL(oe);window.open(z,"_blank")}catch{k({title:"Errore",description:"Impossibile generare l'anteprima PDF",variant:"destructive"})}},K=async()=>{const G=N.getValues(),H={id:"export",...G,weeks:r,createdAt:new Date,updatedAt:new Date};try{const oe=await _.generateWorkoutPDF(H,f),z=`scheda-${G.clientName.replace(/\s+/g,"-").toLowerCase()}.pdf`;_.downloadPDF(oe,z,f?.exportPath);const U=parseInt(localStorage.getItem("exportedPDFs")||"0");localStorage.setItem("exportedPDFs",(U+1).toString()),k({title:"PDF esportato",description:"Il PDF è stato scaricato con successo"})}catch{k({title:"Errore",description:"Impossibile esportare il PDF",variant:"destructive"})}};return h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"glass-effect rounded-2xl p-6 mb-8 animate-fade-in overflow-x-hidden",children:[h.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:h.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t?"Modifica Scheda":"Crea Nuova Scheda"})}),h.jsx(Wb,{...N,children:h.jsxs("form",{onSubmit:N.handleSubmit(M),className:"space-y-6",children:[h.jsx("div",{className:"mb-6",children:h.jsx(mi,{control:N.control,name:"name",render:({field:G})=>h.jsxs(ai,{children:[h.jsx(si,{className:"text-lg font-semibold",children:"Nome Scheda"}),h.jsx(oi,{children:h.jsx(Ir,{placeholder:"es. Scheda Planche",...G,className:"glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm text-lg"})}),h.jsx(Ei,{})]})})}),h.jsx("div",{className:"mb-6",children:h.jsx(mi,{control:N.control,name:"clientName",render:({field:G})=>h.jsxs(ai,{children:[h.jsxs(si,{className:"flex items-center gap-2",children:[h.jsx(Tf,{size:16}),"Cliente"]}),h.jsxs("div",{className:"space-y-3",children:[m&&m.length>0&&h.jsxs(Wm,{value:i||"new",onValueChange:E,children:[h.jsx(Mh,{className:"glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:h.jsx(Vm,{placeholder:"Seleziona cliente esistente"})}),h.jsxs(Bh,{children:[h.jsx(gu,{value:"new",children:"Nuovo cliente"}),m.map(H=>h.jsx(gu,{value:H.id,children:H.name},H.id))]})]}),h.jsx(oi,{children:h.jsx(Ir,{placeholder:"Nome del cliente",...G,className:"glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",disabled:!!i})})]}),h.jsx(Ei,{})]})})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsx(mi,{control:N.control,name:"workoutType",render:({field:G})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Tipo di Scheda"}),h.jsxs(Wm,{onValueChange:G.onChange,defaultValue:G.value,children:[h.jsx(oi,{children:h.jsx(Mh,{className:"glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:h.jsx(Vm,{placeholder:"Seleziona tipo"})})}),h.jsx(Bh,{children:FE.map(H=>h.jsx(gu,{value:H,children:H},H))})]}),h.jsx(Ei,{})]})}),h.jsx(mi,{control:N.control,name:"level",render:({field:G})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Livello (Opzionale)"}),h.jsxs(Wm,{onValueChange:G.onChange,defaultValue:G.value,value:G.value,children:[h.jsx(oi,{children:h.jsx(Mh,{className:"glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:h.jsx(Vm,{placeholder:"Seleziona livello"})})}),h.jsxs(Bh,{children:[h.jsx(gu,{value:"none",children:"Nessun livello"}),$H.map(H=>h.jsx(gu,{value:H,children:H},H))]})]}),h.jsx(Ei,{})]})}),h.jsx(mi,{control:N.control,name:"duration",render:({field:G})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Durata (Settimane)"}),h.jsx(oi,{children:h.jsx(Ir,{type:"number",min:"1",max:"52",placeholder:"8",...G,onChange:H=>G.onChange(parseInt(H.target.value)),className:"glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm"})}),h.jsx(Ei,{})]})})]}),h.jsx(mi,{control:N.control,name:"description",render:({field:G})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Descrizione Iniziale"}),h.jsx(oi,{children:h.jsx(Co,{placeholder:"Programma di allenamento personalizzato...",rows:3,...G,className:"glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm resize-none"})}),h.jsx(Ei,{})]})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between mb-4",children:[h.jsx("h3",{className:"hidden md:block text-lg font-semibold text-gray-900 dark:text-white",children:"Progressione Settimanale"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(vM,{value:o,onValueChange:G=>l(G),className:"w-full md:w-auto",children:h.jsxs(p3,{className:"grid w-full md:w-[220px] grid-cols-2",children:[h.jsxs(s1,{value:"form",className:"flex items-center gap-1",children:[h.jsx(CI,{size:14}),h.jsx("span",{children:"Form"})]}),h.jsxs(s1,{value:"dragdrop",className:"flex items-center gap-1 disabled:opacity-50",disabled:u,onClick:G=>{u&&G.preventDefault()},children:[h.jsx(NI,{size:14}),h.jsx("span",{children:"Drag & Drop"})]})]})}),h.jsxs(ht,{type:"button",onClick:T,size:"sm",className:"bg-emerald-500 hover:bg-emerald-600 w-full md:w-auto",children:[h.jsx(Os,{className:"mr-1",size:14}),"Aggiungi Settimana"]})]})]}),h.jsx("div",{className:"space-y-4",children:o==="form"||u?r.map(G=>h.jsx(bM,{week:G,onUpdateWeek:H=>P(G.id,H),onRemoveWeek:()=>R(G.id)},G.id)):h.jsx(R$,{weeks:r,onWeeksChange:G=>n(G)})})]}),h.jsx(mi,{control:N.control,name:"dietaryAdvice",render:({field:G})=>h.jsxs(ai,{children:[h.jsxs(si,{className:"flex items-center",children:[h.jsx(TI,{className:"mr-2 text-emerald-500",size:16}),"Consigli Dietistici"]}),h.jsx(oi,{children:h.jsx(Co,{placeholder:"Consigli nutrizionali per il cliente...",rows:4,...G,className:"glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm resize-none"})}),h.jsx(Ei,{})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsx(ht,{type:"submit",disabled:N.formState.isSubmitting,className:"w-full",onClick:()=>{console.log("Aggiorna Scheda button pressed"),console.log("Form errors:",N.formState.errors)},children:t?"Aggiorna Scheda":"Crea Scheda"}),h.jsxs(ht,{type:"button",onClick:Q,className:"flex-1 bg-gradient-secondary hover:opacity-90 transition-opacity",children:[h.jsx(mp,{className:"mr-2",size:16}),"Anteprima PDF"]}),h.jsxs(ht,{type:"button",onClick:K,className:"flex-1 bg-gradient-accent hover:opacity-90 transition-opacity",children:[h.jsx(Dc,{className:"mr-2",size:16}),"Esporta PDF"]})]})]})})]})})}function WH({workout:t}){const[e,r]=D.useState(!1),{toast:n}=gs(),{data:i}=bp(),a=Np(),o=async()=>{try{const u=await a.generateWorkoutPDF(t,i),d=`scheda-${t.clientName.replace(/\s+/g,"-").toLowerCase()}.pdf`;a.downloadPDF(u,d,i?.exportPath);const f=parseInt(localStorage.getItem("exportedPDFs")||"0");localStorage.setItem("exportedPDFs",(f+1).toString()),n({title:"PDF esportato",description:"Il PDF è stato scaricato con successo"})}catch{n({title:"Errore",description:"Impossibile esportare il PDF",variant:"destructive"})}},l=Pb(t.updatedAt,{addSuffix:!0,locale:Ib});return h.jsxs("div",{className:"p-4 bg-white/30 dark:bg-gray-800/30 rounded-xl hover:bg-white/50 dark:hover:bg-gray-700/50 transition-all duration-200 cursor-pointer animate-fade-in",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm truncate pr-2",children:t.name||`Scheda ${t.clientName}`}),h.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:l})]}),h.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:["Cliente: ",t.clientName]}),h.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:[t.workoutType," • ",t.duration," settimane"]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex space-x-1",children:[h.jsx(So,{href:`/workout/${t.id}`,children:h.jsx(ht,{size:"sm",variant:"ghost",className:"p-3 h-12 w-12 sm:p-1 sm:h-8 sm:w-8 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20","aria-label":"Visualizza",children:h.jsx(mp,{className:"w-6 h-6 sm:w-4 sm:h-4"})})}),h.jsxs(Fs,{open:e,onOpenChange:r,children:[h.jsx(Zg,{asChild:!0,children:h.jsx(ht,{size:"sm",variant:"ghost",onClick:u=>u.stopPropagation(),className:"p-3 h-12 w-12 sm:p-1 sm:h-8 sm:w-8 text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20","aria-label":"Modifica",children:h.jsx(jf,{className:"w-6 h-6 sm:w-4 sm:h-4"})})}),h.jsxs(hs,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[h.jsx(ps,{children:h.jsxs(ms,{children:["Modifica Scheda - ",t.clientName]})}),h.jsx(F1,{existingWorkout:t,onSuccess:()=>r(!1)})]})]}),h.jsx(ht,{size:"sm",variant:"ghost",onClick:u=>{u.stopPropagation(),o()},className:"p-3 h-12 w-12 sm:p-1 sm:h-8 sm:w-8 text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20","aria-label":"Esporta PDF",children:h.jsx(Lc,{className:"w-6 h-6 sm:w-4 sm:h-4"})})]}),h.jsx("div",{className:"flex items-center",children:h.jsx("div",{className:`w-2 h-2 rounded-full ${Date.now()-t.updatedAt.getTime()<10080*60*1e3?"bg-emerald-400 animate-pulse-soft":"bg-gray-300 dark:bg-gray-600"}`})})]})]})}function VH(){const{data:t=[],isLoading:e}=Xg(),{toast:r}=gs(),n=D.useRef(null),i=t.slice(0,3),a=async l=>{try{await yn.importFromJSON(l),r({title:"Importazione completata",description:"I dati sono stati importati con successo"}),window.location.reload()}catch(u){r({title:"Errore",description:u instanceof Error?u.message:"Errore durante l'importazione",variant:"destructive"})}},o=async()=>{try{await yn.exportToJSON(),yn.setLastBackupDate(),r({title:"Backup completato",description:"I dati sono stati esportati con successo"})}catch{r({title:"Errore",description:"Impossibile completare il backup",variant:"destructive"})}};return h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-mobile-nav",children:[h.jsx("div",{className:"text-center mb-8 md:mb-12",children:h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg md:text-xl max-w-2xl mx-auto",children:"Gestisci i tuoi allenamenti e clienti con facilità. Crea schede personalizzate, esporta dati e molto altro."})}),h.jsx(D8,{}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[h.jsx(So,{href:"/clients",children:h.jsx(xa,{className:"glass-effect rounded-2xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:h.jsxs(wa,{className:"p-6 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:h.jsx(Tf,{className:"text-white",size:32})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Gestione Clienti"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Aggiungi e gestisci i tuoi clienti"})]})})}),h.jsx(So,{href:"/workouts",children:h.jsx(xa,{className:"glass-effect rounded-2xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:h.jsxs(wa,{className:"p-6 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:h.jsx(Kh,{className:"text-white",size:32})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Schede Workout"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Crea e modifica le schede di allenamento"})]})})}),h.jsx(So,{href:"/settings",children:h.jsx(xa,{className:"glass-effect rounded-2xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:h.jsxs(wa,{className:"p-6 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:h.jsx(Z1,{className:"text-white",size:32})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Impostazioni"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Configura profilo coach e export"})]})})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs(xa,{className:"glass-effect rounded-2xl animate-fade-in",children:[h.jsx(wl,{children:h.jsxs(Sl,{className:"text-gray-900 dark:text-white flex items-center text-xl",children:[h.jsx(Os,{className:"mr-2",size:24}),"Crea Nuova Scheda"]})}),h.jsx(wa,{children:h.jsx(So,{href:"/workouts",children:h.jsxs(ht,{className:"w-full h-14 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white text-lg font-semibold",children:[h.jsx(Os,{className:"mr-2",size:20}),"Inizia a Creare"]})})})]})}),h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx(xa,{className:"glass-effect rounded-2xl mb-6 animate-fade-in",children:h.jsxs(wa,{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Schede Recenti"}),e?h.jsx("div",{className:"space-y-3",children:[1,2,3].map(l=>h.jsx("div",{className:"h-20 bg-gray-200 dark:bg-gray-700 rounded-xl animate-pulse"},l))}):i.length>0?h.jsx("div",{className:"space-y-3",children:i.map(l=>h.jsx(WH,{workout:l},l.id))}):h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm text-center py-8",children:"Nessuna scheda creata ancora"})]})}),h.jsx(xa,{className:"glass-effect rounded-2xl mb-6 animate-fade-in",children:h.jsxs(wa,{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Azioni Rapide"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(ht,{onClick:()=>n.current?.click(),className:"w-full p-4 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 border border-indigo-200 dark:border-indigo-700 hover:from-indigo-100 hover:to-purple-100 dark:hover:from-indigo-800/40 dark:hover:to-purple-800/40 text-left justify-start h-auto min-h-[70px]",variant:"ghost",children:[h.jsx(Dy,{className:"text-indigo-500 mr-4",size:22}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Importa Dati"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Da file JSON"})]})]}),h.jsxs(ht,{onClick:o,className:"w-full p-4 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/30 dark:to-teal-900/30 border border-emerald-200 dark:border-emerald-700 hover:from-emerald-100 hover:to-teal-100 dark:hover:from-emerald-800/40 dark:hover:to-teal-800/40 text-left justify-start h-auto min-h-[70px]",variant:"ghost",children:[h.jsx(Dc,{className:"text-emerald-500 mr-4",size:22}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Backup Dati"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Esporta tutto"})]})]}),h.jsx("div",{children:h.jsx(So,{href:"/clients",children:h.jsxs(ht,{className:"w-full p-4 bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30 border border-orange-200 dark:border-orange-700 hover:from-orange-100 hover:to-red-100 dark:hover:from-orange-800/40 dark:hover:to-red-800/40 text-left justify-start h-auto min-h-[70px]",variant:"ghost",children:[h.jsx(Tf,{className:"text-orange-500 mr-4",size:22}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Gestisci Clienti"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Aggiungi/Modifica"})]})]})})})]})]})})]})]}),h.jsx("input",{ref:n,type:"file",accept:".json",onChange:l=>{const u=l.target.files?.[0];u&&a(u)},className:"hidden"})]})}var ME="AlertDialog",[HH,ZG]=Cl(ME,[NC]),zc=NC(),BE=t=>{const{__scopeAlertDialog:e,...r}=t,n=zc(e);return h.jsx(UC,{...n,...r,modal:!0})};BE.displayName=ME;var GH="AlertDialogTrigger",zE=D.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=zc(r);return h.jsx($C,{...i,...n,ref:e})});zE.displayName=GH;var KH="AlertDialogPortal",UE=t=>{const{__scopeAlertDialog:e,...r}=t,n=zc(e);return h.jsx(qC,{...n,...r})};UE.displayName=KH;var YH="AlertDialogOverlay",$E=D.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=zc(r);return h.jsx(Sb,{...i,...n,ref:e})});$E.displayName=YH;var Ef="AlertDialogContent",[JH,QH]=HH(Ef),ZH=Ak("AlertDialogContent"),qE=D.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=zc(r),o=D.useRef(null),l=gn(e,o),u=D.useRef(null);return h.jsx(f8,{contentName:Ef,titleName:WE,docsSlug:"alert-dialog",children:h.jsx(JH,{scope:r,cancelRef:u,children:h.jsxs(_b,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:fr(i.onOpenAutoFocus,d=>{d.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[h.jsx(ZH,{children:n}),h.jsx(eG,{contentRef:o})]})})})});qE.displayName=Ef;var WE="AlertDialogTitle",VE=D.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=zc(r);return h.jsx(kb,{...i,...n,ref:e})});VE.displayName=WE;var HE="AlertDialogDescription",GE=D.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=zc(r);return h.jsx(Nb,{...i,...n,ref:e})});GE.displayName=HE;var XH="AlertDialogAction",KE=D.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=zc(r);return h.jsx(Cb,{...i,...n,ref:e})});KE.displayName=XH;var YE="AlertDialogCancel",JE=D.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=QH(YE,r),a=zc(r),o=gn(e,i);return h.jsx(Cb,{...a,...n,ref:o})});JE.displayName=YE;var eG=({contentRef:t})=>{const e=`\`${Ef}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ef}\` by passing a \`${HE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ef}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return D.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},tG=BE,rG=zE,nG=UE,QE=$E,ZE=qE,XE=KE,eP=JE,tP=VE,rP=GE;const iG=tG,aG=rG,sG=nG,nP=D.forwardRef(({className:t,...e},r)=>h.jsx(QE,{className:hr("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));nP.displayName=QE.displayName;const iP=D.forwardRef(({className:t,...e},r)=>h.jsxs(sG,{children:[h.jsx(nP,{}),h.jsx(ZE,{ref:r,className:hr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));iP.displayName=ZE.displayName;const aP=({className:t,...e})=>h.jsx("div",{className:hr("flex flex-col space-y-2 text-center sm:text-left",t),...e});aP.displayName="AlertDialogHeader";const sP=({className:t,...e})=>h.jsx("div",{className:hr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});sP.displayName="AlertDialogFooter";const oP=D.forwardRef(({className:t,...e},r)=>h.jsx(tP,{ref:r,className:hr("text-lg font-semibold",t),...e}));oP.displayName=tP.displayName;const lP=D.forwardRef(({className:t,...e},r)=>h.jsx(rP,{ref:r,className:hr("text-sm text-muted-foreground",t),...e}));lP.displayName=rP.displayName;const cP=D.forwardRef(({className:t,...e},r)=>h.jsx(XE,{ref:r,className:hr(db(),t),...e}));cP.displayName=XE.displayName;const uP=D.forwardRef(({className:t,...e},r)=>h.jsx(eP,{ref:r,className:hr(db({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));uP.displayName=eP.displayName;function oG({workout:t,onEdit:e,onDuplicate:r}){const{toast:n}=gs(),{data:i}=bp(),a=A8(),o=Np(),l=async()=>{try{const f=await o.generateWorkoutPDF(t,i),m=URL.createObjectURL(f),y=document.createElement("a");y.href=m,y.download=`scheda-${t.clientName.replace(/\s+/g,"-").toLowerCase()}.pdf`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(m);const g=parseInt(localStorage.getItem("exportedPDFs")||"0");localStorage.setItem("exportedPDFs",(g+1).toString()),n({title:"PDF esportato",description:"Il PDF è stato scaricato con successo"})}catch{n({title:"Errore",description:"Impossibile esportare il PDF",variant:"destructive"})}},u=async()=>{try{await a.mutateAsync(t.id),n({title:"Scheda eliminata",description:"La scheda è stata rimossa con successo"})}catch{n({title:"Errore",description:"Impossibile eliminare la scheda",variant:"destructive"})}},d=Pb(t.updatedAt,{addSuffix:!0,locale:Ib});return h.jsxs("div",{className:"p-4 bg-white/30 dark:bg-gray-800/30 rounded-xl hover:bg-white/50 dark:hover:bg-gray-700/50 transition-all duration-200 cursor-pointer animate-fade-in",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm truncate pr-2",children:t.name||`Scheda ${t.clientName}`}),h.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:d})]}),h.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:["Cliente: ",t.clientName]}),h.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:[t.workoutType," • ",t.duration," settimane"]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex flex-wrap space-x-1",children:[h.jsx(So,{href:`/workout/${t.id}`,children:h.jsx(ht,{size:"sm",variant:"ghost",className:"p-3 h-12 w-12 sm:p-1 sm:h-8 sm:w-8 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20","aria-label":"Visualizza",children:h.jsx(mp,{className:"w-6 h-6 sm:w-4 sm:h-4"})})}),h.jsx(ht,{size:"sm",variant:"ghost",onClick:f=>{f.stopPropagation(),e?.(t)},className:"p-3 h-12 w-12 sm:p-1 sm:h-8 sm:w-8 text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20","aria-label":"Modifica",children:h.jsx(jf,{className:"w-6 h-6 sm:w-4 sm:h-4"})}),h.jsx(ht,{size:"sm",variant:"ghost",onClick:f=>{f.stopPropagation(),r?.(t)},className:"p-3 h-12 w-12 sm:p-1 sm:h-8 sm:w-8 text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20","aria-label":"Duplica",children:h.jsx(bI,{className:"w-6 h-6 sm:w-4 sm:h-4"})}),h.jsx(ht,{size:"sm",variant:"ghost",onClick:f=>{f.stopPropagation(),l()},className:"p-3 h-12 w-12 sm:p-1 sm:h-8 sm:w-8 text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20","aria-label":"Esporta PDF",children:h.jsx(Lc,{className:"w-6 h-6 sm:w-4 sm:h-4"})}),h.jsxs(iG,{children:[h.jsx(aG,{asChild:!0,children:h.jsx(ht,{size:"sm",variant:"ghost",onClick:f=>f.stopPropagation(),className:"p-3 h-12 w-12 sm:p-1 sm:h-8 sm:w-8 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20","aria-label":"Elimina",children:h.jsx(If,{className:"w-6 h-6 sm:w-4 sm:h-4"})})}),h.jsxs(iP,{children:[h.jsxs(aP,{children:[h.jsx(oP,{children:"Eliminare la scheda?"}),h.jsxs(lP,{children:['Questa azione non può essere annullata. La scheda di "',t.clientName,'" sarà eliminata definitivamente.']})]}),h.jsxs(sP,{children:[h.jsx(uP,{children:"Annulla"}),h.jsx(cP,{onClick:u,className:"bg-red-500 hover:bg-red-600 text-white",children:"Elimina"})]})]})]})]}),h.jsx("div",{className:"flex items-center",children:h.jsx("div",{className:`w-2 h-2 rounded-full ${Date.now()-t.updatedAt.getTime()<10080*60*1e3?"bg-emerald-400 animate-pulse-soft":"bg-gray-300 dark:bg-gray-600"}`})})]})]})}function w2(){const{user:t}=Fu(),e=!!t,r={workouts:3,clients:2};return{isLoggedIn:e,canAccess:(i,a)=>{if(e)return!0;switch(i){case"workouts":return a!==void 0&&a<r.workouts;case"clients":return a!==void 0&&a<r.clients;case"coach-settings":return!1;default:return!1}},LIMITS:r}}function lG(){const{data:t=[],isLoading:e}=Xg(),[r,n]=D.useState(""),[i,a]=D.useState("all"),[o,l]=D.useState(!1),[u,d]=D.useState(null),[f,m]=D.useState(!1),y=KC(),{toast:g}=gs(),{canAccess:k}=w2(),_=t.filter(P=>{const R=P.clientName.toLowerCase().includes(r.toLowerCase())||(P.level?.toLowerCase().includes(r.toLowerCase())??!1)||P.workoutType.toLowerCase().includes(r.toLowerCase()),M=i==="all"||P.workoutType===i;return R&&M}),N=P=>{d(P)},E=async P=>{try{const R={...P,clientName:`${P.clientName} (Copia)`,weeks:P.weeks.map(M=>({...M,id:crypto.randomUUID(),days:M.days.map(Q=>({...Q,id:crypto.randomUUID(),exercises:Q.exercises.map(K=>({...K,id:crypto.randomUUID()}))}))}))};delete R.id,delete R.createdAt,delete R.updatedAt,await y.mutateAsync(R),g({title:"Scheda duplicata",description:"La scheda è stata copiata con successo"})}catch{g({title:"Errore",description:"Impossibile duplicare la scheda",variant:"destructive"})}},T=()=>{k("workouts",t.length)?l(!0):m(!0)};return e?h.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-mobile-nav",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-8"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(P=>h.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 rounded-xl"},P))})]})}):h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-mobile-nav",children:[h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8 gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Schede di Allenamento"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Gestisci e organizza le tue schede workout"})]}),h.jsxs(Fs,{open:o,onOpenChange:l,children:[h.jsxs(ht,{className:"bg-gradient-primary hover:opacity-90 transition-opacity h-12 px-6 text-lg font-semibold",onClick:T,children:[h.jsx(Os,{className:"mr-2",size:18}),"Nuova Scheda"]}),h.jsxs(hs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[h.jsx(ps,{children:h.jsx(ms,{children:"Crea Nuova Scheda"})}),h.jsx(F1,{onSuccess:()=>l(!1)})]})]})]}),h.jsx(bd,{open:f,onOpenChange:m,feature:"workouts"}),u&&h.jsx(Fs,{open:!!u,onOpenChange:()=>d(null),children:h.jsxs(hs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[h.jsx(ps,{children:h.jsxs(ms,{children:["Modifica Scheda - ",u.clientName]})}),h.jsx(F1,{existingWorkout:u,onSuccess:()=>d(null)})]})}),h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx(Q1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),h.jsx(Ir,{placeholder:"Cerca per cliente, coach o tipo...",value:r,onChange:P=>n(P.target.value),className:"pl-10 glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(wI,{className:"text-gray-400",size:16}),h.jsxs(Wm,{value:i,onValueChange:a,children:[h.jsx(Mh,{className:"w-full md:w-48 glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:h.jsx(Vm,{placeholder:"Filtra per tipo"})}),h.jsxs(Bh,{children:[h.jsx(gu,{value:"all",children:"Tutti i tipi"}),FE.map(P=>h.jsx(gu,{value:P,children:P},P))]})]})]})]}),_.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(P=>h.jsx("div",{className:"glass-effect rounded-2xl p-2",children:h.jsx(oG,{workout:P,onEdit:N,onDuplicate:E})},P.id))}):h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-primary rounded-full flex items-center justify-center mx-auto mb-6 opacity-50",children:h.jsx(Os,{size:32,className:"text-white"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:r||i!=="all"?"Nessun risultato":"Nessuna scheda ancora"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:r||i!=="all"?"Prova a modificare i filtri di ricerca":"Crea la tua prima scheda di allenamento"}),h.jsxs(ht,{className:"bg-gradient-primary hover:opacity-90 transition-opacity",onClick:T,children:[h.jsx(Os,{className:"mr-2",size:16}),"Crea Nuova Scheda"]})]})]})}var yv="Checkbox",[cG,XG]=Cl(yv),[uG,S2]=cG(yv);function dG(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:u,required:d,value:f="on",internal_do_not_use_render:m}=t,[y,g]=Au({prop:r,defaultProp:i??!1,onChange:u,caller:yv}),[k,_]=D.useState(null),[N,E]=D.useState(null),T=D.useRef(!1),P=k?!!o||!!k.closest("form"):!0,R={checked:y,disabled:a,setChecked:g,control:k,setControl:_,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:T,required:d,defaultChecked:Cu(i)?!1:i,isFormControl:P,bubbleInput:N,setBubbleInput:E};return h.jsx(uG,{scope:e,...R,children:fG(m)?m(R):n})}var dP="CheckboxTrigger",fP=D.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:o,disabled:l,checked:u,required:d,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:y,isFormControl:g,bubbleInput:k}=S2(dP,t),_=gn(i,f),N=D.useRef(u);return D.useEffect(()=>{const E=a?.form;if(E){const T=()=>m(N.current);return E.addEventListener("reset",T),()=>E.removeEventListener("reset",T)}},[a,m]),h.jsx(Dr.button,{type:"button",role:"checkbox","aria-checked":Cu(u)?"mixed":u,"aria-required":d,"data-state":vP(u),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:_,onKeyDown:fr(e,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:fr(r,E=>{m(T=>Cu(T)?!0:!T),k&&g&&(y.current=E.isPropagationStopped(),y.current||E.stopPropagation())})})});fP.displayName=dP;var _2=D.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:u,onCheckedChange:d,form:f,...m}=t;return h.jsx(dG,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:n,form:f,value:u,internal_do_not_use_render:({isFormControl:y})=>h.jsxs(h.Fragment,{children:[h.jsx(fP,{...m,ref:e,__scopeCheckbox:r}),y&&h.jsx(gP,{__scopeCheckbox:r})]})})});_2.displayName=yv;var hP="CheckboxIndicator",pP=D.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=S2(hP,r);return h.jsx(Ru,{present:n||Cu(a.checked)||a.checked===!0,children:h.jsx(Dr.span,{"data-state":vP(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});pP.displayName=hP;var mP="CheckboxBubbleInput",gP=D.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:u,name:d,value:f,form:m,bubbleInput:y,setBubbleInput:g}=S2(mP,t),k=gn(r,g),_=$b(a),N=ob(n);D.useEffect(()=>{const T=y;if(!T)return;const P=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(P,"checked").set,Q=!i.current;if(_!==a&&M){const K=new Event("click",{bubbles:Q});T.indeterminate=Cu(a),M.call(T,Cu(a)?!1:a),T.dispatchEvent(K)}},[y,_,a,i]);const E=D.useRef(Cu(a)?!1:a);return h.jsx(Dr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??E.current,required:l,disabled:u,name:d,value:f,form:m,...e,tabIndex:-1,ref:k,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});gP.displayName=mP;function fG(t){return typeof t=="function"}function Cu(t){return t==="indeterminate"}function vP(t){return Cu(t)?"indeterminate":t?"checked":"unchecked"}const yP=D.forwardRef(({className:t,...e},r)=>h.jsx(_2,{ref:r,className:hr("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(pP,{className:hr("flex items-center justify-center text-current"),children:h.jsx(tN,{className:"h-4 w-4"})})}));yP.displayName=_2.displayName;function hG({workout:t,coachProfile:e,open:r,onOpenChange:n}){const[i,a]=D.useState([]),[o,l]=D.useState(!0),[u,d]=D.useState(""),[f,m]=D.useState([]),[y,g]=D.useState(!1),{toast:k}=gs(),{user:_}=Fu(),N=Np();D.useEffect(()=>{r?E():(m([]),d(""))},[r]);const E=async()=>{l(!0);try{const M=await qn.getAllExerciseGlossary();a(M)}catch(M){console.error("Errore nel caricamento degli esercizi:",M),k({title:"Errore",description:"Impossibile caricare gli esercizi dal glossario",variant:"destructive"})}finally{l(!1)}},T=i.filter(M=>M.name.toLowerCase().includes(u.toLowerCase())||M.description&&M.description.toLowerCase().includes(u.toLowerCase())),P=M=>{m(Q=>Q.includes(M)?Q.filter(K=>K!==M):[...Q,M])},R=async(M=!1)=>{if(!_){g(!0);return}try{const Q=i.filter(G=>f.includes(G.id)).map(G=>({id:G.id,name:G.name,order:0,sets:"",reps:"",glossaryId:G.id,glossaryContent:{description:G.description,images:G.images}})),K=await N.generateWorkoutPDF(t,e,void 0,Q);if(M){const G=URL.createObjectURL(K);window.open(G,"_blank"),URL.revokeObjectURL(G)}else{const G=URL.createObjectURL(K),H=document.createElement("a");H.href=G,H.download=`scheda-${t.clientName.replace(/\s+/g,"-").toLowerCase()}.pdf`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(G);const oe=parseInt(localStorage.getItem("exportedPDFs")||"0");localStorage.setItem("exportedPDFs",(oe+1).toString()),k({title:"PDF esportato",description:"Il PDF è stato scaricato con successo"}),n(!1)}}catch(Q){console.error("Errore nell'esportazione del PDF:",Q),k({title:"Errore",description:"Impossibile esportare il PDF",variant:"destructive"})}};return h.jsxs(h.Fragment,{children:[h.jsx(Fs,{open:r,onOpenChange:n,children:h.jsxs(hs,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[h.jsx(ps,{children:h.jsx(ms,{children:"Esporta Scheda con Esercizi dal Glossario"})}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Seleziona gli esercizi dal glossario che vuoi includere nella scheda esportata.",h.jsx("br",{}),"Gli esercizi selezionati verranno aggiunti in fondo al PDF."]}),h.jsx("div",{className:"mb-4",children:h.jsxs("div",{className:"relative",children:[!u&&h.jsx(Q1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),h.jsx(Ir,{placeholder:"     Cerca esercizio...",className:"pl-10",value:u,onChange:M=>d(M.target.value)}),u&&h.jsx(ht,{variant:"ghost",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:()=>d(""),children:h.jsx(gp,{className:"h-4 w-4"})})]})}),o?h.jsx("div",{className:"flex justify-center items-center py-8",children:h.jsx(iN,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):T.length===0?h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nessun esercizio trovato"})}):h.jsx("div",{className:"border rounded-md divide-y max-h-[50vh] overflow-y-auto",children:T.map(M=>h.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[h.jsx(yP,{id:`exercise-${M.id}`,checked:f.includes(M.id),onCheckedChange:()=>P(M.id)}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx(wf,{htmlFor:`exercise-${M.id}`,className:"font-medium cursor-pointer",children:M.name})}),M.images&&M.images.length>0&&h.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded overflow-hidden bg-gray-100 dark:bg-gray-800",children:h.jsx("img",{src:M.images[0],alt:M.name,className:"w-full h-full object-cover"})})]},M.id))})]}),h.jsxs(bl,{className:"flex justify-between space-x-2",children:[h.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[f.length," esercizi selezionati"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(ht,{variant:"outline",onClick:()=>n(!1),children:"Annulla"}),h.jsxs(ht,{onClick:()=>R(!0),variant:"outline",className:"flex items-center gap-2",disabled:o,children:[h.jsx(Lc,{size:16}),"Anteprima"]}),h.jsxs(ht,{onClick:()=>R(!1),className:"bg-gradient-primary hover:opacity-90 transition-opacity",disabled:o,children:[h.jsx(Dc,{className:"mr-2",size:16}),"Esporta PDF"]})]})]})]})}),h.jsx(bd,{open:y,onOpenChange:g,feature:"workouts"})]})}function pG(){const e=lk().id;Fg();const{data:r,isLoading:n}=C8(e),{data:i}=bp(),a=Ab(),{toast:o}=gs(),[l,u]=D.useState(!1),[d,f]=D.useState(null),[m,y]=D.useState(!1),g=Np();if(n||!r)return h.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-mobile-nav",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-8"}),h.jsx("div",{className:"space-y-4",children:[1,2,3].map(M=>h.jsx("div",{className:"h-40 bg-gray-200 dark:bg-gray-700 rounded-xl"},M))})]})});const k=()=>{f({...r}),u(!0)},_=async()=>{if(d)try{await a.mutateAsync({id:r.id,updates:{...d,updatedAt:new Date}}),o({title:"Scheda aggiornata",description:"Le modifiche sono state salvate con successo"}),u(!1),f(null)}catch{o({title:"Errore",description:"Impossibile salvare le modifiche",variant:"destructive"})}},N=()=>{u(!1),f(null)},E=()=>{y(!0)},T=async()=>{try{const M=await g.generateWorkoutPDF(r,i),Q=URL.createObjectURL(M),K=document.createElement("a");K.href=Q,K.download=`scheda-${r.clientName.replace(/\s+/g,"-").toLowerCase()}.pdf`,document.body.appendChild(K),K.click(),document.body.removeChild(K),URL.revokeObjectURL(Q);const G=parseInt(localStorage.getItem("exportedPDFs")||"0");localStorage.setItem("exportedPDFs",(G+1).toString()),o({title:"PDF esportato",description:"Il PDF è stato scaricato con successo"})}catch{o({title:"Errore",description:"Impossibile esportare il PDF",variant:"destructive"})}},P=l?d:r,R=Pb(r.updatedAt,{addSuffix:!0,locale:Ib});return P?h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-mobile-nav",children:[h.jsx(hG,{workout:r,coachProfile:i,open:m,onOpenChange:y}),h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(So,{href:"/workouts",children:h.jsxs(ht,{variant:"ghost",size:"sm",className:"glass-effect",children:[h.jsx(iw,{size:16,className:"mr-2"}),"Indietro"]})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:P.clientName}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[P.workoutType," • ",P.duration," settimane • ",R]})]})]}),h.jsx("div",{className:"flex space-x-2",children:l?h.jsxs(h.Fragment,{children:[h.jsxs(ht,{onClick:_,disabled:a.isPending,className:"bg-emerald-500 hover:bg-emerald-600",children:[h.jsx(Yh,{size:16,className:"mr-2"}),"Salva"]}),h.jsx(ht,{onClick:N,variant:"outline",children:"Annulla"})]}):h.jsxs(h.Fragment,{children:[h.jsxs(ht,{onClick:k,className:"bg-indigo-500 hover:bg-indigo-600",children:[h.jsx(jf,{size:16,className:"mr-2"}),"Modifica"]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs(ht,{onClick:T,className:"bg-orange-500 hover:bg-orange-600",children:[h.jsx(Lc,{size:16,className:"mr-2"}),"Esporta PDF"]}),h.jsxs(ht,{onClick:E,className:"relative overflow-hidden bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 hover:from-emerald-600 hover:via-teal-600 hover:to-cyan-600 text-white font-semibold px-6 py-2.5 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 border-0",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"}),h.jsx(Dc,{size:16,className:"mr-2 relative z-10"}),h.jsx("span",{className:"relative z-10",children:"Esporta con Esercizi"})]})]})]})})]}),h.jsxs("div",{className:"md:hidden space-y-4",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsx(So,{href:"/workouts",children:h.jsxs(ht,{variant:"ghost",size:"sm",className:"glass-effect",children:[h.jsx(iw,{size:16,className:"mr-2"}),"Indietro"]})})}),h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:P.clientName}),h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:[P.workoutType," • ",P.duration," settimane"]}),h.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mb-4",children:R})]}),h.jsx("div",{className:"flex flex-col space-y-2",children:l?h.jsxs(h.Fragment,{children:[h.jsxs(ht,{onClick:_,disabled:a.isPending,className:"w-full bg-emerald-500 hover:bg-emerald-600 touch-action-manipulation",children:[h.jsx(Yh,{size:16,className:"mr-2"}),"Salva Modifiche"]}),h.jsx(ht,{onClick:N,variant:"outline",className:"w-full touch-action-manipulation",children:"Annulla"})]}):h.jsxs(h.Fragment,{children:[h.jsxs(ht,{onClick:k,className:"w-full bg-indigo-500 hover:bg-indigo-600 touch-action-manipulation",children:[h.jsx(jf,{size:16,className:"mr-2"}),"Modifica Scheda"]}),h.jsxs(ht,{onClick:T,className:"w-full bg-orange-500 hover:bg-orange-600 touch-action-manipulation mb-2",children:[h.jsx(Lc,{size:16,className:"mr-2"}),"Esporta PDF"]}),h.jsxs(ht,{onClick:E,className:"w-full relative overflow-hidden bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 hover:from-emerald-600 hover:via-teal-600 hover:to-cyan-600 text-white font-semibold px-6 py-3.5 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 touch-action-manipulation border-0 min-h-[52px]",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"}),h.jsx(Dc,{size:18,className:"mr-2 relative z-10"}),h.jsx("span",{className:"relative z-10 text-base",children:"Esporta con Esercizi"})]})]})})]})]}),h.jsxs(xa,{className:"glass-effect rounded-2xl mb-8 animate-fade-in",children:[h.jsx(wl,{children:h.jsx(Sl,{children:"Informazioni Generali"})}),h.jsxs(wa,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Coach"}),l?h.jsx(Ir,{value:P.coachName,onChange:M=>f({...P,coachName:M.target.value}),className:"glass-effect bg-white/50 dark:bg-gray-800/50 touch-action-manipulation min-h-[44px] md:min-h-0"}):h.jsx("p",{className:"text-gray-900 dark:text-white",children:P.coachName})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo di Scheda"}),l?h.jsx(Ir,{value:P.workoutType,onChange:M=>f({...P,workoutType:M.target.value}),className:"glass-effect bg-white/50 dark:bg-gray-800/50 touch-action-manipulation min-h-[44px] md:min-h-0"}):h.jsx("p",{className:"text-gray-900 dark:text-white",children:P.workoutType})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descrizione"}),l?h.jsx(Co,{value:P.description||"",onChange:M=>f({...P,description:M.target.value}),rows:3,className:"glass-effect bg-white/50 dark:bg-gray-800/50 touch-action-manipulation text-base"}):h.jsx("p",{className:"text-gray-900 dark:text-white",children:P.description||"Nessuna descrizione"})]})]})]}),h.jsxs(xa,{className:"glass-effect rounded-2xl mb-8 animate-fade-in",children:[h.jsx(wl,{children:h.jsxs(Sl,{className:"flex items-center",children:[h.jsx(Gh,{className:"mr-2 text-indigo-500",size:20}),"Progressione Settimanale"]})}),h.jsx(wa,{children:h.jsx("div",{className:"space-y-6",children:(P.weeks||[]).map(M=>h.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-xl p-4 bg-white/20 dark:bg-gray-800/20",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:["Settimana ",M.number]})}),M.notes&&h.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:h.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:M.notes})}),h.jsx("div",{className:"space-y-4",children:(M.days||[]).map(Q=>h.jsxs("div",{className:"border border-gray-100 dark:border-gray-700 rounded-lg p-3 bg-white/30 dark:bg-gray-900/30",children:[h.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-3",children:Q.name}),Q.notes&&h.jsx("div",{className:"mb-3 p-2 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:Q.notes})}),(Q.exercises||[]).length>0?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"hidden md:block overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm table-fixed",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-600",children:[h.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-700 dark:text-gray-300 w-1/2",children:"Esercizio"}),h.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-700 dark:text-gray-300 w-16",children:"Serie"}),h.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-700 dark:text-gray-300 w-20",children:"Reps"}),h.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-700 dark:text-gray-300 w-24",children:"Carico"}),h.jsx("th",{className:"text-left py-2 px-2 font-medium text-gray-700 dark:text-gray-300 w-28",children:"Recupero"})]})}),h.jsx("tbody",{children:(Q.exercises||[]).map(K=>h.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[h.jsx("td",{className:"py-2 px-2 align-top",children:h.jsx("div",{className:"flex items-start space-x-2 min-w-0",children:h.jsx("span",{className:"text-gray-900 dark:text-white break-words whitespace-normal block min-w-0",children:K.name})})}),h.jsx("td",{className:"py-2 px-2 text-gray-700 dark:text-gray-300 break-words whitespace-normal align-top",children:K.sets}),h.jsx("td",{className:"py-2 px-2 text-gray-700 dark:text-gray-300 break-words whitespace-normal align-top",children:K.reps}),h.jsx("td",{className:"py-2 px-2 text-gray-700 dark:text-gray-300 break-words whitespace-normal align-top",children:K.load||"-"}),h.jsx("td",{className:"py-2 px-2 text-gray-700 dark:text-gray-300 break-words whitespace-normal align-top",children:K.rest||"-"})]},K.id))})]})}),h.jsx("div",{className:"md:hidden space-y-3",children:(Q.exercises||[]).map(K=>h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3 space-y-2 touch-action-manipulation",children:[h.jsx("div",{className:"touch-action-manipulation",children:h.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white break-words whitespace-normal",children:K.name})}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs touch-action-manipulation",children:[h.jsxs("div",{className:"touch-action-manipulation",children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Serie:"}),h.jsx("span",{className:"ml-1 text-gray-900 dark:text-white",children:K.sets})]}),h.jsxs("div",{className:"touch-action-manipulation",children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Reps:"}),h.jsx("span",{className:"ml-1 text-gray-900 dark:text-white",children:K.reps})]}),h.jsxs("div",{className:"touch-action-manipulation",children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Carico:"}),h.jsx("span",{className:"ml-1 text-gray-900 dark:text-white",children:K.load||"-"})]}),h.jsxs("div",{className:"touch-action-manipulation",children:[h.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Recupero:"}),h.jsx("span",{className:"ml-1 text-gray-900 dark:text-white",children:K.rest||"-"})]})]}),K.notes&&h.jsx("div",{className:"pt-1 border-t border-gray-200 dark:border-gray-600 touch-action-manipulation",children:h.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:K.notes})})]},K.id))})]}):h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"Nessun esercizio per questo giorno"})]},Q.id))})]},M.id))})})]}),P.dietaryAdvice&&h.jsxs(xa,{className:"glass-effect rounded-2xl animate-fade-in",children:[h.jsx(wl,{children:h.jsx(Sl,{children:"Consigli Dietistici"})}),h.jsx(wa,{children:l?h.jsx(Co,{value:P.dietaryAdvice,onChange:M=>f({...P,dietaryAdvice:M.target.value}),rows:4,className:"glass-effect bg-white/50 dark:bg-gray-800/50 touch-action-manipulation text-base"}):h.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:P.dietaryAdvice})})]})]}):h.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-mobile-nav",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-8"}),h.jsx("div",{className:"space-y-4",children:[1,2,3].map(M=>h.jsx("div",{className:"h-40 bg-gray-200 dark:bg-gray-700 rounded-xl"},M))})]})})}function mG(){const{data:t=[],isLoading:e}=Eb(),{data:r=[]}=Xg(),[n,i]=D.useState(""),[a,o]=D.useState(null),[l,u]=D.useState(!1),[d,f]=D.useState(!1),[m,y]=D.useState(!1),[g,k]=D.useState(null),[_,N]=D.useState(!1),[E,T]=D.useState(null),[P,R]=D.useState({}),[M,Q]=D.useState({}),K=Ab(),G=E8(),H=P8(),oe=j8(),{toast:z}=gs(),{canAccess:U}=w2(),W=Bb({resolver:zb(zH),defaultValues:{name:"",email:"",phone:"",notes:""}}),Y=t.filter(O=>O.name.toLowerCase().includes(n.toLowerCase())||O.email?.toLowerCase().includes(n.toLowerCase())||O.phone?.includes(n)),be=async O=>{try{a||U("clients",t.length)?(a?(await H.mutateAsync({id:a.id,updates:O}),z({title:"Cliente aggiornato",description:"Le informazioni del cliente sono state aggiornate"})):(await G.mutateAsync(O),z({title:"Cliente creato",description:"Il nuovo cliente è stato aggiunto"})),u(!1),o(null),W.reset()):(u(!1),f(!0))}catch{z({title:"Errore",description:"Impossibile salvare il cliente",variant:"destructive"})}},he=O=>{o(O),W.reset({name:O.name,email:O.email||"",phone:O.phone||"",notes:O.notes||""}),u(!0)},ge=async O=>{k(O),y(!0)},ie=async()=>{if(g)try{await oe.mutateAsync(g.id),z({title:"Cliente eliminato",description:`${g.name} è stato rimosso`})}catch{z({title:"Errore",description:"Impossibile eliminare il cliente",variant:"destructive"})}finally{y(!1),k(null)}},ve=()=>{U("clients",t.length)?(o(null),W.reset(),u(!0)):f(!0)},_e=O=>{T(O),N(!0);const ee=r.filter(le=>le.clientName===O.name),ne={};ee.forEach(le=>{ne[le.id]=le.clientComment||""}),R(ne)},te=async O=>{const ee=P[O]||"";Q(ne=>({...ne,[O]:!0}));try{await K.mutateAsync({id:O,updates:{clientComment:ee}}),z({title:"Commento salvato",description:"Il commento è stato salvato con successo"})}catch{z({title:"Errore",description:"Impossibile salvare il commento",variant:"destructive"})}finally{Q(ne=>({...ne,[O]:!1}))}};return e?h.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-mobile-nav",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-8"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(O=>h.jsx("div",{className:"h-40 bg-gray-200 dark:bg-gray-700 rounded-xl"},O))})]})}):h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-mobile-nav",children:[h.jsx(bd,{open:d,onOpenChange:f,feature:"clients"}),h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8 gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Gestione Clienti"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Aggiungi e gestisci i tuoi clienti"})]}),h.jsxs(Fs,{open:l,onOpenChange:u,children:[h.jsx(Zg,{asChild:!0,children:h.jsxs(ht,{onClick:ve,className:"bg-gradient-primary hover:opacity-90 transition-opacity h-12 px-6 text-lg font-semibold",children:[h.jsx(Os,{className:"mr-2",size:18}),"Nuovo Cliente"]})}),h.jsxs(hs,{className:"sm:max-w-md",children:[h.jsx(ps,{children:h.jsx(ms,{children:a?"Modifica Cliente":"Nuovo Cliente"})}),h.jsx(Wb,{...W,children:h.jsxs("form",{onSubmit:W.handleSubmit(be),className:"space-y-4",children:[h.jsx(mi,{control:W.control,name:"name",render:({field:O})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Nome"}),h.jsx(oi,{children:h.jsx(Ir,{placeholder:"Nome cliente",...O})}),h.jsx(Ei,{})]})}),h.jsx(mi,{control:W.control,name:"email",render:({field:O})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Email (opzionale)"}),h.jsx(oi,{children:h.jsx(Ir,{type:"email",placeholder:"email@esempio.com",...O})}),h.jsx(Ei,{})]})}),h.jsx(mi,{control:W.control,name:"phone",render:({field:O})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Telefono (opzionale)"}),h.jsx(oi,{children:h.jsx(Ir,{placeholder:"+39 123 456 7890",...O})}),h.jsx(Ei,{})]})}),h.jsx(mi,{control:W.control,name:"notes",render:({field:O})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Note (opzionale)"}),h.jsx(oi,{children:h.jsx(Co,{placeholder:"Note aggiuntive sul cliente...",rows:3,...O})}),h.jsx(Ei,{})]})}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsxs(ht,{type:"submit",disabled:G.isPending||H.isPending,className:"flex-1 bg-gradient-primary hover:opacity-90 transition-opacity",children:[a?"Aggiorna":"Crea"," Cliente"]}),h.jsx(ht,{type:"button",variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"Annulla"})]})]})})]})]})]}),h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"relative",children:[h.jsx(Q1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),h.jsx(Ir,{placeholder:"Cerca clienti...",value:n,onChange:O=>i(O.target.value),className:"pl-10 glass-effect bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm"})]})}),Y.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(O=>h.jsx(xa,{className:"glass-effect rounded-2xl hover:scale-105 transition-transform duration-300 animate-fade-in",children:h.jsxs(wa,{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-primary rounded-full flex items-center justify-center mr-3",children:h.jsx(Jh,{className:"text-white",size:20})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:O.name}),h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cliente"})]})]}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsxs(ht,{size:"sm",onClick:()=>_e(O),className:"px-3 py-1 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white text-xs font-medium rounded-full transition-all duration-200 shadow-sm hover:shadow-md",title:"Visualizza schede",children:[h.jsx(Lc,{size:12,className:"mr-1"}),"Schede"]}),h.jsx(ht,{size:"sm",variant:"ghost",onClick:()=>he(O),className:"p-1 text-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-900/20",children:h.jsx(jf,{size:14})}),h.jsx(ht,{size:"sm",variant:"ghost",onClick:()=>ge(O),className:"p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:h.jsx(If,{size:14})})]})]}),h.jsxs("div",{className:"space-y-2",children:[O.email&&h.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[h.jsx(AI,{size:14,className:"mr-2"}),O.email]}),O.phone&&h.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[h.jsx(PI,{size:14,className:"mr-2"}),O.phone]}),O.notes&&h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-3 p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:O.notes})]})]})},O.id))}):h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-primary rounded-full flex items-center justify-center mx-auto mb-6 opacity-50",children:h.jsx(Jh,{size:32,className:"text-white"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:n?"Nessun cliente trovato":"Nessun cliente ancora"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:n?"Prova a modificare il termine di ricerca":"Aggiungi il tuo primo cliente per iniziare"}),h.jsxs(ht,{onClick:ve,className:"bg-gradient-primary hover:opacity-90 transition-opacity",children:[h.jsx(Os,{className:"mr-2",size:16}),"Aggiungi Cliente"]})]}),h.jsx(Fs,{open:m,onOpenChange:y,children:h.jsxs(hs,{className:"sm:max-w-md",children:[h.jsx(ps,{children:h.jsx(ms,{children:"Elimina cliente"})}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:['Sei sicuro di voler eliminare "',g?.name,'"? Questa azione non può essere annullata.']}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx(ht,{type:"button",variant:"outline",onClick:()=>{y(!1),k(null)},className:"flex-1",children:"Annulla"}),h.jsx(ht,{type:"button",variant:"destructive",onClick:ie,className:"flex-1",children:"Elimina"})]})]})}),h.jsx(Fs,{open:_,onOpenChange:N,children:h.jsxs(hs,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[h.jsx(ps,{children:h.jsxs(ms,{children:["Schede di ",E?.name]})}),h.jsx("div",{className:"space-y-4",children:E&&r.filter(O=>O.clientName===E.name).length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Lc,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nessuna scheda per questo cliente"})]}):E&&r.filter(O=>O.clientName===E.name).map(O=>h.jsxs("div",{className:"p-4 rounded-lg bg-white/40 dark:bg-gray-800/40 border border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("span",{className:"text-base font-medium text-gray-900 dark:text-white",children:[O.name||O.workoutType," • ",O.duration," settimane"]}),h.jsx(So,{href:`/workout/${O.id}`,children:h.jsx(ht,{size:"sm",variant:"outline",className:"text-xs",children:"Apri Scheda"})})]}),h.jsx("div",{className:"space-y-3",children:h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 block mb-2",children:"Commenti del cliente"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("textarea",{value:P[O.id]||"",onChange:ee=>{R(ne=>({...ne,[O.id]:ee.target.value}))},placeholder:"Aggiungi un commento per questa scheda...",className:"w-full text-sm p-3 rounded-md border bg-white/70 dark:bg-gray-900/40 border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none",rows:3}),h.jsx("div",{className:"flex justify-end",children:h.jsx(ht,{size:"sm",onClick:()=>te(O.id),disabled:M[O.id]||P[O.id]===(O.clientComment||""),className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-1 text-xs",children:M[O.id]?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1"}),"Salvando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Yh,{size:12,className:"mr-1"}),"Salva Commento"]})})})]})]})})]},O.id))}),h.jsx("div",{className:"flex justify-end pt-4",children:h.jsx(ht,{type:"button",variant:"outline",onClick:()=>{N(!1),T(null)},children:"Chiudi"})})]})})]})}var bv="Switch",[gG,eK]=Cl(bv),[vG,yG]=gG(bv),bP=D.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:u="on",onCheckedChange:d,form:f,...m}=t,[y,g]=D.useState(null),k=gn(e,P=>g(P)),_=D.useRef(!1),N=y?f||!!y.closest("form"):!0,[E,T]=Au({prop:i,defaultProp:a??!1,onChange:d,caller:bv});return h.jsxs(vG,{scope:r,checked:E,disabled:l,children:[h.jsx(Dr.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":_P(E),"data-disabled":l?"":void 0,disabled:l,value:u,...m,ref:k,onClick:fr(t.onClick,P=>{T(R=>!R),N&&(_.current=P.isPropagationStopped(),_.current||P.stopPropagation())})}),N&&h.jsx(SP,{control:y,bubbles:!_.current,name:n,value:u,checked:E,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});bP.displayName=bv;var xP="SwitchThumb",wP=D.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=yG(xP,r);return h.jsx(Dr.span,{"data-state":_P(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});wP.displayName=xP;var bG="SwitchBubbleInput",SP=D.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=D.useRef(null),l=gn(o,a),u=$b(r),d=ob(e);return D.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==r&&g){const k=new Event("click",{bubbles:n});g.call(f,r),f.dispatchEvent(k)}},[u,r,n]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});SP.displayName=bG;function _P(t){return t?"checked":"unchecked"}var kP=bP,xG=wP;const M1=D.forwardRef(({className:t,...e},r)=>h.jsx(kP,{className:hr("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:h.jsx(xG,{className:hr("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));M1.displayName=kP.displayName;function wG(t,e,r,n=.8){return new Promise((i,a)=>{const o=document.createElement("canvas"),l=o.getContext("2d"),u=new Image;u.onload=()=>{let{width:d,height:f}=u;d>f?d>e&&(f=f*e/d,d=e):f>r&&(d=d*r/f,f=r),o.width=d,o.height=f,l?.drawImage(u,0,0,d,f);const m=o.toDataURL("image/jpeg",n);i(m)},u.onerror=a,u.src=URL.createObjectURL(t)})}function SG(t){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(t.type))throw new Error("Formato file non supportato. Usa JPG, PNG o WebP.");if(t.size>5242880)throw new Error("File troppo grande. Massimo 5MB.");return!0}async function NP(t,e=800,r=600){return SG(t),await wG(t,e,r,.8)}function _G(){const{data:t,isLoading:e}=bp(),r=I8(),n=T8(),{toast:i}=gs(),{user:a}=Fu(),{canAccess:o}=w2(),[l,u]=D.useState(!1),d=D.useRef(null),f=D.useRef(null),[m,y]=D.useState(null),g=Bb({resolver:zb(UH),defaultValues:{name:t?.name||"",email:t?.email||"",phone:t?.phone||"",bio:t?.bio||"",logo:t?.logo||"",instagram:t?.instagram||"",facebook:t?.facebook||"",website:t?.website||"",exportPath:t?.exportPath||"",pdfLineColor:t?.pdfLineColor||"#000000",pdfTextColor:t?.pdfTextColor||"#4F46E5",showWatermark:t?.showWatermark??!0,useWorkoutNameAsTitle:t?.useWorkoutNameAsTitle??!1}});D.useEffect(()=>{t&&g.reset({name:t.name,email:t.email||"",phone:t.phone||"",bio:t.bio||"",logo:t.logo||"",instagram:t.instagram||"",facebook:t.facebook||"",website:t.website||"",exportPath:t.exportPath||"",pdfLineColor:t.pdfLineColor||"#000000",pdfTextColor:t.pdfTextColor||"#4F46E5",showWatermark:t.showWatermark??!0,useWorkoutNameAsTitle:t.useWorkoutNameAsTitle??!1})},[t,g]),D.useEffect(()=>{yn.getBackupStats().then(y)},[]);const k=async P=>{if(!o("coach-settings")){u(!0);return}try{t?(await qn.updateCoachProfile(t.id,P),i({title:"Profilo aggiornato",description:"Le modifiche sono state salvate e rimarranno visibili"})):(await qn.createCoachProfile(P),i({title:"Profilo creato",description:"Il profilo è stato salvato e rimarrà visibile"})),window.location.reload()}catch(R){console.error("Errore nel salvataggio:",R),i({title:"Errore",description:"Impossibile salvare il profilo",variant:"destructive"})}},_=async P=>{try{const R=await NP(P,400,400);g.setValue("logo",R),i({title:"Logo caricato",description:"Il logo è stato caricato con successo"})}catch(R){i({title:"Errore",description:R instanceof Error?R.message:"Impossibile caricare il logo",variant:"destructive"})}},N=async()=>{try{await yn.exportToJSON(),yn.setLastBackupDate();const P=await yn.getBackupStats();y(P),i({title:"Backup completato",description:"I dati sono stati esportati con successo"})}catch{i({title:"Errore",description:"Impossibile completare il backup",variant:"destructive"})}},E=async P=>{try{await yn.importFromJSON(P);const R=await yn.getBackupStats();y(R),i({title:"Importazione completata",description:"I dati sono stati importati con successo"}),setTimeout(()=>window.location.reload(),1e3)}catch(R){i({title:"Errore",description:R instanceof Error?R.message:"Errore durante l'importazione",variant:"destructive"})}},T=async()=>{if(window.confirm("Sei sicuro di voler cancellare tutti i dati? Questa azione non può essere annullata."))try{await qn.clearAllData();const P=await yn.getBackupStats();y(P),i({title:"Dati cancellati",description:"Tutti i dati sono stati rimossi"}),setTimeout(()=>window.location.reload(),1e3)}catch{i({title:"Errore",description:"Impossibile cancellare i dati",variant:"destructive"})}};return h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-mobile-nav",children:[h.jsx(bd,{open:l,onOpenChange:u,feature:"coach-settings"}),h.jsxs("div",{className:"mb-8 md:mb-12",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Impostazioni"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg md:text-xl",children:"Configura il tuo profilo coach e le preferenze dell'app"})]}),h.jsxs("div",{className:"space-y-8 lg:space-y-12",children:[h.jsxs(xa,{className:"glass-effect rounded-2xl animate-fade-in",children:[h.jsx(wl,{children:h.jsxs(Sl,{className:"flex items-center",children:[h.jsx(Jh,{className:"mr-2 text-indigo-500",size:20}),"Profilo Coach"]})}),h.jsx(wa,{children:h.jsx(Wb,{...g,children:h.jsxs("form",{onSubmit:g.handleSubmit(k),className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(mi,{control:g.control,name:"name",render:({field:P})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Nome"}),h.jsx(oi,{children:h.jsx(Ir,{placeholder:"Il tuo nome",...P})}),h.jsx(Ei,{})]})}),h.jsx(mi,{control:g.control,name:"email",render:({field:P})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Email (opzionale)"}),h.jsx(oi,{children:h.jsx(Ir,{type:"email",placeholder:"email@esempio.com",...P})}),h.jsx(Ei,{})]})})]}),h.jsx(mi,{control:g.control,name:"phone",render:({field:P})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Telefono (opzionale)"}),h.jsx(oi,{children:h.jsx(Ir,{placeholder:"+39 123 456 7890",...P})}),h.jsx(Ei,{})]})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:"Logo (opzionale)"}),h.jsxs("div",{className:"flex items-center gap-4",children:[g.watch("logo")&&h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:g.watch("logo"),alt:"Logo",className:"w-16 h-16 object-cover rounded-lg border border-gray-200 dark:border-gray-700"}),h.jsx(ht,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:()=>g.setValue("logo",""),children:"×"})]}),h.jsxs(ht,{type:"button",variant:"outline",onClick:()=>f.current?.click(),className:"flex items-center gap-2",children:[h.jsx(mI,{size:16}),g.watch("logo")?"Cambia Logo":"Carica Logo"]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(sw,{size:20,className:"text-indigo-500"}),"Social Media & Contatti"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(mi,{control:g.control,name:"instagram",render:({field:P})=>h.jsxs(ai,{children:[h.jsxs(si,{className:"flex items-center gap-2",children:[h.jsx(kI,{size:16,className:"text-pink-500"}),"Instagram (opzionale)"]}),h.jsx(oi,{children:h.jsx(Ir,{placeholder:"@nomeutente o URL completo",...P})}),h.jsx(Ei,{})]})}),h.jsx(mi,{control:g.control,name:"facebook",render:({field:P})=>h.jsxs(ai,{children:[h.jsxs(si,{className:"flex items-center gap-2",children:[h.jsx(xI,{size:16,className:"text-blue-600"}),"Facebook (opzionale)"]}),h.jsx(oi,{children:h.jsx(Ir,{placeholder:"Nome pagina o URL completo",...P})}),h.jsx(Ei,{})]})})]}),h.jsx(mi,{control:g.control,name:"website",render:({field:P})=>h.jsxs(ai,{children:[h.jsxs(si,{className:"flex items-center gap-2",children:[h.jsx(sw,{size:16,className:"text-green-600"}),"Sito Web (opzionale)"]}),h.jsx(oi,{children:h.jsx(Ir,{placeholder:"https://www.tuosito.com",...P})}),h.jsx(Ei,{})]})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[h.jsx(Lc,{size:20,className:"text-purple-500"}),"Impostazioni Export"]}),h.jsx(mi,{control:g.control,name:"exportPath",render:({field:P})=>h.jsxs(ai,{children:[h.jsxs(si,{className:"flex items-center gap-2",children:[h.jsx(SI,{size:16,className:"text-purple-500"}),"Cartella Export PDF (opzionale)"]}),h.jsx(oi,{children:h.jsx(Ir,{placeholder:"(default: Downloads)",...P})}),h.jsx(Ei,{}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Lascia vuoto per usare la cartella Downloads di default"})]})}),h.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[h.jsxs("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[h.jsx(lw,{size:18,className:"text-emerald-500"}),"Personalizzazione PDF"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx(mi,{control:g.control,name:"pdfLineColor",render:({field:P})=>h.jsxs(ai,{children:[h.jsxs(si,{className:"flex items-center gap-2",children:[h.jsx(lw,{size:14,className:"text-emerald-500"}),"Colore Linee PDF"]}),h.jsx(oi,{children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ir,{type:"color",...P,className:"w-16 h-10 p-1 rounded border cursor-pointer"}),h.jsx(Ir,{type:"text",placeholder:"#000000",...P,className:"flex-1"})]})}),h.jsx(Ei,{}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Colore delle linee e dei bordi nei PDF esportati"})]})}),h.jsx(mi,{control:g.control,name:"pdfTextColor",render:({field:P})=>h.jsxs(ai,{children:[h.jsxs(si,{className:"flex items-center gap-2",children:[h.jsx(cw,{size:14,className:"text-emerald-500"}),"Colore Titoli PDF"]}),h.jsx(oi,{children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ir,{type:"color",...P,className:"w-16 h-10 p-1 rounded border cursor-pointer"}),h.jsx(Ir,{type:"text",placeholder:"#4F46E5",...P,className:"flex-1"})]})}),h.jsx(Ei,{}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Colore dei titoli delle sezioni nei PDF (DESCRIZIONE, PROGRESSIONE SETTIMANALE, ecc.)"})]})})]}),h.jsxs("div",{className:"mt-4 space-y-4",children:[h.jsx(mi,{control:g.control,name:"useWorkoutNameAsTitle",render:({field:P})=>h.jsxs(ai,{className:"flex flex-row items-center justify-between rounded-lg border p-4 space-y-0",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsxs(si,{className:"flex items-center gap-2",children:[h.jsx(cw,{size:14,className:"text-purple-500"}),"Usa Nome Scheda come Titolo"]}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:'Se attivato, usa il nome della scheda al posto di "SCHEDA DI ALLENAMENTO" nei PDF'})]}),h.jsx(oi,{children:h.jsx(M1,{checked:P.value,onCheckedChange:P.onChange})})]})}),h.jsx(mi,{control:g.control,name:"showWatermark",render:({field:P})=>h.jsxs(ai,{className:"flex flex-row items-center justify-between rounded-lg border p-4 space-y-0",children:[h.jsxs("div",{className:"space-y-0.5",children:[h.jsxs(si,{className:"flex items-center gap-2",children:[P.value?h.jsx(mp,{size:14,className:"text-blue-500"}):h.jsx(rN,{size:14,className:"text-gray-400"}),'Scritta "Generato con EasyWorkout Planner"']}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Mostra/nascondi la piccola scritta in basso nei PDF"})]}),h.jsx(oi,{children:h.jsx(M1,{checked:P.value,onCheckedChange:P.onChange})})]})})]})]})]}),h.jsx(mi,{control:g.control,name:"bio",render:({field:P})=>h.jsxs(ai,{children:[h.jsx(si,{children:"Biografia (opzionale)"}),h.jsx(oi,{children:h.jsx(Co,{placeholder:"Scrivi qualcosa su di te...",rows:4,...P})}),h.jsx(Ei,{})]})}),h.jsxs(ht,{type:"submit",disabled:r.isPending||n.isPending,className:"w-full md:w-auto bg-gradient-primary hover:opacity-90 transition-opacity",children:[h.jsx(Yh,{className:"mr-2",size:16}),"Salva Profilo"]})]})})})]}),h.jsxs(xa,{className:"glass-effect rounded-2xl animate-fade-in",children:[h.jsx(wl,{children:h.jsx(Sl,{children:"Gestione Dati"})}),h.jsxs(wa,{className:"space-y-6",children:[m&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.workoutsCount}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Schede"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.clientsCount}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Clienti"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:m.exerciseGlossaryCount}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Esercizi"})]}),h.jsx("div",{className:"text-center",children:h.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:m.lastBackup?`Ultimo backup: ${m.lastBackup.toLocaleDateString("it-IT")}`:"Nessun backup"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsx(ht,{onClick:N,className:"h-auto p-6 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/30 dark:to-teal-900/30 border border-emerald-200 dark:border-emerald-700 hover:from-emerald-100 hover:to-teal-100 dark:hover:from-emerald-800/40 dark:hover:to-teal-800/40 text-left justify-start min-h-[100px] w-full",variant:"ghost",children:h.jsxs("div",{className:"flex items-center w-full",children:[h.jsx(Dc,{className:"text-emerald-500 mr-4",size:24}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-base",children:"Esporta Backup"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Salva tutti i dati"})]})]})}),h.jsx(ht,{onClick:()=>d.current?.click(),className:"h-auto p-6 bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 border border-indigo-200 dark:border-indigo-700 hover:from-indigo-100 hover:to-purple-100 dark:hover:from-indigo-800/40 dark:hover:to-purple-800/40 text-left justify-start min-h-[100px] w-full",variant:"ghost",children:h.jsxs("div",{className:"flex items-center w-full",children:[h.jsx(Dy,{className:"text-indigo-500 mr-4",size:24}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-base",children:"Importa Backup"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ripristina da file"})]})]})}),h.jsx(ht,{onClick:async()=>{if(!o("coach-settings")){u(!0);return}if(window.confirm("Il backup remoto verrà reimpiazzato con i dati attuali, è consigliato prima caricare i dati dal cloud. Procedere?"))try{await yn.exportToSupabaseStorage();const P=await yn.getBackupStats();y(P),i({title:"Caricato in cloud",description:"Backup remoto aggiornato."})}catch{i({title:"Errore",description:"Impossibile caricare in cloud",variant:"destructive"})}},className:"h-auto p-6 text-left justify-start rounded-xl relative bg-sky-100 dark:bg-sky-900/30 border-2 border-yellow-500 hover:bg-sky-200 dark:hover:bg-sky-800/40 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 min-h-[100px] w-full",variant:"ghost",children:h.jsxs("div",{className:"flex items-center w-full",children:[h.jsx(Dy,{className:"text-sky-700 dark:text-sky-300 mr-4",size:24}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-base",children:"Carica in Cloud"}),h.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Sostituisci i dati nel cloud"})]})]})}),h.jsx(ht,{onClick:async()=>{if(!o("coach-settings")){u(!0);return}if(window.confirm("I dati locali verranno completamente sostituiti con quelli dal cloud. Procedere?"))try{await yn.mergeFromSupabaseStorage();const P=await yn.getBackupStats();y(P),i({title:"Dati sostituiti",description:"Dati locali sostituiti con quelli del cloud."}),setTimeout(()=>window.location.reload(),500)}catch{i({title:"Errore",description:"Impossibile caricare dal cloud",variant:"destructive"})}},className:"h-auto p-6 text-left justify-start rounded-xl relative bg-sky-100 dark:bg-sky-900/30 border-2 border-yellow-500 hover:bg-sky-200 dark:hover:bg-sky-800/40 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 min-h-[100px] w-full",variant:"ghost",children:h.jsxs("div",{className:"flex items-center w-full",children:[h.jsx(Dc,{className:"text-sky-700 dark:text-sky-300 mr-4",size:24}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-900 dark:text-white text-base",children:"Carica dal Cloud"}),h.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300",children:"Importa i dati remoti"})]})]})}),h.jsx(ht,{onClick:T,className:"h-auto p-6 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-900/30 dark:to-pink-900/30 border border-red-200 dark:border-red-700 hover:from-red-100 hover:to-pink-100 dark:hover:from-red-800/40 dark:hover:to-pink-800/40 text-left justify-start min-h-[100px] w-full",variant:"ghost",children:h.jsxs("div",{className:"flex items-center w-full",children:[h.jsx(If,{className:"text-red-500 mr-4",size:24}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-base",children:"Cancella Tutto"}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Rimuovi tutti i dati"})]})]})})]})]})]})]}),h.jsx("input",{ref:d,type:"file",accept:".json",onChange:P=>{const R=P.target.files?.[0];R&&E(R)},className:"hidden"}),h.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:P=>{const R=P.target.files?.[0];R&&_(R)},className:"hidden"})]})}function kG(){const[t,e]=D.useState([]),[r,n]=D.useState(!0),[i,a]=D.useState(!1),[o,l]=D.useState({name:"",description:"",images:[]}),[u,d]=D.useState(!1),[f,m]=D.useState(null),[y,g]=D.useState(!1),[k,_]=D.useState(!1),[N,E]=D.useState(null),{toast:T}=gs(),P=D.useRef(null),R=async()=>{n(!0);try{const U=await qn.getAllExerciseGlossary();e(U)}catch(U){console.error("Errore nel caricamento degli esercizi:",U),T({title:"Errore",description:"Impossibile caricare il glossario esercizi",variant:"destructive"})}finally{n(!1)}};D.useEffect(()=>{R()},[]);const M=U=>{U?(l(U),d(!0)):(l({name:"",description:"",images:[]}),d(!1)),a(!0)},Q=()=>{a(!1),l({name:"",description:"",images:[]})},K=async U=>{try{const W=await NP(U,800,600);l(Y=>({...Y,images:[...Y.images||[],W]})),T({title:"Immagine caricata",description:"L'immagine è stata aggiunta all'esercizio"})}catch(W){T({title:"Errore",description:W instanceof Error?W.message:"Impossibile caricare l'immagine",variant:"destructive"})}},G=U=>{l(W=>({...W,images:(W.images||[]).filter((Y,be)=>be!==U)}))},H=async()=>{if(!o.name){T({title:"Errore",description:"Il nome dell'esercizio è obbligatorio",variant:"destructive"});return}try{if(u&&o.id)await qn.updateExerciseGlossary(o.id,o),T({title:"Esercizio aggiornato",description:`L'esercizio "${o.name}" è stato aggiornato`});else{const U={...o,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date};await qn.createExerciseGlossary(U),T({title:"Esercizio creato",description:`L'esercizio "${U.name}" è stato creato`})}Q(),R()}catch(U){console.error("Errore nel salvataggio dell'esercizio:",U),T({title:"Errore",description:"Impossibile salvare l'esercizio",variant:"destructive"})}},oe=async U=>{try{await qn.deleteExerciseGlossary(U),T({title:"Esercizio eliminato",description:"L'esercizio è stato eliminato con successo"}),R()}catch(W){console.error("Errore nell'eliminazione dell'esercizio:",W),T({title:"Errore",description:"Impossibile eliminare l'esercizio",variant:"destructive"})}},z=async(U=!1)=>{if(t.length===0)return T({title:"Nessun esercizio",description:"Non ci sono esercizi nel glossario da esportare",variant:"destructive"}),null;try{const W=new sr;let Y=20;const be=await qn.getCoachProfile(),he=be?.pdfTextColor||"#4F46E5",ge=be?.pdfLineColor||"#000000",ie=W.internal.pageSize.getWidth(),ve=ee=>{const ne=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(ee);return ne?{r:parseInt(ne[1],16),g:parseInt(ne[2],16),b:parseInt(ne[3],16)}:{r:0,g:0,b:0}},_e=ve(he);if(be?.logo)try{const ne=(ie-30)/2;W.addImage(be.logo,"JPEG",ne,Y,30,30),Y+=40}catch(ee){console.warn("Logo non aggiunto al PDF:",ee)}W.setFontSize(22),W.setTextColor(_e.r,_e.g,_e.b),W.text("GLOSSARIO ESERCIZI",ie/2,Y,{align:"center"}),Y+=15,be?.name&&(W.setFontSize(12),W.setTextColor(100,100,100),W.text(be.name,ie/2,Y,{align:"center"}),Y+=15);for(const ee of t)if(PE(W,{startY:Y,head:[[ee.name]],body:[[ee.description||"Nessuna descrizione"]],theme:"grid",styles:{fontSize:10,cellPadding:5,halign:"left",valign:"top"},headStyles:{fillColor:[ve(ge).r,ve(ge).g,ve(ge).b],textColor:255,fontSize:12},margin:{left:20,right:20}}),Y=W.lastAutoTable.finalY+10,ee.images&&ee.images.length>0){let ne=25,le=Y;const we=40,me=40;for(const Ie of ee.images){ne+we>ie-25&&(ne=25,le+=me+10),le+me>W.internal.pageSize.getHeight()-30&&(W.addPage(),le=20);try{W.addImage(Ie,"JPEG",ne,le,we,me)}catch(Se){console.error("Errore aggiunta immagine PDF:",Se)}ne+=we+10}Y=le+me+15}const te=()=>{const ne=W.internal.pageSize.getHeight()-15;if(be){W.setFont("helvetica","normal"),W.setFontSize(8),W.setTextColor(100,100,100);let le=[];if(be.email&&le.push(`Email: ${be.email}`),be.phone&&le.push(`Tel: ${be.phone}`),be.instagram){const we=be.instagram.startsWith("@")||be.instagram.startsWith("http")?be.instagram:`@${be.instagram}`;le.push(`Instagram: ${we}`)}if(be.website){const we=be.website.startsWith("http")?be.website:`https://${be.website}`;le.push(`Web: ${we}`)}le.length>0&&W.text(le.join(" | "),ie/2,ne,{align:"center"}),be?.showWatermark!==!1&&(W.setFont("helvetica","italic"),W.setFontSize(15),W.setTextColor(150,150,150),W.text("Generato con EasyWorkout Planner",65,ne+7))}},O=W.getNumberOfPages();for(let ee=1;ee<=O;ee++)W.setPage(ee),te();if(U){const ee=W.output("blob"),ne=URL.createObjectURL(ee);return window.open(ne,"_blank"),ne}else return W.save("Glossario_Esercizi.pdf"),T({title:"PDF generato",description:"Il glossario esercizi è stato esportato in PDF"}),null}catch(W){return console.error("Errore generazione PDF:",W),T({title:"Errore",description:"Impossibile generare il PDF",variant:"destructive"}),null}};return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("div",{className:"flex space-x-2",children:h.jsxs("div",{className:"flex gap-2 w-full overflow-x-auto",children:[h.jsx(ht,{onClick:()=>z(!0),variant:"outline",className:"flex items-center gap-2 w-full",children:"Anteprima"}),h.jsxs(ht,{onClick:()=>z(!1),variant:"outline",className:"flex items-center gap-2 w-full",children:[h.jsx(Dc,{size:16}),"Esporta PDF"]}),h.jsxs(ht,{onClick:()=>M(),className:"bg-gradient-primary hover:opacity-90 transition-opacity w-full",children:[h.jsx(Os,{className:"mr-2",size:16}),"Nuovo Esercizio"]})]})})}),r?h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{children:"Caricamento..."})}):t.length===0?h.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-xl",children:[h.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Nessun esercizio nel glossario"}),h.jsxs(ht,{onClick:()=>M(),variant:"outline",className:"bg-white dark:bg-gray-800",children:[h.jsx(Os,{className:"mr-2",size:16}),"Aggiungi il primo esercizio"]})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(U=>h.jsxs(xa,{className:"overflow-hidden hover:shadow-md transition-shadow",children:[h.jsx(wl,{className:"p-4 pb-2",children:h.jsxs(Sl,{className:"text-lg flex justify-between items-center",children:[h.jsx("span",{className:"truncate",children:U.name}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsx(ht,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-500",onClick:()=>M(U),children:h.jsx(jf,{size:16})}),h.jsx(ht,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500",onClick:()=>{E(U),_(!0)},children:h.jsx(If,{size:16})})]})]})}),h.jsxs(wa,{className:"p-4 pt-2",children:[U.description&&h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:U.description.length>70?U.description.slice(0,58)+"...":U.description}),U.images&&U.images.length>0&&h.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[U.images.slice(0,3).map((W,Y)=>h.jsx("div",{className:"relative w-16 h-16 rounded overflow-hidden bg-gray-100 dark:bg-gray-800",children:h.jsx("img",{src:W,alt:`${U.name} - immagine ${Y+1}`,className:"w-full h-full object-cover"})},Y)),U.images.length>3&&h.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-gray-100 dark:bg-gray-800 rounded",children:h.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["+",U.images.length-3]})})]})]})]},U.id))}),h.jsx(Fs,{open:k,onOpenChange:_,children:h.jsxs(hs,{className:"sm:max-w-md",children:[h.jsx(ps,{children:h.jsx(ms,{children:"Elimina esercizio"})}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:['Sei sicuro di voler eliminare "',N?.name,'"? Questa azione non può essere annullata.']}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx(ht,{type:"button",variant:"outline",onClick:()=>{_(!1),E(null)},className:"flex-1",children:"Annulla"}),h.jsx(ht,{type:"button",variant:"destructive",onClick:async()=>{N?.id&&await oe(N.id),_(!1),E(null)},className:"flex-1",children:"Elimina"})]})]})}),h.jsx(Fs,{open:i,onOpenChange:a,children:h.jsxs(hs,{className:"sm:max-w-[600px]",children:[h.jsx(ps,{children:h.jsx(ms,{children:u?"Modifica Esercizio":"Nuovo Esercizio"})}),h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Nome Esercizio *"}),h.jsx(Ir,{value:o.name||"",onChange:U=>l({...o,name:U.target.value}),placeholder:"Nome dell'esercizio"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Descrizione"}),h.jsx(Co,{value:o.description||"",onChange:U=>l({...o,description:U.target.value}),placeholder:"Descrizione dell'esercizio",rows:4})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Immagini"}),o.images&&o.images.length>0?h.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:o.images.map((U,W)=>h.jsxs("div",{className:"relative rounded overflow-hidden bg-gray-100 dark:bg-gray-800 aspect-square",children:[h.jsx("img",{src:U,alt:`Immagine ${W+1}`,className:"w-full h-full object-cover"}),h.jsx(ht,{variant:"destructive",size:"sm",className:"absolute top-1 right-1 h-6 w-6 p-0 rounded-full",onClick:()=>G(W),children:h.jsx(gp,{size:12})})]},W))}):h.jsx("div",{className:"text-center p-8 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg mb-4",children:h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:"Nessuna immagine caricata"})}),h.jsxs(ht,{type:"button",variant:"outline",onClick:()=>P.current?.click(),className:"w-full py-2 flex items-center justify-center gap-2",children:[h.jsx(_I,{size:16}),"Aggiungi Immagine"]}),h.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:U=>{const W=U.target.files?.[0];W&&(K(W),U.target.value="")},className:"hidden"})]})]}),h.jsxs(bl,{children:[h.jsx(ht,{variant:"outline",onClick:Q,children:"Annulla"}),h.jsxs(ht,{onClick:H,className:"bg-gradient-primary hover:opacity-90 transition-opacity",children:[h.jsx(Yh,{className:"mr-2",size:16}),u?"Aggiorna":"Salva"]})]})]})}),h.jsx(Fs,{open:y,onOpenChange:U=>{g(U),!U&&f&&(URL.revokeObjectURL(f),m(""))},children:h.jsxs(hs,{className:"max-w-5xl max-h-[90vh] h-[90vh] overflow-hidden",children:[h.jsx(ps,{children:h.jsx(ms,{children:"Anteprima Glossario Esercizi"})}),h.jsx("div",{className:"flex-1 h-full overflow-hidden",children:f&&h.jsx("iframe",{src:f,className:"w-full h-[calc(90vh-120px)]",title:"Anteprima PDF"})}),h.jsxs(bl,{children:[h.jsxs(ht,{onClick:()=>{if(f){const U=document.createElement("a");U.href=f,U.download="Glossario_Esercizi.pdf",document.body.appendChild(U),U.click(),document.body.removeChild(U)}},className:"bg-gradient-primary hover:opacity-90 transition-opacity",children:[h.jsx(Dc,{className:"mr-2",size:16}),"Scarica PDF"]}),h.jsx(ht,{variant:"outline",onClick:()=>g(!1),children:"Chiudi"})]})]})})]})}function NG(){return h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-mobile-nav",children:[h.jsxs("div",{className:"mb-8 md:mb-12",children:[h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Glossario Esercizi"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg md:text-xl",children:"Gestisci e organizza il tuo catalogo di esercizi"})]}),h.jsx("div",{className:"space-y-8 lg:space-y-12",children:h.jsx(kG,{})})]})}function CG(){const[,t]=Fg(),{toast:e}=gs(),[r,n]=D.useState(""),[i,a]=D.useState(!1);D.useEffect(()=>{(async()=>{const{data:{session:u}}=await Fi.auth.getSession();u||(e({title:"Sessione scaduta o non valida",description:"Per favore, riprova il processo di reimpostazione della password.",variant:"destructive"}),t("/login"))})()},[t,e]);const o=async l=>{if(l.preventDefault(),!r||r.length<6){e({title:"Password troppo corta",description:"Inserisci almeno 6 caratteri",variant:"destructive"});return}a(!0);try{const{error:u}=await Fi.auth.updateUser({password:r});if(u)throw u;e({title:"Password aggiornata",description:"Puoi ora accedere con la nuova password"}),t("/")}catch(u){console.error("Errore durante l'aggiornamento della password:",u),e({title:"Errore",description:u?.message||"Impossibile aggiornare la password",variant:"destructive"})}finally{a(!1)}};return h.jsxs("div",{className:"container max-w-md mx-auto mt-10 p-6",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Reimposta Password"}),h.jsxs("form",{onSubmit:o,className:"space-y-4",children:[h.jsx(Ir,{type:"password",placeholder:"Nuova password",value:r,onChange:l=>n(l.target.value),required:!0}),h.jsx(ht,{type:"submit",className:"w-full",disabled:i,children:i?"Aggiornamento...":"Salva nuova password"})]})]})}function AG(){return h.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:h.jsx(xa,{className:"w-full max-w-md mx-4",children:h.jsxs(wa,{className:"pt-6",children:[h.jsxs("div",{className:"flex mb-4 gap-2",children:[h.jsx(vI,{className:"h-8 w-8 text-red-500"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),h.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function EG(){return h.jsxs(Oj,{children:[h.jsx(su,{path:"/",component:VH}),h.jsx(su,{path:"/workouts",component:lG}),h.jsx(su,{path:"/workout/:id",component:pG}),h.jsx(su,{path:"/clients",component:mG}),h.jsx(su,{path:"/exercise-glossary",component:NG}),h.jsx(su,{path:"/settings",component:_G}),h.jsx(su,{path:"/reset-password",component:CG}),h.jsx(su,{component:AG})]})}function PG(){return h.jsx(n6,{client:v6,children:h.jsx(rL,{children:h.jsx(GN,{children:h.jsx(v8,{children:h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-indigo-900 transition-all duration-500 overflow-x-hidden",children:[h.jsx(w8,{}),h.jsx("main",{className:"container mx-auto pb-24 md:pb-6 px-4 md:px-0",children:h.jsx(EG,{})}),h.jsx(_8,{}),h.jsx(pT,{})]})})})})})}pj.createRoot(document.getElementById("root")).render(h.jsx(PG,{}));export{SM as _,aj as c,dp as g};
